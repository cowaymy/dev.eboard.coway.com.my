{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\thread-loader\\dist\\cjs.js!D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\extrust\\eboard\\src\\store\\index.js","dependencies":[{"path":"D:\\extrust\\eboard\\src\\store\\index.js","mtime":1686213353423},{"path":"D:\\extrust\\eboard\\babel.config.js","mtime":1639533184000},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1689230669007},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\eslint-loader\\index.js","mtime":1689230670675}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEF1dGhGcm9tQ29va2llLCBnZXRVc2VyRnJvbUNvb2tpZSwgc2F2ZUF1dGhUb0Nvb2tpZSwgc2F2ZVVzZXJUb0Nvb2tpZSwgZGVsZXRlQ29va2llIH0gZnJvbSAnLi4vdXRpbHMvY29va2llcy5qcyc7CmltcG9ydCB1c2VyQXBpIGZyb20gJy4uL2FwaS9pbmRleCc7IC8vaW1wb3J0IHVzZXJJbmZvIGZyb20gJ0AvdXRpbHMvdXNlckluZm8nOwoKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB1c2VySW5mbzogZ2V0VXNlckZyb21Db29raWUoKSB8fCB7fSwKICAgIHRva2VuOiBnZXRBdXRoRnJvbUNvb2tpZSgpIHx8ICcnLAogICAgdXNlck5hbWU6IGdldFVzZXJGcm9tQ29va2llKCkudXNlck5hbWUgfHwgJycsCiAgICBuZXdOb3RpZmlDbnQ6IDAKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4oc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLnVzZXJOYW1lICE9ICcnICYmIHN0YXRlLnVzZXJOYW1lICE9IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlOwogICAgfSAvLyBnZXRVc2VyTmlja25hbWUoc3RhdGUpIHsKICAgIC8vIAlyZXR1cm4gc3RhdGUudXNlckluZm8ubmlja25hbWU7CiAgICAvLyB9LAoKICB9LAogIG11dGF0aW9uczogewogICAgc2V0Tm90aWZpQ250OiBmdW5jdGlvbiBzZXROb3RpZmlDbnQoc3RhdGUsIGNudCkgewogICAgICBzdGF0ZS5uZXdOb3RpZmlDbnQgPSBjbnQ7CiAgICB9LAogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHN0YXRlLCB1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXI7CiAgICAgIHN0YXRlLnVzZXJOYW1lID0gdXNlci51c2VyTmFtZTsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJVc2VySW5mbzogZnVuY3Rpb24gY2xlYXJVc2VySW5mbyhzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IG51bGw7CiAgICAgIHN0YXRlLnRva2VuID0gJycsIHN0YXRlLnVzZXJOYW1lID0gJyc7CiAgICAgIGRlbGV0ZUNvb2tpZSgnYXV0aCcpOwogICAgICBkZWxldGVDb29raWUoJ3VzZXInKTsKICAgICAgc3RhdGUubmV3Tm90aWZpQ250ID0gMDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihfcmVmLCB1c2VyRGF0YSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJBcGkudXNlckxvZ2luKHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PicpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz09PT0+Jyk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VySW5mbycsIHJlc3VsdC5kYXRhLnVzZXJbMF0pOwogICAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgcmVzdWx0LmRhdGEudG9rZW4pOyAvL3NldCBjb29raWVzCgogICAgICAgICAgICAgICAgICBzYXZlQXV0aFRvQ29va2llKHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgc2F2ZVVzZXJUb0Nvb2tpZShyZXN1bHQuZGF0YS51c2VyWzBdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBHRVROT1RJRkk6IGZ1bmN0aW9uIEdFVE5PVElGSShfcmVmMiwgdXNlckRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckFwaS5nZXROZXdOb3RpZmljYXRpb24odXNlckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PicpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJz09PT0+Jyk7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXROb3RpZmlDbnQnLCByZXN1bHQuZGF0YS5kYXRhTGlzdFswXS5DTlQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["D:/extrust/eboard/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","deleteCookie","userApi","use","Store","state","userInfo","token","userName","newNotifiCnt","getters","isLogin","undefined","mutations","setNotifiCnt","cnt","setUserInfo","user","console","log","setToken","clearUserInfo","actions","LOGIN","userData","commit","userLogin","result","data","success","GETNOTIFI","getNewNotification","dataList","CNT"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport {\r\n\tgetAuthFromCookie,\r\n\tgetUserFromCookie,\r\n\tsaveAuthToCookie,\r\n\tsaveUserToCookie,\r\n\tdeleteCookie,\r\n} from '../utils/cookies.js';\r\nimport userApi from '../api/index';\r\n\r\n//import userInfo from '@/utils/userInfo';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tuserInfo: getUserFromCookie() || {},\r\n\t\ttoken: getAuthFromCookie() || '',\r\n\t\tuserName: getUserFromCookie().userName || '',\r\n\t\tnewNotifiCnt: 0,\r\n\t},\r\n\tgetters: {\r\n\t\tisLogin(state) {\r\n\t\t\tif (state.userName != '' && state.userName != undefined) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else return false;\r\n\t\t},\r\n\r\n\t\t// getUserNickname(state) {\r\n\t\t// \treturn state.userInfo.nickname;\r\n\t\t// },\r\n\t},\r\n\tmutations: {\r\n\t\tsetNotifiCnt(state, cnt) {\r\n\t\t\tstate.newNotifiCnt = cnt;\r\n\t\t},\r\n\t\tsetUserInfo(state, user) {\r\n\t\t\tconsole.log(user);\r\n\t\t\tstate.userInfo = user;\r\n\t\t\tstate.userName = user.userName;\r\n\t\t},\r\n\r\n\t\tsetToken(state, token) {\r\n\t\t\tstate.token = token;\r\n\t\t},\r\n\r\n\t\tclearUserInfo(state) {\r\n\t\t\tstate.userInfo = null;\r\n\t\t\t(state.token = ''), (state.userName = '');\r\n\t\t\tdeleteCookie('auth');\r\n\t\t\tdeleteCookie('user');\r\n\t\t\tstate.newNotifiCnt = 0;\r\n\t\t},\r\n\t},\r\n\r\n\tactions: {\r\n\t\tasync LOGIN({ commit }, userData) {\r\n\t\t\tconst result = await userApi.userLogin(userData);\r\n\t\t\tconsole.log('====>');\r\n\t\t\tconsole.log(result.data);\r\n\t\t\tconsole.log('====>');\r\n\r\n\t\t\tif (result.data.success) {\r\n\t\t\t\tcommit('setUserInfo', result.data.user[0]);\r\n\t\t\t\tcommit('setToken', result.data.token);\r\n\r\n\t\t\t\t//set cookies\r\n\t\t\t\tsaveAuthToCookie(result.data.token);\r\n\t\t\t\tsaveUserToCookie(result.data.user[0]);\r\n\t\t\t}\r\n\r\n\t\t\treturn result.data;\r\n\t\t},\r\n\r\n\t\tasync GETNOTIFI({ commit }, userData) {\r\n\t\t\tconst result = await userApi.getNewNotification(userData);\r\n\t\t\tconsole.log('====>');\r\n\t\t\tconsole.log(result.data);\r\n\t\t\tconsole.log('====>');\r\n\r\n\t\t\tif (result.data.success) {\r\n\t\t\t\tcommit('setNotifiCnt', result.data.dataList[0].CNT);\r\n\t\t\t}\r\n\r\n\t\t\treturn result.data;\r\n\t\t},\r\n\t},\r\n});\r\n"]}]}