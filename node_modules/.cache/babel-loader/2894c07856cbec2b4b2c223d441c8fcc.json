{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard.coway.com.my\\src\\store\\index.js","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\store\\index.js","mtime":1711948521332},{"path":"D:\\extrust\\eboard.coway.com.my\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmQuY293YXkuY29tLm15XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgZ2V0QXV0aEZyb21Db29raWUsIGdldFVzZXJGcm9tQ29va2llLCBzYXZlQXV0aFRvQ29va2llLCBzYXZlVXNlclRvQ29va2llLCBkZWxldGVDb29raWUgfSBmcm9tICIuLi91dGlscy9jb29raWVzLmpzIjsKaW1wb3J0IHVzZXJBcGkgZnJvbSAiLi4vYXBpL2luZGV4IjsKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOyAvL2ltcG9ydCB1c2VySW5mbyBmcm9tICdAL3V0aWxzL3VzZXJJbmZvJzsKClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlckluZm86IGdldFVzZXJGcm9tQ29va2llKCkgfHwge30sCiAgICB0b2tlbjogZ2V0QXV0aEZyb21Db29raWUoKSB8fCAiIiwKICAgIHVzZXJOYW1lOiBnZXRVc2VyRnJvbUNvb2tpZSgpLnVzZXJOYW1lIHx8ICIiLAogICAgbWVtdUxpc3Q6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS51c2VyTmFtZSAhPSAiIiAmJiBzdGF0ZS51c2VyTmFtZSAhPSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgIH0gLy8gZ2V0VXNlck5pY2tuYW1lKHN0YXRlKSB7CiAgICAvLyAJcmV0dXJuIHN0YXRlLnVzZXJJbmZvLm5pY2tuYW1lOwogICAgLy8gfSwKCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXI7CiAgICAgIHN0YXRlLnVzZXJOYW1lID0gdXNlci51c2VyTmFtZTsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJVc2VySW5mbzogZnVuY3Rpb24gY2xlYXJVc2VySW5mbyhzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IG51bGw7CiAgICAgIHN0YXRlLnRva2VuID0gIiIsIHN0YXRlLnVzZXJOYW1lID0gIiI7CiAgICAgIGRlbGV0ZUNvb2tpZSgiYXV0aCIpOwogICAgICBkZWxldGVDb29raWUoInVzZXIiKTsKICAgICAgc3RhdGUubmV3Tm90aWZpQ250ID0gMDsKICAgIH0sCiAgICBzZXRNZW11TGlzdDogZnVuY3Rpb24gc2V0TWVtdUxpc3Qoc3RhdGUsIGxpc3QpIHsKICAgICAgdmFyIHRlbXAgPSBbXTsKICAgICAgbGlzdC5kYXRhLmRhdGFMaXN0Lm1hcChmdW5jdGlvbiAobXlzcWxPYmopIHsKICAgICAgICB2YXIgdCA9IHsKICAgICAgICAgIHRleHQ6IG15c3FsT2JqLnRleHQsCiAgICAgICAgICBjb25uZWN0X2J5X29yZGVyOiBteXNxbE9iai5jb25uZWN0X2J5X29yZGVyLAogICAgICAgICAgc3VibGlua3M6IFtdCiAgICAgICAgfTsKCiAgICAgICAgaWYgKG15c3FsT2JqLnN1YmxpbmtzID09ICIiKSB7CiAgICAgICAgICB0ZW1wLnB1c2godCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZvciAodmFyIGkgaW4gdGVtcCkgewogICAgICAgICAgICBpZiAodGVtcFtpXS5jb25uZWN0X2J5X29yZGVyID09IG15c3FsT2JqLmNvbm5lY3RfYnlfb3JkZXIpIHsKICAgICAgICAgICAgICB0ZW1wW2ldLnN1YmxpbmtzLnB1c2gobXlzcWxPYmopOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgc3RhdGUubWVtdUxpc3QgPSB0ZW1wOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgTE9HSU46IGZ1bmN0aW9uIExPR0lOKF9yZWYsIHVzZXJEYXRhKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckFwaS51c2VyTG9naW4odXNlckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0VXNlckluZm8iLCByZXN1bHQuZGF0YS51c2VyWzBdKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHJlc3VsdC5kYXRhLnRva2VuKTsgLy9zZXQgY29va2llcwoKICAgICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShyZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIHNhdmVVc2VyVG9Db29raWUocmVzdWx0LmRhdGEudXNlclswXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0LmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0TWVtdUxpc3Q6IGZ1bmN0aW9uIGdldE1lbXVMaXN0KF9yZWYyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHVzZXJJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICB1c2VySW5mbyA9IHN0b3JlLnN0YXRlLnVzZXJJbmZvOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgdXNlckFwaS5nZXRNZW51TGlzdCh1c2VySW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBjb21taXQoInNldE1lbXVMaXN0IiwgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7fSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["D:/extrust/eboard.coway.com.my/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","deleteCookie","userApi","store","use","Store","state","userInfo","token","userName","memuList","getters","isLogin","undefined","mutations","setUserInfo","user","setToken","clearUserInfo","newNotifiCnt","setMemuList","list","temp","data","dataList","map","mysqlObj","t","text","connect_by_order","sublinks","push","i","actions","LOGIN","userData","commit","userLogin","result","success","getMemuList","Promise","resolve","reject","getMenuList","then","response","catch","error","finally"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport {\n  getAuthFromCookie,\n  getUserFromCookie,\n  saveAuthToCookie,\n  saveUserToCookie,\n  deleteCookie,\n} from \"../utils/cookies.js\";\nimport userApi from \"../api/index\";\nimport store from \"@/store\";\n\n//import userInfo from '@/utils/userInfo';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    userInfo: getUserFromCookie() || {},\n    token: getAuthFromCookie() || \"\",\n    userName: getUserFromCookie().userName || \"\",\n    memuList :[]\n  },\n  getters: {\n    isLogin(state) {\n      if (state.userName != \"\" && state.userName != undefined) {\n        return true;\n      } else return false;\n    },\n\n    // getUserNickname(state) {\n    // \treturn state.userInfo.nickname;\n    // },\n  },\n  mutations: {\n    setUserInfo(state, user) {\n      state.userInfo = user;\n      state.userName = user.userName;\n    },\n\n    setToken(state, token) {\n      state.token = token;\n    },\n\n    clearUserInfo(state) {\n      state.userInfo = null;\n      (state.token = \"\"), (state.userName = \"\");\n      deleteCookie(\"auth\");\n      deleteCookie(\"user\");\n      state.newNotifiCnt = 0;\n    },\n\n    setMemuList (state, list){\n\n      var temp =[];\n      list.data.dataList.map((mysqlObj) => {\n        var t = {\n          text: mysqlObj.text,\n          connect_by_order: mysqlObj.connect_by_order,\n          sublinks: [],\n        };\n\n        if (mysqlObj.sublinks == \"\") {\n          temp.push(t);\n        } else {\n          for (var i in temp) {\n            if (temp[i].connect_by_order == mysqlObj.connect_by_order) {\n              temp[i].sublinks.push(mysqlObj);\n            }\n          }\n        }\n      });\n\n      state.memuList = temp;\n    }\n  },\n\n  actions: {\n    async LOGIN({ commit }, userData) {\n      const result = await userApi.userLogin(userData);\n      \n      if (result.data.success) {\n        commit(\"setUserInfo\", result.data.user[0]);\n        commit(\"setToken\", result.data.token);\n\n        //set cookies\n        saveAuthToCookie(result.data.token);\n        saveUserToCookie(result.data.user[0]);\n      }\n\n      return result.data;\n    },\n\n    \n    async getMemuList({ commit }) {\n      const userInfo = store.state.userInfo;\n  \n      return new Promise((resolve, reject) => {\n        userApi\n          .getMenuList(userInfo)\n          .then((response) => {\n            commit(\"setMemuList\",response);\n            resolve(response);\n          })\n          .catch((error) => reject(error))\n          .finally(() => {\n          });\n      });\n\n    },\n  },\n});\n"]}]}