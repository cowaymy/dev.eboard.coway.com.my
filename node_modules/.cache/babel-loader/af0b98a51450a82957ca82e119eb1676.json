{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard.coway.com.my\\src\\components\\appBar\\appBarNotificationStoreModule.js","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\components\\appBar\\appBarNotificationStoreModule.js","mtime":1710401907891},{"path":"D:\\extrust\\eboard.coway.com.my\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGJ1cyBmcm9tICIuLi8uLi91dGlscy9idXMuanMiOwppbXBvcnQgYmFzZUFwaSBmcm9tICIuLi8uLi9hcGkvaW5kZXguanMiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHNlbGVjdGVkSXRlbToge30sCiAgICBkYXRhSXRlbUxpc3Q6IFtdLAogICAgbmV3Tm90aWZpY2F0aW9uQ250OiAwLAogICAgaXNOZXdOb3RpZmljYXRpb246IGZhbHNlCiAgfSwKICBnZXR0ZXJzOiB7fSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9TRUxFQ1RFRF9JVEVNOiBmdW5jdGlvbiBTRVRfU0VMRUNURURfSVRFTShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnNlbGVjdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHZhbCk7CiAgICB9LAogICAgU0VUX0RBVEFfSVRFTV9MSVNUOiBmdW5jdGlvbiBTRVRfREFUQV9JVEVNX0xJU1Qoc3RhdGUsIHZhbCkgewogICAgICBzdGF0ZS5kYXRhSXRlbUxpc3QgPSB2YWw7CiAgICB9LAogICAgU0VUX0RBVEFfQ09VTlQ6IGZ1bmN0aW9uIFNFVF9EQVRBX0NPVU5UKHN0YXRlKSB7CiAgICAgIHN0YXRlLm5ld05vdGlmaWNhdGlvbkNudCA9IHN0YXRlLmRhdGFJdGVtTGlzdC5sZW5ndGg7CiAgICAgIHN0YXRlLmlzTmV3Tm90aWZpY2F0aW9uID0gc3RhdGUuZGF0YUl0ZW1MaXN0Lmxlbmd0aCA+IDA7CiAgICAgIGlmIChzdGF0ZS5kYXRhSXRlbUxpc3QubGVuZ3RoID4gMCkgc3RhdGUuaXNOZXdOb3RpZmljYXRpb24gPSB0cnVlO2Vsc2Ugc3RhdGUuaXNOZXdOb3RpZmljYXRpb24gPSBmYWxzZTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGZldGNoRXZlbnRzOiBmdW5jdGlvbiBmZXRjaEV2ZW50cyhfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgLy9zdGFydCBzcGlubmVyCiAgICAgIGJ1cy4kZW1pdCgic3RhcnQ6c3Bpbm5lciIpOwogICAgICB2YXIgdXNlckluZm8gPSBzdG9yZS5zdGF0ZS51c2VySW5mbzsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBiYXNlQXBpLmdldERldGFpbE5ld05vdGlmaWNhdGlvbih1c2VySW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhTGlzdCk7CiAgICAgICAgICBjb21taXQoIlNFVF9EQVRBX0lURU1fTElTVCIsIHJlc3BvbnNlLmRhdGEuZGF0YUxpc3QpOwogICAgICAgICAgY29tbWl0KCJTRVRfREFUQV9DT1VOVCIpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGJ1cy4kZW1pdCgiZW5kOnNwaW5uZXIiKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/extrust/eboard.coway.com.my/src/components/appBar/appBarNotificationStoreModule.js"],"names":["bus","baseApi","store","Vue","namespaced","state","selectedItem","dataItemList","newNotificationCnt","isNewNotification","getters","mutations","SET_SELECTED_ITEM","val","Object","assign","SET_DATA_ITEM_LIST","SET_DATA_COUNT","length","actions","fetchEvents","commit","$emit","userInfo","Promise","resolve","reject","getDetailNewNotification","then","response","data","dataList","catch","error","finally"],"mappings":";AAAA;AACA,OAAOA,GAAP,MAAgB,oBAAhB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AAEbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,YAAY,EAAE,EADT;AAELC,IAAAA,YAAY,EAAE,EAFT;AAGLC,IAAAA,kBAAkB,EAAE,CAHf;AAILC,IAAAA,iBAAiB,EAAE;AAJd,GAFM;AAQbC,EAAAA,OAAO,EAAE,EARI;AASbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,iBADS,6BACSP,KADT,EACgBQ,GADhB,EACqB;AAC5BR,MAAAA,KAAK,CAACC,YAAN,GAAqBQ,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBF,GAAlB,CAArB;AACD,KAHQ;AAKTG,IAAAA,kBALS,8BAKUX,KALV,EAKiBQ,GALjB,EAKsB;AAC7BR,MAAAA,KAAK,CAACE,YAAN,GAAqBM,GAArB;AACD,KAPQ;AASTI,IAAAA,cATS,0BASMZ,KATN,EASa;AACpBA,MAAAA,KAAK,CAACG,kBAAN,GAA2BH,KAAK,CAACE,YAAN,CAAmBW,MAA9C;AACAb,MAAAA,KAAK,CAACI,iBAAN,GAA0BJ,KAAK,CAACE,YAAN,CAAmBW,MAAnB,GAA4B,CAAtD;AAEA,UAAIb,KAAK,CAACE,YAAN,CAAmBW,MAAnB,GAA4B,CAAhC,EAAoCb,KAAK,CAACI,iBAAN,GAA0B,IAA1B,CAApC,KACKJ,KAAK,CAACI,iBAAN,GAA0B,KAA1B;AACN;AAfQ,GATE;AA0BbU,EAAAA,OAAO,EAAE;AACPC,IAAAA,WADO,6BACiB;AAAA,UAAVC,MAAU,QAAVA,MAAU;AACtB;AACArB,MAAAA,GAAG,CAACsB,KAAJ,CAAU,eAAV;AAEA,UAAMC,QAAQ,GAAGrB,KAAK,CAACG,KAAN,CAAYkB,QAA7B;AACA,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCzB,QAAAA,OAAO,CACJ0B,wBADH,CAC4BJ,QAD5B,EAEGK,IAFH,CAEQ,UAACC,QAAD,EAAc;AAClB;AACAR,UAAAA,MAAM,CAAC,oBAAD,EAAuBQ,QAAQ,CAACC,IAAT,CAAcC,QAArC,CAAN;AACAV,UAAAA,MAAM,CAAC,gBAAD,CAAN;AACAI,UAAAA,OAAO,CAACI,QAAD,CAAP;AACD,SAPH,EAQGG,KARH,CAQS,UAACC,KAAD;AAAA,iBAAWP,MAAM,CAACO,KAAD,CAAjB;AAAA,SART,EASGC,OATH,CASW,YAAM;AACblC,UAAAA,GAAG,CAACsB,KAAJ,CAAU,aAAV;AACD,SAXH;AAYD,OAbM,CAAP;AAcD;AApBM;AA1BI,CAAf","sourcesContent":["//import axios from 'axios';\nimport bus from \"../../utils/bus.js\";\nimport baseApi from \"../../api/index.js\";\nimport store from \"@/store\";\nimport Vue from \"vue\";\n\nexport default {\n  namespaced: true,\n  state: {\n    selectedItem: {},\n    dataItemList: [],\n    newNotificationCnt: 0,\n    isNewNotification: false,\n  },\n  getters: {},\n  mutations: {\n    SET_SELECTED_ITEM(state, val) {\n      state.selectedItem = Object.assign({}, val);\n    },\n\n    SET_DATA_ITEM_LIST(state, val) {\n      state.dataItemList = val;\n    },\n\n    SET_DATA_COUNT(state) {\n      state.newNotificationCnt = state.dataItemList.length;\n      state.isNewNotification = state.dataItemList.length > 0;\n\n      if (state.dataItemList.length > 0 ) state.isNewNotification = true ;\n      else state.isNewNotification = false ;\n    },\n  },\n  actions: {\n    fetchEvents({ commit }) {\n      //start spinner\n      bus.$emit(\"start:spinner\");\n\n      const userInfo = store.state.userInfo;\n      return new Promise((resolve, reject) => {\n        baseApi\n          .getDetailNewNotification(userInfo)\n          .then((response) => {\n            //console.log(response.data.dataList);\n            commit(\"SET_DATA_ITEM_LIST\", response.data.dataList);\n            commit(\"SET_DATA_COUNT\");\n            resolve(response);\n          })\n          .catch((error) => reject(error))\n          .finally(() => {\n            bus.$emit(\"end:spinner\");\n          });\n      });\n    },\n  },\n};\n"]}]}