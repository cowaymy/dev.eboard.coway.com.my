{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard.coway.com.my\\src\\store\\index.js","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\store\\index.js","mtime":1709258483409},{"path":"D:\\extrust\\eboard.coway.com.my\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmQuY293YXkuY29tLm15XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBWdWV4IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRBdXRoRnJvbUNvb2tpZSwgZ2V0VXNlckZyb21Db29raWUsIHNhdmVBdXRoVG9Db29raWUsIHNhdmVVc2VyVG9Db29raWUsIGRlbGV0ZUNvb2tpZSB9IGZyb20gIi4uL3V0aWxzL2Nvb2tpZXMuanMiOwppbXBvcnQgdXNlckFwaSBmcm9tICIuLi9hcGkvaW5kZXgiOyAvL2ltcG9ydCB1c2VySW5mbyBmcm9tICdAL3V0aWxzL3VzZXJJbmZvJzsKClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlckluZm86IGdldFVzZXJGcm9tQ29va2llKCkgfHwge30sCiAgICB0b2tlbjogZ2V0QXV0aEZyb21Db29raWUoKSB8fCAiIiwKICAgIHVzZXJOYW1lOiBnZXRVc2VyRnJvbUNvb2tpZSgpLnVzZXJOYW1lIHx8ICIiCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKHN0YXRlKSB7CiAgICAgIGlmIChzdGF0ZS51c2VyTmFtZSAhPSAiIiAmJiBzdGF0ZS51c2VyTmFtZSAhPSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTsKICAgIH0gLy8gZ2V0VXNlck5pY2tuYW1lKHN0YXRlKSB7CiAgICAvLyAJcmV0dXJuIHN0YXRlLnVzZXJJbmZvLm5pY2tuYW1lOwogICAgLy8gfSwKCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJJbmZvOiBmdW5jdGlvbiBzZXRVc2VySW5mbyhzdGF0ZSwgdXNlcikgewogICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgc3RhdGUudXNlckluZm8gPSB1c2VyOwogICAgICBzdGF0ZS51c2VyTmFtZSA9IHVzZXIudXNlck5hbWU7CiAgICB9LAogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIGNsZWFyVXNlckluZm86IGZ1bmN0aW9uIGNsZWFyVXNlckluZm8oc3RhdGUpIHsKICAgICAgc3RhdGUudXNlckluZm8gPSBudWxsOwogICAgICBzdGF0ZS50b2tlbiA9ICIiLCBzdGF0ZS51c2VyTmFtZSA9ICIiOwogICAgICBkZWxldGVDb29raWUoImF1dGgiKTsKICAgICAgZGVsZXRlQ29va2llKCJ1c2VyIik7CiAgICAgIHN0YXRlLm5ld05vdGlmaUNudCA9IDA7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBMT0dJTjogZnVuY3Rpb24gTE9HSU4oX3JlZiwgdXNlckRhdGEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQXBpLnVzZXJMb2dpbih1c2VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiPT09PT4iKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PiIpOwoKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgic2V0VXNlckluZm8iLCByZXN1bHQuZGF0YS51c2VyWzBdKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRUb2tlbiIsIHJlc3VsdC5kYXRhLnRva2VuKTsgLy9zZXQgY29va2llcwoKICAgICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShyZXN1bHQuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgIHNhdmVVc2VyVG9Db29raWUocmVzdWx0LmRhdGEudXNlclswXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0LmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["D:/extrust/eboard.coway.com.my/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","deleteCookie","userApi","use","Store","state","userInfo","token","userName","getters","isLogin","undefined","mutations","setUserInfo","user","console","log","setToken","clearUserInfo","newNotifiCnt","actions","LOGIN","userData","commit","userLogin","result","data","success"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACEC,iBADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,gBAJF,EAKEC,YALF,QAMO,qBANP;AAOA,OAAOC,OAAP,MAAoB,cAApB,C,CAEA;;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACQ,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAER,iBAAiB,MAAM,EAD5B;AAELS,IAAAA,KAAK,EAAEV,iBAAiB,MAAM,EAFzB;AAGLW,IAAAA,QAAQ,EAAEV,iBAAiB,GAAGU,QAApB,IAAgC;AAHrC,GADqB;AAM5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCL,KADD,EACQ;AACb,UAAIA,KAAK,CAACG,QAAN,IAAkB,EAAlB,IAAwBH,KAAK,CAACG,QAAN,IAAkBG,SAA9C,EAAyD;AACvD,eAAO,IAAP;AACD,OAFD,MAEO,OAAO,KAAP;AACR,KALM,CAOP;AACA;AACA;;AATO,GANmB;AAiB5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGR,KADH,EACUS,IADV,EACgB;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAT,MAAAA,KAAK,CAACC,QAAN,GAAiBQ,IAAjB;AACAT,MAAAA,KAAK,CAACG,QAAN,GAAiBM,IAAI,CAACN,QAAtB;AACD,KALQ;AAOTS,IAAAA,QAPS,oBAOAZ,KAPA,EAOOE,KAPP,EAOc;AACrBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACD,KATQ;AAWTW,IAAAA,aAXS,yBAWKb,KAXL,EAWY;AACnBA,MAAAA,KAAK,CAACC,QAAN,GAAiB,IAAjB;AACCD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAf,EAAqBF,KAAK,CAACG,QAAN,GAAiB,EAAtC;AACAP,MAAAA,YAAY,CAAC,MAAD,CAAZ;AACAA,MAAAA,YAAY,CAAC,MAAD,CAAZ;AACAI,MAAAA,KAAK,CAACc,YAAN,GAAqB,CAArB;AACD;AAjBQ,GAjBiB;AAqC5BC,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACiBC,QADjB,EAC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,MAAoB,QAApBA,MAAoB;AAAA;AAAA,uBACXrB,OAAO,CAACsB,SAAR,CAAkBF,QAAlB,CADW;;AAAA;AAC1BG,gBAAAA,MAD0B;AAEhCV,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAYS,MAAM,CAACC,IAAnB;AACAX,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAEA,oBAAIS,MAAM,CAACC,IAAP,CAAYC,OAAhB,EAAyB;AACvBJ,kBAAAA,MAAM,CAAC,aAAD,EAAgBE,MAAM,CAACC,IAAP,CAAYZ,IAAZ,CAAiB,CAAjB,CAAhB,CAAN;AACAS,kBAAAA,MAAM,CAAC,UAAD,EAAaE,MAAM,CAACC,IAAP,CAAYnB,KAAzB,CAAN,CAFuB,CAIvB;;AACAR,kBAAAA,gBAAgB,CAAC0B,MAAM,CAACC,IAAP,CAAYnB,KAAb,CAAhB;AACAP,kBAAAA,gBAAgB,CAACyB,MAAM,CAACC,IAAP,CAAYZ,IAAZ,CAAiB,CAAjB,CAAD,CAAhB;AACD;;AAb+B,iDAezBW,MAAM,CAACC,IAfkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBjC;AAjBM;AArCmB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport {\n  getAuthFromCookie,\n  getUserFromCookie,\n  saveAuthToCookie,\n  saveUserToCookie,\n  deleteCookie,\n} from \"../utils/cookies.js\";\nimport userApi from \"../api/index\";\n\n//import userInfo from '@/utils/userInfo';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    userInfo: getUserFromCookie() || {},\n    token: getAuthFromCookie() || \"\",\n    userName: getUserFromCookie().userName || \"\",\n  },\n  getters: {\n    isLogin(state) {\n      if (state.userName != \"\" && state.userName != undefined) {\n        return true;\n      } else return false;\n    },\n\n    // getUserNickname(state) {\n    // \treturn state.userInfo.nickname;\n    // },\n  },\n  mutations: {\n    setUserInfo(state, user) {\n      console.log(user);\n      state.userInfo = user;\n      state.userName = user.userName;\n    },\n\n    setToken(state, token) {\n      state.token = token;\n    },\n\n    clearUserInfo(state) {\n      state.userInfo = null;\n      (state.token = \"\"), (state.userName = \"\");\n      deleteCookie(\"auth\");\n      deleteCookie(\"user\");\n      state.newNotifiCnt = 0;\n    },\n  },\n\n  actions: {\n    async LOGIN({ commit }, userData) {\n      const result = await userApi.userLogin(userData);\n      console.log(\"====>\");\n      console.log(result.data);\n      console.log(\"====>\");\n\n      if (result.data.success) {\n        commit(\"setUserInfo\", result.data.user[0]);\n        commit(\"setToken\", result.data.token);\n\n        //set cookies\n        saveAuthToCookie(result.data.token);\n        saveUserToCookie(result.data.user[0]);\n      }\n\n      return result.data;\n    },\n  },\n});\n"]}]}