{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard.coway.com.my\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\extrust\\eboard.coway.com.my\\src\\api\\interceptors.js","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\api\\interceptors.js","mtime":1711508475678},{"path":"D:\\extrust\\eboard.coway.com.my\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\eslint-loader\\index.js","mtime":1689230670675}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7CmltcG9ydCBUb2FzdGVkIGZyb20gInZ1ZS10b2FzdGVkIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwpWdWUudXNlKFRvYXN0ZWQpOwpleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7CiAgdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTAogIH0pOwogIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAvLyBEbyBzb21ldGhpbmcgYmVmb3JlIHJlcXVlc3QgaXMgc2VudAogICAgLy8g7Yag7YGw6rCSIOyEpOyglSDtlZzri6QuIHNldCB0b2tlbgogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHN0b3JlLnN0YXRlLnRva2VuOwogICAgcmV0dXJuIGNvbmZpZzsKICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfSk7IC8vIEFkZCBhIHJlc3BvbnNlIGludGVyY2VwdG9yCgogIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAvLyBBbnkgc3RhdHVzIGNvZGUgdGhhdCBsaWUgd2l0aGluIHRoZSByYW5nZSBvZiAyeHggY2F1c2UgdGhpcyBmdW5jdGlvbiB0byB0cmlnZ2VyCiAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBkYXRhCiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAvLyBBbnkgc3RhdHVzIGNvZGVzIHRoYXQgZmFsbHMgb3V0c2lkZSB0aGUgcmFuZ2Ugb2YgMnh4IGNhdXNlIHRoaXMgZnVuY3Rpb24gdG8gdHJpZ2dlcgogICAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVzcG9uc2UgZXJyb3IKICAgIFZ1ZS50b2FzdGVkLmVycm9yKCJUaGVyZSBpcyBhbiBBUEkgaXNzdWUgWyIgKyBlcnJvciArICJdIiwgewogICAgICBpY29uOiAiZXJyb3IiLAogICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgIGFjdGlvbjogewogICAgICAgIHRleHQ6ICJDbG9zZSIsCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlLCB0b2FzdE9iamVjdCkgewogICAgICAgICAgdG9hc3RPYmplY3QuZ29Bd2F5KDApOwogICAgICAgIH0KICAgICAgfQogICAgfSkuZ29Bd2F5KDM1MDApOyAvL3JldHVybiBQcm9taXNlLnJlamVjdCgnMScpOwogIH0pOwogIHJldHVybiBpbnN0YW5jZTsKfQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlUlBUSW5zdGFuY2UoKSB7CiAgdmFyIGluc3RhbmNlID0gYXhpb3MuY3JlYXRlKHsKICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LkVUUlVTVF9SRVBPUlRfVVJMLAogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgIH0KICB9KTsKICByZXR1cm4gaW5zdGFuY2U7Cn0KZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZpbGVEd25JbnN0YW5jZSgpIHsKICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfQkFTRV9VUkwsCiAgICAvLwogICAgcmVzcG9uc2VUeXBlOiAnYmxvYicKICB9KTsKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogICAgLy8gRG8gc29tZXRoaW5nIGJlZm9yZSByZXF1ZXN0IGlzIHNlbnQKICAgIC8vIO2GoO2BsOqwkiDshKTsoJUg7ZWc64ukLiBzZXQgdG9rZW4KICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBzdG9yZS5zdGF0ZS50b2tlbjsKICAgIHJldHVybiBjb25maWc7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0pOyAvLyBBZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvcgoKICBpbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgLy8gQW55IHN0YXR1cyBjb2RlIHRoYXQgbGllIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgMnh4IGNhdXNlIHRoaXMgZnVuY3Rpb24gdG8gdHJpZ2dlcgogICAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVzcG9uc2UgZGF0YQogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgLy8gQW55IHN0YXR1cyBjb2RlcyB0aGF0IGZhbGxzIG91dHNpZGUgdGhlIHJhbmdlIG9mIDJ4eCBjYXVzZSB0aGlzIGZ1bmN0aW9uIHRvIHRyaWdnZXIKICAgIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlc3BvbnNlIGVycm9yCiAgICBWdWUudG9hc3RlZC5lcnJvcigiVGhlcmUgaXMgYW4gQVBJIGlzc3VlIFsiICsgZXJyb3IgKyAiXSIsIHsKICAgICAgaWNvbjogImVycm9yIiwKICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICBhY3Rpb246IHsKICAgICAgICB0ZXh0OiAiQ2xvc2UiLAogICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSwgdG9hc3RPYmplY3QpIHsKICAgICAgICAgIHRvYXN0T2JqZWN0LmdvQXdheSgwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pLmdvQXdheSgzNTAwKTsgLy9yZXR1cm4gUHJvbWlzZS5yZWplY3QoJzEnKTsKICB9KTsKICByZXR1cm4gaW5zdGFuY2U7Cn0="},{"version":3,"sources":["D:/extrust/eboard.coway.com.my/src/api/interceptors.js"],"names":["axios","store","Toasted","Vue","use","createInstance","instance","create","baseURL","process","env","VUE_APP_API_URL","interceptors","request","config","headers","Authorization","state","token","error","Promise","reject","response","toasted","icon","position","action","text","onClick","e","toastObject","goAway","createRPTInstance","ETRUST_REPORT_URL","createFileDwnInstance","VUE_APP_API_BASE_URL","responseType"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport store from \"../store\";\nimport Toasted from \"vue-toasted\";\nimport Vue from \"vue\";\n\nVue.use(Toasted);\n\nexport function createInstance() {\n  const instance = axios.create({\n      baseURL: process.env.VUE_APP_API_URL,\n  });\n\n  instance.interceptors.request.use(\n    function (config) {\n      // Do something before request is sent\n      // 토큰값 설정 한다. set token\n      config.headers.Authorization = store.state.token;\n\n      return config;\n    },\n    function (error) {\n      // Do something with request error\n      return Promise.reject(error);\n    }\n  );\n\n  // Add a response interceptor\n  instance.interceptors.response.use(\n    function (response) {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      return response;\n    },\n    function (error) {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n\n      Vue.toasted\n        .error(\"There is an API issue [\" + error + \"]\", {\n          icon: \"error\",\n          position: \"bottom-right\",\n          action: {\n            text: \"Close\",\n            onClick: (e, toastObject) => {\n              toastObject.goAway(0);\n            },\n          },\n        })\n        .goAway(3500);\n\n      //return Promise.reject('1');\n    }\n  );\n\n  return instance;\n}\n\nexport function createRPTInstance() {\n  const instance = axios.create({\n    baseURL:process.env.ETRUST_REPORT_URL, \n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    },\n  });\n\n  return instance;\n}\n\n\nexport function createFileDwnInstance() {\n  const instance = axios.create({\n    baseURL: process.env.VUE_APP_API_BASE_URL , //\n    responseType: 'blob'\n  });\n\n  instance.interceptors.request.use(\n    function (config) {\n      // Do something before request is sent\n      // 토큰값 설정 한다. set token\n      config.headers.Authorization = store.state.token;\n\n      return config;\n    },\n    function (error) {\n      // Do something with request error\n      return Promise.reject(error);\n    }\n  );\n\n  // Add a response interceptor\n  instance.interceptors.response.use(\n    function (response) {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      return response;\n    },\n    function (error) {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n\n      Vue.toasted\n        .error(\"There is an API issue [\" + error + \"]\", {\n          icon: \"error\",\n          position: \"bottom-right\",\n          action: {\n            text: \"Close\",\n            onClick: (e, toastObject) => {\n              toastObject.goAway(0);\n            },\n          },\n        })\n        .goAway(3500);\n\n      //return Promise.reject('1');\n    }\n  );\n\n  return instance;\n}"]}]}