{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard.coway.com.my\\src\\views\\comm\\AttendScanQRCode.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\views\\comm\\AttendScanQRCode.vue","mtime":1709258483419},{"path":"D:\\extrust\\eboard.coway.com.my\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmQuY293YXkuY29tLm15XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRpQ2xvc2UsIG1kaUNoZWNrQm9sZCwgbWRpQ2hlY2tEZWNhZ3JhbU91dGxpbmUgfSBmcm9tICJAbWRpL2pzIjsKaW1wb3J0IHsgUXJjb2RlU3RyZWFtIH0gZnJvbSAidnVlLXFyY29kZS1yZWFkZXIiOwppbXBvcnQgYnVzIGZyb20gIi4uLy4uL3V0aWxzL2J1cy5qcyI7CmltcG9ydCB7IGdldE1vbnRoTmFtZSwgZ2V0RGF0ZSB9IGZyb20gIi4uLy4uL3V0aWxzL3ZhbGlkYXRpb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUXJjb2RlU3RyZWFtOiBRcmNvZGVTdHJlYW0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBpY29uCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQ2xvc2U6IG1kaUNsb3NlCiAgICAgIH0sCiAgICAgIGlzVmFsaWQ6IHVuZGVmaW5lZCwKICAgICAgY2FtZXJhOiAiYXV0byIsCiAgICAgIHJlc3VsdDogbnVsbCwKICAgICAgbW9udGg6IGdldE1vbnRoTmFtZSgpLAogICAgICBuZGF0ZTogZ2V0RGF0ZSgpLAogICAgICBtZGlDaGVja0JvbGQ6IG1kaUNoZWNrQm9sZCwKICAgICAgbWRpQ2hlY2tEZWNhZ3JhbU91dGxpbmU6IG1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbGlkYXRpb25QZW5kaW5nOiBmdW5jdGlvbiB2YWxpZGF0aW9uUGVuZGluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA9PT0gdW5kZWZpbmVkICYmIHRoaXMuY2FtZXJhID09PSAib2ZmIjsKICAgIH0sCiAgICB2YWxpZGF0aW9uU3VjY2VzczogZnVuY3Rpb24gdmFsaWRhdGlvblN1Y2Nlc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPT09IHRydWU7CiAgICB9LAogICAgdmFsaWRhdGlvbkZhaWx1cmU6IGZ1bmN0aW9uIHZhbGlkYXRpb25GYWlsdXJlKCkgewogICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID09PSBmYWxzZTsKICAgIH0sCiAgICBpc0NhbWVyYU9uOiBmdW5jdGlvbiBpc0NhbWVyYU9uKCkgewogICAgICByZXR1cm4gdGhpcy5jYW1lcmEgIT0gImNsb3NlIjsKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjb25zb2xlLmluZm8oIi0tLS0tLS0g66mU7J24IO2OmOydtOyngCDslYTsm4Psi5wgLS0tLS0tLS0tLS0tLS0tLS0tLS0iKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uSW5pdDogZnVuY3Rpb24gb25Jbml0KHByb21pc2UpIHsKICAgICAgcHJvbWlzZS5jYXRjaChjb25zb2xlLmVycm9yKS50aGVuKHRoaXMucmVzZXRWYWxpZGF0aW9uU3RhdGUpOwogICAgfSwKICAgIHJlc2V0VmFsaWRhdGlvblN0YXRlOiBmdW5jdGlvbiByZXNldFZhbGlkYXRpb25TdGF0ZSgpIHsKICAgICAgdGhpcy5pc1ZhbGlkID0gdW5kZWZpbmVkOwogICAgfSwKICAgIG9uRGVjb2RlOiBmdW5jdGlvbiBvbkRlY29kZShjb250ZW50KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLnJlc3VsdCA9IGNvbnRlbnQ7CgogICAgICAgICAgICAgICAgX3RoaXMudHVybkNhbWVyYU9mZigpOyAvL3RoaXMuaXNWYWxpZCA9IGNvbnRlbnQuc3RhcnRzV2l0aCgnaHR0cCcpOwogICAgICAgICAgICAgICAgLy8gcHJldGVuZCBpdCdzIHRha2luZyByZWFsbHkgbG9uZwogICAgICAgICAgICAgICAgLy9hd2FpdCB0aGlzLnRpbWVvdXQoMTAwMCk7CiAgICAgICAgICAgICAgICAvLyBzb21lIG1vcmUgZGVsYXksIHNvIHVzZXJzIGhhdmUgdGltZSB0byByZWFkIHRoZSBtZXNzYWdlCiAgICAgICAgICAgICAgICAvL2F3YWl0IHRoaXMudGltZW91dCgxMDApOwogICAgICAgICAgICAgICAgLy9zdGFydCBzcGlubmVyCiAgICAgICAgICAgICAgICAvL2J1cy4kZW1pdCgnc3RhcnQ6c3Bpbm5lcicpOwoKCiAgICAgICAgICAgICAgICBfdGhpcy5nZXRMb2NhdGlvbkluZm8oY29udGVudCk7IC8vdGhpcy50b1Bhc3NSb3V0ZXIoY29udGVudCk7CgoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdHVybkNhbWVyYU9uOiBmdW5jdGlvbiB0dXJuQ2FtZXJhT24oKSB7CiAgICAgIHRoaXMuY2FtZXJhID0gImF1dG8iOwogICAgfSwKICAgIHR1cm5DYW1lcmFPZmY6IGZ1bmN0aW9uIHR1cm5DYW1lcmFPZmYoKSB7CiAgICAgIHRoaXMuY2FtZXJhID0gIm9mZiI7CiAgICB9LAogICAgdGltZW91dDogZnVuY3Rpb24gdGltZW91dChtcykgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChyZXNvbHZlLCBtcyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldExvY2F0aW9uSW5mbzogZnVuY3Rpb24gZ2V0TG9jYXRpb25JbmZvKGNvbnRlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvLyAiZ2V0TG9jYXRpb25JbmZvIuuKlCByZWFjdC1uYXRpdmXsl5DshJwg67Cb64qUIOuplOyEnOuTnCDsnbTrpoTsnoXri4jri6QuCiAgICAgIHdpbmRvdy53ZWJWaWV3QnJpZGdlLnNlbmQoImdldExvY2F0aW9uSW5mbyIsICIiLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHJlcyk7IC8vYnVzLiRlbWl0KCdlbmQ6c3Bpbm5lcicpOwoKICAgICAgICBfdGhpczIudG9QYXNzUm91dGVyKGNvbnRlbnQpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgYWxlcnQoIm5hdGl2ZSBlcnJyOjo6OiIsIGVyci50b1N0cmluZygpKTsKICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIHRvUGFzc1JvdXRlcjogZnVuY3Rpb24gdG9QYXNzUm91dGVyKGNvbnRlbnQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJBdHRlbmRTY2FuUVJSZXN1bHQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgc2NhbmRhdGE6IGNvbnRlbnQsCiAgICAgICAgICBncHNJbmZvOiB0aGlzLnJlc3VsdAogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AttendScanQRCode.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"\">\n    <div class=\"auth-inner\">\n      <v-card class=\"auth-card\">\n        <v-card-title class=\"d-flex align-center justify-center py-7\">\n          <qrcode-stream @decode=\"onDecode\" @init=\"onInit\">\n            <div v-if=\"validationSuccess\" class=\"validation-success\">\n              The attendance check is complete.\n            </div>\n\n            <div v-if=\"validationFailure\" class=\"validation-failure\">\n              This is NOT a URL!\n            </div>\n\n            <div v-if=\"validationPending\" class=\"validation-pending\">\n              Long validation in progress...\n            </div>\n          </qrcode-stream>\n        </v-card-title>\n\n        <v-card-text class=\"d-flex align-center mt-5\">\n          <v-avatar\n            size=\"54\"\n            rounded\n            color=\"primary\"\n            class=\"v-avatar-light-bg primary--text mt-1\"\n          >\n            <div>\n              <span class=\"font-weight-medium\">\n                {{ month }}\n              </span>\n              <p class=\"text-xl primary--text font-weight-bold mb-0\">\n                {{ ndate }}\n              </p>\n            </div>\n          </v-avatar>\n\n          <div class=\"ms-3\">\n            <h4 class=\"text-base font-weight-semibold\">\n              {{ this.$store.state.userInfo.userName }}\n            </h4>\n            <p class=\"text-xs mb-0\">Please scan QRcode in the sales office</p>\n          </div>\n        </v-card-text>\n\n        <v-card-text>\n          <v-divider></v-divider>\n        </v-card-text>\n\n        <template v-if=\"validationSuccess\">\n          <v-card-text class=\"d-flex align-center mt-5\">\n            <v-avatar size=\"54\" rounded>\n              <v-icon size=\"30\" color=\"success\"> {{ mdiCheckBold }} </v-icon>\n            </v-avatar>\n\n            <div class=\"ms-3\">\n              <p class=\"text-xs mb-0\">{{ result }}</p>\n            </div>\n          </v-card-text>\n        </template>\n        <template v-if=\"validationFailure\">\n          <v-card-text class=\"d-flex align-center mt-5\">\n            <v-avatar size=\"54\" rounded>\n              <v-icon size=\"30\" color=\"error\">\n                {{ mdiCheckDecagramOutline }}\n              </v-icon>\n            </v-avatar>\n\n            <div class=\"ms-3\">\n              <p class=\"text-xs mb-0\">{{ result }}</p>\n            </div>\n          </v-card-text>\n        </template>\n      </v-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mdiClose, mdiCheckBold, mdiCheckDecagramOutline } from \"@mdi/js\";\n\nimport { QrcodeStream } from \"vue-qrcode-reader\";\nimport bus from \"../../utils/bus.js\";\nimport { getMonthName, getDate } from \"../../utils/validation\";\n\nexport default {\n  components: { QrcodeStream },\n  data() {\n    return {\n      // icon\n      icons: {\n        mdiClose,\n      },\n      isValid: undefined,\n      camera: \"auto\",\n      result: null,\n      month: getMonthName(),\n      ndate: getDate(),\n      mdiCheckBold,\n      mdiCheckDecagramOutline,\n    };\n  },\n\n  computed: {\n    validationPending() {\n      return this.isValid === undefined && this.camera === \"off\";\n    },\n\n    validationSuccess() {\n      return this.isValid === true;\n    },\n\n    validationFailure() {\n      return this.isValid === false;\n    },\n\n    isCameraOn() {\n      return this.camera != \"close\";\n    },\n  },\n\n  beforeDestroy() {\n    console.info(\"------- 메인 페이지 아웃시 --------------------\");\n  },\n\n  methods: {\n    onInit(promise) {\n      promise.catch(console.error).then(this.resetValidationState);\n    },\n\n    resetValidationState() {\n      this.isValid = undefined;\n    },\n\n    async onDecode(content) {\n      this.result = content;\n      this.turnCameraOff();\n      //this.isValid = content.startsWith('http');\n\n      // pretend it's taking really long\n      //await this.timeout(1000);\n\n      // some more delay, so users have time to read the message\n      //await this.timeout(100);\n\n      //start spinner\n      //bus.$emit('start:spinner');\n      this.getLocationInfo(content);\n      //this.toPassRouter(content);\n    },\n\n    turnCameraOn() {\n      this.camera = \"auto\";\n    },\n\n    turnCameraOff() {\n      this.camera = \"off\";\n    },\n\n    timeout(ms) {\n      return new Promise((resolve) => {\n        window.setTimeout(resolve, ms);\n      });\n    },\n\n    getLocationInfo(content) {\n      // \"getLocationInfo\"는 react-native에서 받는 메서드 이름입니다.\n      window.webViewBridge.send(\n        \"getLocationInfo\",\n        \"\",\n        (res) => {\n          this.result = JSON.stringify(res);\n          //bus.$emit('end:spinner');\n          this.toPassRouter(content);\n        },\n        (err) => {\n          alert(\"native errr::::\", err.toString());\n          console.error(err);\n        }\n      );\n    },\n\n    toPassRouter(content) {\n      this.$router.push({\n        name: \"AttendScanQRResult\",\n        params: { scandata: content, gpsInfo: this.result },\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@core/preset/preset/pages/auth.scss\";\n#camera {\n  text-align: center;\n  color: #2c3e50;\n}\n#video {\n  background-color: #000000;\n}\n#canvas {\n  display: none;\n}\nli {\n  display: inline;\n  padding: 5px;\n}\n.validation-success,\n.validation-failure,\n.validation-pending {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  background-color: rgba(255, 255, 255, 0.8);\n  text-align: center;\n  font-weight: bold;\n  font-size: 1.4rem;\n  padding: 10px;\n\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n}\n.validation-success {\n  color: green;\n}\n.validation-failure {\n  color: red;\n}\n</style>\n"],"sourceRoot":"src/views/comm"}]}