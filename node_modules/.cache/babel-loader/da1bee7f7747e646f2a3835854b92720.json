{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\thread-loader\\dist\\cjs.js!D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\extrust\\eboard\\src\\store\\index.js","dependencies":[{"path":"D:\\extrust\\eboard\\src\\store\\index.js","mtime":1709258483409},{"path":"D:\\extrust\\eboard\\babel.config.js","mtime":1707983434823},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1689230669007},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\eslint-loader\\index.js","mtime":1689230670675}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCB7IGdldEF1dGhGcm9tQ29va2llLCBnZXRVc2VyRnJvbUNvb2tpZSwgc2F2ZUF1dGhUb0Nvb2tpZSwgc2F2ZVVzZXJUb0Nvb2tpZSwgZGVsZXRlQ29va2llIH0gZnJvbSAiLi4vdXRpbHMvY29va2llcy5qcyI7CmltcG9ydCB1c2VyQXBpIGZyb20gIi4uL2FwaS9pbmRleCI7IC8vaW1wb3J0IHVzZXJJbmZvIGZyb20gJ0AvdXRpbHMvdXNlckluZm8nOwoKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB1c2VySW5mbzogZ2V0VXNlckZyb21Db29raWUoKSB8fCB7fSwKICAgIHRva2VuOiBnZXRBdXRoRnJvbUNvb2tpZSgpIHx8ICIiLAogICAgdXNlck5hbWU6IGdldFVzZXJGcm9tQ29va2llKCkudXNlck5hbWUgfHwgIiIKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4oc3RhdGUpIHsKICAgICAgaWYgKHN0YXRlLnVzZXJOYW1lICE9ICIiICYmIHN0YXRlLnVzZXJOYW1lICE9IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgcmV0dXJuIGZhbHNlOwogICAgfSAvLyBnZXRVc2VyTmlja25hbWUoc3RhdGUpIHsKICAgIC8vIAlyZXR1cm4gc3RhdGUudXNlckluZm8ubmlja25hbWU7CiAgICAvLyB9LAoKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHN0YXRlLCB1c2VyKSB7CiAgICAgIGNvbnNvbGUubG9nKHVzZXIpOwogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXI7CiAgICAgIHN0YXRlLnVzZXJOYW1lID0gdXNlci51c2VyTmFtZTsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJVc2VySW5mbzogZnVuY3Rpb24gY2xlYXJVc2VySW5mbyhzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IG51bGw7CiAgICAgIHN0YXRlLnRva2VuID0gIiIsIHN0YXRlLnVzZXJOYW1lID0gIiI7CiAgICAgIGRlbGV0ZUNvb2tpZSgiYXV0aCIpOwogICAgICBkZWxldGVDb29raWUoInVzZXIiKTsKICAgICAgc3RhdGUubmV3Tm90aWZpQ250ID0gMDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiBMT0dJTihfcmVmLCB1c2VyRGF0YSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJBcGkudXNlckxvZ2luKHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCI9PT09PiIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIj09PT0+Iik7CgogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJzZXRVc2VySW5mbyIsIHJlc3VsdC5kYXRhLnVzZXJbMF0pOwogICAgICAgICAgICAgICAgICBjb21taXQoInNldFRva2VuIiwgcmVzdWx0LmRhdGEudG9rZW4pOyAvL3NldCBjb29raWVzCgogICAgICAgICAgICAgICAgICBzYXZlQXV0aFRvQ29va2llKHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgc2F2ZVVzZXJUb0Nvb2tpZShyZXN1bHQuZGF0YS51c2VyWzBdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQuZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["D:/extrust/eboard/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","deleteCookie","userApi","use","Store","state","userInfo","token","userName","getters","isLogin","undefined","mutations","setUserInfo","user","console","log","setToken","clearUserInfo","newNotifiCnt","actions","LOGIN","userData","commit","userLogin","result","data","success"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACEC,iBADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,gBAJF,EAKEC,YALF,QAMO,qBANP;AAOA,OAAOC,OAAP,MAAoB,cAApB,C,CAEA;;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACQ,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAER,iBAAiB,MAAM,EAD5B;AAELS,IAAAA,KAAK,EAAEV,iBAAiB,MAAM,EAFzB;AAGLW,IAAAA,QAAQ,EAAEV,iBAAiB,GAAGU,QAApB,IAAgC;AAHrC,GADqB;AAM5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,OADO,mBACCL,KADD,EACQ;AACb,UAAIA,KAAK,CAACG,QAAN,IAAkB,EAAlB,IAAwBH,KAAK,CAACG,QAAN,IAAkBG,SAA9C,EAAyD;AACvD,eAAO,IAAP;AACD,OAFD,MAEO,OAAO,KAAP;AACR,KALM,CAOP;AACA;AACA;;AATO,GANmB;AAiB5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,WADS,uBACGR,KADH,EACUS,IADV,EACgB;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAT,MAAAA,KAAK,CAACC,QAAN,GAAiBQ,IAAjB;AACAT,MAAAA,KAAK,CAACG,QAAN,GAAiBM,IAAI,CAACN,QAAtB;AACD,KALQ;AAOTS,IAAAA,QAPS,oBAOAZ,KAPA,EAOOE,KAPP,EAOc;AACrBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACD,KATQ;AAWTW,IAAAA,aAXS,yBAWKb,KAXL,EAWY;AACnBA,MAAAA,KAAK,CAACC,QAAN,GAAiB,IAAjB;AACCD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAf,EAAqBF,KAAK,CAACG,QAAN,GAAiB,EAAtC;AACAP,MAAAA,YAAY,CAAC,MAAD,CAAZ;AACAA,MAAAA,YAAY,CAAC,MAAD,CAAZ;AACAI,MAAAA,KAAK,CAACc,YAAN,GAAqB,CAArB;AACD;AAjBQ,GAjBiB;AAqC5BC,EAAAA,OAAO,EAAE;AACDC,IAAAA,KADC,uBACiBC,QADjB,EAC2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAApBC,gBAAAA,MAAoB,QAApBA,MAAoB;AAAA;AAAA,uBACXrB,OAAO,CAACsB,SAAR,CAAkBF,QAAlB,CADW;;AAAA;AAC1BG,gBAAAA,MAD0B;AAEhCV,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAYS,MAAM,CAACC,IAAnB;AACAX,gBAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;;AAEA,oBAAIS,MAAM,CAACC,IAAP,CAAYC,OAAhB,EAAyB;AACvBJ,kBAAAA,MAAM,CAAC,aAAD,EAAgBE,MAAM,CAACC,IAAP,CAAYZ,IAAZ,CAAiB,CAAjB,CAAhB,CAAN;AACAS,kBAAAA,MAAM,CAAC,UAAD,EAAaE,MAAM,CAACC,IAAP,CAAYnB,KAAzB,CAAN,CAFuB,CAIvB;;AACAR,kBAAAA,gBAAgB,CAAC0B,MAAM,CAACC,IAAP,CAAYnB,KAAb,CAAhB;AACAP,kBAAAA,gBAAgB,CAACyB,MAAM,CAACC,IAAP,CAAYZ,IAAZ,CAAiB,CAAjB,CAAD,CAAhB;AACD;;AAb+B,iDAezBW,MAAM,CAACC,IAfkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBjC;AAjBM;AArCmB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport {\n  getAuthFromCookie,\n  getUserFromCookie,\n  saveAuthToCookie,\n  saveUserToCookie,\n  deleteCookie,\n} from \"../utils/cookies.js\";\nimport userApi from \"../api/index\";\n\n//import userInfo from '@/utils/userInfo';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    userInfo: getUserFromCookie() || {},\n    token: getAuthFromCookie() || \"\",\n    userName: getUserFromCookie().userName || \"\",\n  },\n  getters: {\n    isLogin(state) {\n      if (state.userName != \"\" && state.userName != undefined) {\n        return true;\n      } else return false;\n    },\n\n    // getUserNickname(state) {\n    // \treturn state.userInfo.nickname;\n    // },\n  },\n  mutations: {\n    setUserInfo(state, user) {\n      console.log(user);\n      state.userInfo = user;\n      state.userName = user.userName;\n    },\n\n    setToken(state, token) {\n      state.token = token;\n    },\n\n    clearUserInfo(state) {\n      state.userInfo = null;\n      (state.token = \"\"), (state.userName = \"\");\n      deleteCookie(\"auth\");\n      deleteCookie(\"user\");\n      state.newNotifiCnt = 0;\n    },\n  },\n\n  actions: {\n    async LOGIN({ commit }, userData) {\n      const result = await userApi.userLogin(userData);\n      console.log(\"====>\");\n      console.log(result.data);\n      console.log(\"====>\");\n\n      if (result.data.success) {\n        commit(\"setUserInfo\", result.data.user[0]);\n        commit(\"setToken\", result.data.token);\n\n        //set cookies\n        saveAuthToCookie(result.data.token);\n        saveUserToCookie(result.data.user[0]);\n      }\n\n      return result.data;\n    },\n  },\n});\n"]}]}