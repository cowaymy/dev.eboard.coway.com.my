{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js!D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\components\\appBar\\AppBarNotification.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\components\\appBar\\AppBarNotification.vue","mtime":1684230986508},{"path":"D:\\extrust\\eboard\\babel.config.js","mtime":1639533184000},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxleHRydXN0XFxlYm9hcmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1kaUJlbGxPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBiYXNlQXBpIGZyb20gJy4uLy4uL2FwaS9pbmRleC5qcyc7IC8vIDNyZCBQYXJ0eQoKaW1wb3J0IHsgUGVyZmVjdFNjcm9sbGJhciB9IGZyb20gJ3Z1ZTItcGVyZmVjdC1zY3JvbGxiYXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUGVyZmVjdFNjcm9sbGJhcjogUGVyZmVjdFNjcm9sbGJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBwZXJmZWN0U2Nyb2xsYmFyT3B0aW9ucyA9IHsKICAgICAgbWF4U2Nyb2xsYmFyTGVuZ3RoOiA2MCwKICAgICAgd2hlZWxQcm9wYWdhdGlvbjogZmFsc2UKICAgIH07CiAgICB2YXIgbm90aWZpY2F0aW9uc0RhdGEgPSBbXTsKICAgIHJldHVybiB7CiAgICAgIG5vdGlmaWNhdGlvbnNEYXRhOiBub3RpZmljYXRpb25zRGF0YSwKICAgICAgcGVyZmVjdFNjcm9sbGJhck9wdGlvbnM6IHBlcmZlY3RTY3JvbGxiYXJPcHRpb25zLAogICAgICBpY29uczogewogICAgICAgIG1kaUJlbGxPdXRsaW5lOiBtZGlCZWxsT3V0bGluZQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2FsbEFwaURldGFpbE5ld05vdGlmaWNhdGlvbjogZnVuY3Rpb24gY2FsbEFwaURldGFpbE5ld05vdGlmaWNhdGlvbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXJJbmZvLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgdXNlckluZm8gPSBfdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm87CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBiYXNlQXBpLmdldERldGFpbE5ld05vdGlmaWNhdGlvbih1c2VySW5mbyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMCwgOF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VHlwZUNsYXNzOiBmdW5jdGlvbiBnZXRUeXBlQ2xhc3ModmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlID09ICdFJyA/ICd2LWF2YXRhci1saWdodC1iZyBlcnJvci0tdGV4dCBqdXN0aWZ5LWNlbnRlcicgOiAndi1hdmF0YXItbGlnaHQtYmcgcHJpbWFyeS0tdGV4dCBqdXN0aWZ5LWNlbnRlcic7CiAgICB9LAogICAgc2V0TGltaXRUZXh0OiBmdW5jdGlvbiBzZXRMaW1pdFRleHQodHlwZSwgdmFsdWUpIHsKICAgICAgdmFyIHJ0blZhbHVlID0gJyc7CgogICAgICBpZiAodHlwZSA9PSAnVCcpIHsKICAgICAgICBydG5WYWx1ZSA9IHZhbHVlLmxlbmd0aCA+IDIwID8gdmFsdWUuc3Vic3RyaW5nKDAsIDIwKSArICcgLi4uJyA6IHZhbHVlOwogICAgICB9CgogICAgICBpZiAodHlwZSA9PSAnUycpIHsKICAgICAgICBydG5WYWx1ZSA9IHZhbHVlLmxlbmd0aCA+IDQwID8gdmFsdWUuc3Vic3RyaW5nKDAsIDQwKSArICcgLi4uJyA6IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gcnRuVmFsdWU7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgey8vIHRoaXMuY2FsbEFwaURldGFpbE5ld05vdGlmaWNhdGlvbigpLnRoZW4ocmVxdWVzdCA9PiB7CiAgICAvLyAJdGhpcy5ub3RpZmljYXRpb25zRGF0YSA9IHJlcXVlc3QuZGF0YS5kYXRhTGlzdDsKICAgIC8vIAljb25zb2xlLmxvZyh0aGlzLm5vdGlmaWNhdGlvbnNEYXRhKTsKICAgIC8vIH0pOwogIH0KfTs="},{"version":3,"sources":["AppBarNotification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,SAAA,cAAA,QAAA,SAAA;AACA,OAAA,OAAA,MAAA,oBAAA,C,CAEA;;AACA,SAAA,gBAAA,QAAA,wBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,QAAA,uBAAA,GAAA;AACA,MAAA,kBAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA;AAFA,KAAA;AAKA,QAAA,iBAAA,GAAA,EAAA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,iBADA;AAEA,MAAA,uBAAA,EAAA,uBAFA;AAIA,MAAA,KAAA,EAAA;AAAA,QAAA,cAAA,EAAA;AAAA;AAJA,KAAA;AAMA,GAjBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,4BADA,0CACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,gBAAA,QAHA,GAGA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAHA;AAAA;AAAA,uBAIA,OAAA,CAAA,wBAAA,CAAA,QAAA,CAJA;;AAAA;AAIA,gBAAA,IAJA;AAAA,iDAKA,IALA;;AAAA;AAAA;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAVA;AAYA,IAAA,YAZA,wBAYA,KAZA,EAYA;AACA,aAAA,KAAA,IAAA,GAAA,GACA,8CADA,GAEA,gDAFA;AAGA,KAhBA;AAkBA,IAAA,YAlBA,wBAkBA,IAlBA,EAkBA,KAlBA,EAkBA;AACA,UAAA,QAAA,GAAA,EAAA;;AAEA,UAAA,IAAA,IAAA,GAAA,EAAA;AACA,QAAA,QAAA,GAAA,KAAA,CAAA,MAAA,GAAA,EAAA,GAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,MAAA,GAAA,KAAA;AACA;;AAEA,UAAA,IAAA,IAAA,GAAA,EAAA;AACA,QAAA,QAAA,GAAA,KAAA,CAAA,MAAA,GAAA,EAAA,GAAA,KAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EAAA,IAAA,MAAA,GAAA,KAAA;AACA;;AAEA,aAAA,QAAA;AACA;AA9BA,GAnBA;AAoDA,EAAA,OApDA,qBAoDA,CACA;AACA;AACA;AACA;AACA;AAzDA,CAAA","sourcesContent":["<template>\n\t<v-menu\n\t\toffset-y\n\t\tleft\n\t\tnudge-bottom=\"22\"\n\t\t:elevation=\"$vuetify.theme.dark ? 9 : 8\"\n\t\tcontent-class=\"list-style notification-menu-content\"\n\t>\n\t\t<template v-slot:activator=\"{ on, attrs }\">\n\t\t\t<template v-if=\"$store.state.newNotifiCnt != 0\">\n\t\t\t\t<v-badge\n\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t:content=\"$store.state.newNotifiCnt\"\n\t\t\t\t\toffset-x=\"10\"\n\t\t\t\t\toffset-y=\"10\"\n\t\t\t\t>\n\t\t\t\t\t<v-icon v-bind=\"attrs\" v-on=\"on\">\n\t\t\t\t\t\t{{ icons.mdiBellOutline }}\n\t\t\t\t\t</v-icon>\n\t\t\t\t</v-badge>\n\t\t\t</template>\n\t\t</template>\n\t\t<v-card class=\"app-bar-notification-content-container\">\n\t\t\t<perfect-scrollbar\n\t\t\t\tclass=\"ps-user-notifications\"\n\t\t\t\t:options=\"perfectScrollbarOptions\"\n\t\t\t>\n\t\t\t\t<v-list class=\"py-0\">\n\t\t\t\t\t<!-- Header -->\n\t\t\t\t\t<v-list-item class=\"d-flex\" link>\n\t\t\t\t\t\t<div class=\"d-flex align-center justify-space-between flex-grow-1\">\n\t\t\t\t\t\t\t<span class=\"font-weight-semibold\">Notifications</span>\n\t\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\t\tclass=\"v-chip-light-bg primary--text font-weight-semibold\"\n\t\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ $store.state.newNotifiCnt }} NEW\n\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t\t<v-divider></v-divider>\n\n\t\t\t\t\t<!-- Notifications -->\n\t\t\t\t\t<template v-for=\"(notification, index) in notificationsData\">\n\t\t\t\t\t\t<v-list-item :key=\"notification.ID\" link>\n\t\t\t\t\t\t\t<!-- Avatar -->\n\t\t\t\t\t\t\t<v-list-item-avatar\n\t\t\t\t\t\t\t\t:class=\"getTypeClass(notification.TYPE)\"\n\t\t\t\t\t\t\t\tsize=\"38\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-tooltip top>\n\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"#2A3B4D\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"getTypeClass(notification.TYPE)\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\n\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-lg\">{{ notification.TYPE }}</span>\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span>{{ notification.TYPE_NM }}</span>\n\t\t\t\t\t\t\t\t</v-tooltip>\n\t\t\t\t\t\t\t</v-list-item-avatar>\n\n\t\t\t\t\t\t\t<!-- Content -->\n\t\t\t\t\t\t\t<v-list-item-content class=\"d-block\">\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"text-sm font-weight-semibold\">\n\t\t\t\t\t\t\t\t\t{{ setLimitText('T', notification.SUBJECT) }}\n\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t<v-list-item-subtitle class=\"text-sm\">\n\t\t\t\t\t\t\t\t\t{{ setLimitText('S', notification.CONTENTS) }}\n\t\t\t\t\t\t\t\t</v-list-item-subtitle>\n\t\t\t\t\t\t\t</v-list-item-content>\n\n\t\t\t\t\t\t\t<!-- Item Action/Time -->\n\t\t\t\t\t\t\t<v-list-item-action>\n\t\t\t\t\t\t\t\t<span class=\"text--secondary text-xs\">{{\n\t\t\t\t\t\t\t\t\tnotification.STD_DATE\n\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t</v-list-item-action>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t<v-divider :key=\"index\"></v-divider>\n\t\t\t\t\t</template>\n\t\t\t\t\t<router-link to=\"/NotificationList\">\n\t\t\t\t\t\t<v-list-item key=\"read-all-btn\" class=\"read-all-btn-list-item\">\n\t\t\t\t\t\t\t<v-btn block color=\"primary\"> Read All Notifications </v-btn>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</router-link>\n\n\t\t\t\t\t<v-divider></v-divider>\n\t\t\t\t</v-list>\n\t\t\t</perfect-scrollbar>\n\t\t</v-card>\n\t</v-menu>\n</template>\n\n<script>\nimport { mdiBellOutline } from '@mdi/js';\nimport baseApi from '../../api/index.js';\n\n// 3rd Party\nimport { PerfectScrollbar } from 'vue2-perfect-scrollbar';\n\nexport default {\n\tcomponents: {\n\t\tPerfectScrollbar,\n\t},\n\tdata() {\n\t\tconst perfectScrollbarOptions = {\n\t\t\tmaxScrollbarLength: 60,\n\t\t\twheelPropagation: false,\n\t\t};\n\n\t\tconst notificationsData = [];\n\t\treturn {\n\t\t\tnotificationsData,\n\t\t\tperfectScrollbarOptions,\n\n\t\t\ticons: { mdiBellOutline },\n\t\t};\n\t},\n\n\tmethods: {\n\t\tasync callApiDetailNewNotification() {\n\t\t\t//start spinner\n\t\t\ttry {\n\t\t\t\tconst userInfo = this.$store.state.userInfo;\n\t\t\t\tconst data = await baseApi.getDetailNewNotification(userInfo);\n\t\t\t\treturn data;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t},\n\n\t\tgetTypeClass(value) {\n\t\t\treturn value == 'E'\n\t\t\t\t? 'v-avatar-light-bg error--text justify-center'\n\t\t\t\t: 'v-avatar-light-bg primary--text justify-center';\n\t\t},\n\n\t\tsetLimitText(type, value) {\n\t\t\tlet rtnValue = '';\n\n\t\t\tif (type == 'T') {\n\t\t\t\trtnValue = value.length > 20 ? value.substring(0, 20) + ' ...' : value;\n\t\t\t}\n\n\t\t\tif (type == 'S') {\n\t\t\t\trtnValue = value.length > 40 ? value.substring(0, 40) + ' ...' : value;\n\t\t\t}\n\n\t\t\treturn rtnValue;\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// this.callApiDetailNewNotification().then(request => {\n\t\t// \tthis.notificationsData = request.data.dataList;\n\t\t// \tconsole.log(this.notificationsData);\n\t\t// });\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '~vuetify/src/styles/styles.sass';\n\n.app-bar-notification-content-container {\n\t.read-all-btn-list-item {\n\t\tpadding-top: 14px;\n\t\tpadding-bottom: 14px;\n\t\tmin-height: unset;\n\t}\n}\n\n.ps-user-notifications {\n\tmax-height: calc(var(--vh, 1vh) * 80);\n}\n\n.notification-menu-content {\n\t@media #{map-get($display-breakpoints, 'xs-only')} {\n\t\tmin-width: calc(100vw - (1.5rem * 2)) !important;\n\t\tleft: 50% !important;\n\t\ttransform: translateX(-50%);\n\t}\n}\n</style>\n"],"sourceRoot":"src/components/appBar"}]}