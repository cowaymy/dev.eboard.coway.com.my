{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\performance\\netSales\\netSalesLevel2Report.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\performance\\netSales\\netSalesLevel2Report.vue","mtime":1710811180108},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQogIGltcG9ydCB7IG1kaURvdHNWZXJ0aWNhbCwgbWRpQ2hldnJvblVwLCBtZGlDaGV2cm9uRG93biB9IGZyb20gIkBtZGkvanMiOw0KICAvL2ltcG9ydCBidXMgZnJvbSAnLi4vLi4vLi4vdXRpbHMvYnVzLmpzJzsNCiAgLy9pbXBvcnQgc2FsZXNBcGkgZnJvbSAiLi4vLi4vLi4vYXBpL3NhbGVzQXBpIjsNCiAgDQogIGltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsNCiAgaW1wb3J0IG5ldFNhbGVzU3RvcmVNb2R1bGUgZnJvbSAiLi9uZXRTYWxlc1N0b3JlTW9kdWxlIjsNCiAgY29uc3QgIHBlcmZvcm1hbmNlTmV0U2FsZXMgID0gImFwcFBlcmZvcm1hbmNlTmV0U2FsZXMiOw0KICANCiAgZXhwb3J0IGRlZmF1bHQgew0KICANCiAgICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGRhdGFMaXN0KCkgew0KICAgICAgICAgIHJldHVybiAgdGhpcy4kc3RvcmUNCiAgICAgICAgICAgICAgICAgICAgLnN0YXRlDQogICAgICAgICAgICAgICAgICAgIC5hcHBQZXJmb3JtYW5jZU5ldFNhbGVzLmRhdGFJdGVtTGV2ZWwyTGlzdA0KICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKA0KICAgICAgICAgICAgICAgICAgICAgICAgKGl0ZW0pID0+DQogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLk5BTUUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbmNsdWRlcyh0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5PUkdfQ09ERQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCg0KICAgICAgfSwNCiAgDQogICAgICBkYXRhKCkgew0KICANCiAgICAgICAgaWYgKCFzdG9yZS5oYXNNb2R1bGUocGVyZm9ybWFuY2VOZXRTYWxlcykpIHsNCiAgICAgICAgICAgIHN0b3JlLnJlZ2lzdGVyTW9kdWxlKCBwZXJmb3JtYW5jZU5ldFNhbGVzLG5ldFNhbGVzU3RvcmVNb2R1bGUgKTsNCiAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSAtMTsNCiAgICAgICAgY29uc3QgcG9sbGluZyA9IG51bGw7DQogICAgICAgIGNvbnN0IHNhbGVzQnlDb3VudHJpZXMgPSBbXTsNCiAgICAgICAgDQogIA0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIHNhbGVzQnlDb3VudHJpZXMsDQogICAgICAgICAgc2VsZWN0ZWRJdGVtLA0KICAgICAgICAgIHBvbGxpbmcsDQogICAgICAgICAgc2hvdzogZmFsc2UsDQogICAgICAgICAgbG9hZGluZyA6ZmFsc2UsDQogICAgICAgICAgc2VhcmNoOiAnJywNCiAgICAgICAgICBpY29uczogew0KICAgICAgICAgICAgbWRpRG90c1ZlcnRpY2FsLA0KICAgICAgICAgICAgbWRpQ2hldnJvblVwLA0KICAgICAgICAgICAgbWRpQ2hldnJvbkRvd24sDQogICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICAgIH0sDQogIA0KICAgICAgbWV0aG9kczogew0KICANCiAgDQogICAgICAgIHJlc29sdmVVc2VyUHJvZ3Jlc3NWYXJpYW50KHByb2dyc3MpIHsNCiAgICAgICAgICBpZiAocHJvZ3JzcyA8PSAyNSkgcmV0dXJuICJ3YXJuaW5nIjsNCiAgICAgICAgICBpZiAocHJvZ3JzcyA+IDI1ICYmIHByb2dyc3MgPD0gNTApIHJldHVybiAiaW5mbyI7DQogICAgICAgICAgaWYgKHByb2dyc3MgPiA1MCAmJiBwcm9ncnNzIDw9IDc1KSByZXR1cm4gInN1Y2Nlc3MiOw0KICAgICAgICAgIGlmIChwcm9ncnNzID4gNzUgJiYgcHJvZ3JzcyA8PSA5OSkgcmV0dXJuICIjRkU5QTJFIjsNCiAgICAgICAgICBpZiAocHJvZ3JzcyA+IDEwMCkgcmV0dXJuICJlcnJvciI7DQogICAgICAgICAgcmV0dXJuICJzZWNvbmRhcnkiOw0KICAgICAgICB9LA0KICANCiAgICAgICAgZnVuX251bUZvcm1hdChudW1iZXIpIHsNCiAgICAgICAgICBpZihudW1iZXIpIHJldHVybiAgbnVtYmVyLnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgIiwiKTsNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKG5lRm9yKTsNCiAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfSwNCg0KDQogICAgICAgIGdvdG9MZXZlbDMoaXRlbSl7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hcHBQZXJmb3JtYW5jZU5ldFNhbGVzLmRhdGFJdGVtTGV2ZWwzTGlzdCAgPVtdOw0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXBwUGVyZm9ybWFuY2VOZXRTYWxlcy5kYXRhSXRlbUxldmVsNExpc3QgID1bXTsNCg0KICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSkNCiAgICAgICAgICAgIGNvbnN0IHBhcmFtID17fTsNCiAgICAgICAgICAgIHBhcmFtLm1lbUNvZGUgPWl0ZW0uTUVNX0NPREU7DQogICAgICAgICAgICBwYXJhbS5ncnBDb2RlID0gaXRlbS5HUlBfQ09ERTsNCiAgICAgICAgICAgIHBhcmFtLm9yZ0NvZGUgPSBpdGVtLk9SR19DT0RFOw0KICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goYCR7cGVyZm9ybWFuY2VOZXRTYWxlc30vZmV0Y2hMZXZlbDNFdmVudHNgLHBhcmFtKTsNCiAgICAgICAgfQ0KICANCiAgICAgIH0sDQogIH07DQogIA=="},{"version":3,"sources":["netSalesLevel2Report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"netSalesLevel2Report.vue","sourceRoot":"src/views/performance/netSales","sourcesContent":["<template>\r\n    <v-card elevation=\"1\">\r\n      <v-card-title class=\"d-flex align-center pe-2\">\r\n        <v-icon icon=\"mdi-video-input-component\"></v-icon> \r\n        <span class=\"font-weight-semibold text-2xl\">Net Sales Ranking by SM</span>\r\n        <v-spacer></v-spacer>\r\n  \r\n        <v-text-field\r\n          v-model=\"search\"\r\n          density=\"compact\"\r\n          label=\"Search\"\r\n          prepend-inner-icon=\"mdi-magnify\"\r\n          variant=\"solo-filled\"\r\n          flat\r\n          hide-details\r\n          single-line\r\n        ></v-text-field>\r\n      </v-card-title>\r\n  \r\n      <!-- <v-card-actions>\r\n        <v-btn icon color=\"success\" @click=\"show = !show\">\r\n          <v-icon>{{ show ? icons.mdiChevronUp : icons.mdiChevronDown }}</v-icon>\r\n        </v-btn>\r\n      </v-card-actions> -->\r\n  \r\n      <!-- <v-expand-transition>\r\n        <div v-show=\"show\"> -->\r\n          <v-divider></v-divider>\r\n          <v-card-text class=\"scroll-card\">\r\n            <v-progress-circular\r\n                v-if=\"loading\"\r\n                indeterminate\r\n                color=\"primary\"\r\n            ></v-progress-circular>\r\n            \r\n            <v-list>\r\n              <v-list-item-group\r\n                v-model=\"salesByCountries.myrank\"\r\n                active-class=\"border\"\r\n                color=\"indigo\"\r\n              >\r\n                <v-list-item\r\n                  v-for=\"(data, index) in dataList\"\r\n                  :key=\"index\"\r\n                  :class=\"`d-flex align-center px-0 ${index > 0 ? 'mt-4' : ''}`\"\r\n                  @click=\"gotoLevel3(data)\"\r\n                >\r\n                  <v-avatar\r\n                    color=\"secondary\"\r\n                    size=\"30\"\r\n                    class=\"secondary white--text font-weight-medium me-3\"\r\n                  >\r\n                    <span class=\"text-base\">{{ data.RNK }}</span>\r\n                  </v-avatar>\r\n  \r\n                  <div class=\"d-flex align-center flex-grow-1 flex-wrap\">\r\n                    <div class=\"me-2\">\r\n                      <div class=\"font-weight-semibold\">\r\n                        <span class=\"text--primary text-xl me-1\"\r\n                          >{{ fun_numFormat(data.NETSALES) }} <span class=\"lastmonth-font\">  ({{123}}) </span> <span class=\"lastyear-font\">  ({{ (142)}}) </span> \r\n                        </span>\r\n                        <!-- \r\n                                  <v-icon\r\n                                      size=\"20\"\r\n                                      :color=\"data.change.charAt(0) === '+' ? 'success' : 'error'\"\r\n                                  >\r\n                                      {{\r\n                                          data.change.charAt(0) === '+'\r\n                                              ? icons.mdiChevronUp\r\n                                              : icons.mdiChevronDown\r\n                                      }}\r\n                                  </v-icon>\r\n  \r\n                                  <span\r\n                                      :class=\"`text-xs ${\r\n                                          data.change.charAt(0) === '+'\r\n                                              ? 'success--text'\r\n                                              : 'error--text'\r\n                                      }`\"\r\n                                      >{{ data.change.slice(1) }}</span\r\n                                  > -->\r\n                      </div>\r\n  \r\n                      <v-list-item-subtitle class=\"text-xs\">\r\n                        <span class=\"orgCode-font\">({{data.ORG_CODE}}) </span> {{ data.NAME }}\r\n                      </v-list-item-subtitle>\r\n                    </div>\r\n  \r\n                    <v-spacer></v-spacer>\r\n  \r\n                    <div>\r\n                      <h4 class=\"font-weight-semibold\"></h4>\r\n                      <span class=\"text-xs\">{{ data.TARGET }} %</span>\r\n                      <v-progress-linear\r\n                        height=\"6\"\r\n                        rounded\r\n                        class=\"project-progress mt-1\"\r\n                        :color=\"resolveUserProgressVariant(data.TARGET)\"\r\n                        :value=\"data.change\"\r\n                      ></v-progress-linear>\r\n                    </div>\r\n                  </div>\r\n                </v-list-item>\r\n                </v-list-item-group>\r\n            </v-list>\r\n          </v-card-text>\r\n        <!-- </div>\r\n      </v-expand-transition> -->\r\n    </v-card>\r\n  </template>\r\n  \r\n  \r\n  <script>\r\n  import { mdiDotsVertical, mdiChevronUp, mdiChevronDown } from \"@mdi/js\";\r\n  //import bus from '../../../utils/bus.js';\r\n  //import salesApi from \"../../../api/salesApi\";\r\n  \r\n  import store from \"@/store\";\r\n  import netSalesStoreModule from \"./netSalesStoreModule\";\r\n  const  performanceNetSales  = \"appPerformanceNetSales\";\r\n  \r\n  export default {\r\n  \r\n      computed: {\r\n        dataList() {\r\n          return  this.$store\r\n                    .state\r\n                    .appPerformanceNetSales.dataItemLevel2List\r\n                    .filter(\r\n                        (item) =>\r\n                        item.NAME\r\n                            .toLowerCase()\r\n                            .includes(this.search.toLowerCase()) ||\r\n                        item.ORG_CODE\r\n                            .toLowerCase()\r\n                            .includes(this.search.toLowerCase())\r\n                    );\r\n        },\r\n\r\n\r\n      },\r\n  \r\n      data() {\r\n  \r\n        if (!store.hasModule(performanceNetSales)) {\r\n            store.registerModule( performanceNetSales,netSalesStoreModule );\r\n        }\r\n          \r\n        const selectedItem = -1;\r\n        const polling = null;\r\n        const salesByCountries = [];\r\n        \r\n  \r\n        return {\r\n          salesByCountries,\r\n          selectedItem,\r\n          polling,\r\n          show: false,\r\n          loading :false,\r\n          search: '',\r\n          icons: {\r\n            mdiDotsVertical,\r\n            mdiChevronUp,\r\n            mdiChevronDown,\r\n          },\r\n        };\r\n      },\r\n  \r\n      methods: {\r\n  \r\n  \r\n        resolveUserProgressVariant(progrss) {\r\n          if (progrss <= 25) return \"warning\";\r\n          if (progrss > 25 && progrss <= 50) return \"info\";\r\n          if (progrss > 50 && progrss <= 75) return \"success\";\r\n          if (progrss > 75 && progrss <= 99) return \"#FE9A2E\";\r\n          if (progrss > 100) return \"error\";\r\n          return \"secondary\";\r\n        },\r\n  \r\n        fun_numFormat(number) {\r\n          if(number) return  number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n          //console.log(neFor);\r\n          return null;\r\n        },\r\n\r\n\r\n        gotoLevel3(item){\r\n            this.$store.state.appPerformanceNetSales.dataItemLevel3List  =[];\r\n            this.$store.state.appPerformanceNetSales.dataItemLevel4List  =[];\r\n\r\n            console.log(item)\r\n            const param ={};\r\n            param.memCode =item.MEM_CODE;\r\n            param.grpCode = item.GRP_CODE;\r\n            param.orgCode = item.ORG_CODE;\r\n            store.dispatch(`${performanceNetSales}/fetchLevel3Events`,param);\r\n        }\r\n  \r\n      },\r\n  };\r\n  </script>\r\n  <style lang=\"scss\" scoped>\r\n    .project-progress {\r\n         min-width: 4rem;\r\n    }\r\n    .border {\r\n        border: 6px dashed orange;\r\n    }\r\n    .lastyear-font {\r\n        font-size: 16px;\r\n        color: orange;\r\n        font-style: italic;\r\n    }\r\n    .lastmonth-font {\r\n        font-size: 16px;\r\n        color: rgb(43, 241, 165);\r\n        font-style: italic;\r\n    }\r\n    .scroll-card {\r\n        height: 450px;\r\n        overflow-x: auto;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .orgCode-font{\r\n        font-weight: bold;\r\n    }\r\n\r\n  </style>\r\n  "]}]}