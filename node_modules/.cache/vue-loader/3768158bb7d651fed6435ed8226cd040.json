{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\dashboard\\sales\\DashboardCardSalesRankingbyHM.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\dashboard\\sales\\DashboardCardSalesRankingbyHM.vue","mtime":1671161582786},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtZGlEb3RzVmVydGljYWwsIG1kaUNoZXZyb25VcCwgbWRpQ2hldnJvbkRvd24gfSBmcm9tICdAbWRpL2pzJzsNCg0KaW1wb3J0IHNhbGVzQXBpIGZyb20gJy4uLy4uLy4uL2FwaS9zYWxlc0FwaSc7DQpleHBvcnQgZGVmYXVsdCB7DQoJYmVmb3JlRGVzdHJveSgpIHsNCgkJY2xlYXJJbnRlcnZhbCh0aGlzLnBvbGxpbmcpOw0KCX0sDQoNCgljcmVhdGVkKCkgew0KCQl2YXIgY0RhdGEgPSBbXTsNCg0KCQljb25zdCB1c2VyID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlck5hbWU7DQoJCXRoaXMuY2FsbEFwaVJpbmtGb3JHTURhdGEoKS50aGVuKGZ1bmN0aW9uIChyZXF1ZXN0KSB7DQoJCQlyZXF1ZXN0LmRhdGEuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpbmRleCkgew0KCQkJCS8vY29uc29sZS5sb2codik7DQoJCQkJdmFyIG5ld1ZhbHVlID0gew0KCQkJCQlyYW5rOiB2LlJOSywNCgkJCQkJbmFtZTogYCgke3YuTUVNX0NPREV9KSR7di5OQU1FfWAuc3Vic3RyaW5nKDAsIDI1KSwNCgkJCQkJc2FsZXM6IHYuTkVUU0FMRVMsDQoJCQkJCWNvbG9yOiB2LlJOSyA9PSAnMScgPyAnd2FybmluZycgOiAnc2Vjb25kYXJ5JywNCgkJCQkJY2hhbmdlOiB2LlRBUkdFVCwNCgkJCQkJb3JnY29kZTogdi5PUkdfQ09ERSwNCgkJCQl9Ow0KCQkJCWNEYXRhLnB1c2gobmV3VmFsdWUpOw0KCQkJCWlmICh2Lk1FTV9DT0RFID09IHVzZXIpIHsNCgkJCQkJY0RhdGEubXlyYW5rID0gaW5kZXg7DQoJCQkJfQ0KCQkJfSk7DQoJCX0pOw0KDQoJCXRoaXMuc2FsZXNCeUNvdW50cmllcyA9IGNEYXRhOw0KCQl0aGlzLnNob3cgPSB0cnVlOw0KDQoJCXRoaXMucG9sbERhdGEgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQoJCQl0aGlzLnNob3cgPSBmYWxzZTsNCgkJCXRoaXMuY0RhdGEgPSBbXTsNCgkJCXRoaXMuc2FsZXNCeUNvdW50cmllcy5zcGxpY2UoMCk7DQoJCQl0aGlzLmNEYXRhLnNwbGljZSgwKTsNCg0KCQkJdGhpcy5jYWxsQXBpUmlua0ZvckdNRGF0YSgpLnRoZW4oDQoJCQkJcmVxdWVzdCA9Pg0KCQkJCQlyZXF1ZXN0LmRhdGEuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2LCBpbmRleCkgew0KCQkJCQkJdmFyIG5ld1ZhbHVlID0gew0KCQkJCQkJCXJhbms6IHYuUk5LLA0KCQkJCQkJCW5hbWU6IGAoJHt2Lk9SR19DT0RFfSkke3YuTkFNRX1gLnN1YnN0cmluZygwLCAyNSksDQoJCQkJCQkJc2FsZXM6IHYuTkVUU0FMRVMsDQoJCQkJCQkJY29sb3I6IHYuUk5LID09ICcxJyA/ICd3YXJuaW5nJyA6ICdzZWNvbmRhcnknLA0KCQkJCQkJCWNoYW5nZTogdi5UQVJHRVQsDQoJCQkJCQkJb3JnY29kZTogdi5PUkdfQ09ERSwNCgkJCQkJCX07DQoJCQkJCQljRGF0YS5wdXNoKG5ld1ZhbHVlKTsNCg0KCQkJCQkJaWYgKHYuTUVNX0NPREUgPT0gdXNlcikgew0KCQkJCQkJCWNEYXRhLm15cmFuayA9IGluZGV4Ow0KCQkJCQkJfQ0KCQkJCQl9KSwNCg0KCQkJCSh0aGlzLnNob3cgPSB0cnVlKSwNCgkJCSk7DQoNCgkJCXRoaXMuc2FsZXNCeUNvdW50cmllcyA9IGNEYXRhOw0KCQl9LCAzMDAwMDApOw0KCX0sDQoNCglkYXRhKCkgew0KCQljb25zdCBzYWxlc0J5Q291bnRyaWVzID0gW107DQoJCWNvbnN0IHNlbGVjdGVkSXRlbSA9IC0xOw0KCQljb25zdCBzZWxJZHggPSAtMTsNCgkJY29uc3QgcG9sbGluZyA9IFtdOw0KCQlyZXR1cm4gew0KCQkJc2FsZXNCeUNvdW50cmllcywNCgkJCXNlbGVjdGVkSXRlbSwNCgkJCXNlbElkeCwNCgkJCXBvbGxpbmcsDQoJCQlzaG93OiBmYWxzZSwNCgkJCWljb25zOiB7DQoJCQkJbWRpRG90c1ZlcnRpY2FsLA0KCQkJCW1kaUNoZXZyb25VcCwNCgkJCQltZGlDaGV2cm9uRG93biwNCgkJCX0sDQoJCX07DQoJfSwNCg0KCW1ldGhvZHM6IHsNCgkJcmVzb2x2ZVVzZXJQcm9ncmVzc1ZhcmlhbnQocHJvZ3Jzcykgew0KCQkJaWYgKHByb2dyc3MgPD0gMjUpIHJldHVybiAnd2FybmluZyc7DQoJCQlpZiAocHJvZ3JzcyA+IDI1ICYmIHByb2dyc3MgPD0gNTApIHJldHVybiAnaW5mbyc7DQoJCQlpZiAocHJvZ3JzcyA+IDUwICYmIHByb2dyc3MgPD0gNzUpIHJldHVybiAnc3VjY2Vzcyc7DQoJCQlpZiAocHJvZ3JzcyA+IDc1KSByZXR1cm4gJ2Vycm9yJzsNCgkJCXJldHVybiAnc2Vjb25kYXJ5JzsNCgkJfSwNCgkJZnVuX251bUZvcm1hdChudW1iZXIpIHsNCgkJCWNvbnN0IG5lRm9yID0gbnVtYmVyLnRvU3RyaW5nKCkucmVwbGFjZSgvXEIoPz0oXGR7M30pKyg/IVxkKSkvZywgJywnKTsNCgkJCS8vY29uc29sZS5sb2cobmVGb3IpOw0KCQkJcmV0dXJuIG5lRm9yOw0KCQl9LA0KDQoJCWFzeW5jIGNhbGxBcGlSaW5rRm9yR01EYXRhKCkgew0KCQkJdHJ5IHsNCgkJCQljb25zdCB1c2VySW5mbyA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvOw0KCQkJCXJldHVybiBhd2FpdCBzYWxlc0FwaS5nZXRSaW5rRm9ySE1EYXRhKHVzZXJJbmZvKTsNCgkJCX0gY2F0Y2ggKGVycm9yKSB7DQoJCQkJY29uc29sZS5sb2coZXJyb3IpOw0KCQkJfQ0KCQl9LA0KCX0sDQp9Ow0K"},{"version":3,"sources":["DashboardCardSalesRankingbyHM.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashboardCardSalesRankingbyHM.vue","sourceRoot":"src/views/dashboard/sales","sourcesContent":["<template>\r\n\t<v-card elevation=\"1\">\r\n\t\t<v-card-title class=\"align-start\">\r\n\t\t\t<span class=\"font-weight-semibold text-2xl\">Net Sales Ranking by HM</span>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn icon small class=\"me-n3 mt-n2\">\r\n\t\t\t\t<v-icon>\r\n\t\t\t\t\t{{ icons.mdiDotsVertical }}\r\n\t\t\t\t</v-icon>\r\n\t\t\t</v-btn>\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-actions>\r\n\t\t\t<v-btn color=\"success\" text> Explore </v-btn>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn icon color=\"success\" @click=\"show = !show\">\r\n\t\t\t\t<v-icon>{{ show ? icons.mdiChevronUp : icons.mdiChevronDown }}</v-icon>\r\n\t\t\t</v-btn>\r\n\t\t</v-card-actions>\r\n\r\n\t\t<v-expand-transition>\r\n\t\t\t<div v-show=\"show\">\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<v-list>\r\n\t\t\t\t\t\t<v-list-item-group\r\n\t\t\t\t\t\t\tv-model=\"salesByCountries.myrank\"\r\n\t\t\t\t\t\t\tactive-class=\"border\"\r\n\t\t\t\t\t\t\tcolor=\"indigo\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\tv-for=\"(data, index) in salesByCountries\"\r\n\t\t\t\t\t\t\t\t:key=\"data.name\"\r\n\t\t\t\t\t\t\t\t:class=\"`d-flex align-center px-0 ${index > 0 ? 'mt-4' : ''}`\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-avatar\r\n\t\t\t\t\t\t\t\t\t:color=\"salesByCountries.myrank === index ? 'error' : ''\"\r\n\t\t\t\t\t\t\t\t\tsize=\"30\"\r\n\t\t\t\t\t\t\t\t\t:class=\"`${data.color} white--text font-weight-medium me-3`\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-base\">{{ data.rank }}</span>\r\n\t\t\t\t\t\t\t\t</v-avatar>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-center flex-grow-1 flex-wrap\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"me-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-weight-semibold\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text--primary text-xl me-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ fun_numFormat(data.sales) }}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text--primary text-x5 me-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t({{ data.orgcode }})\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\tsize=\"20\"\r\n\t\t\t\t\t\t\t\t\t:color=\"data.change.charAt(0) === '+' ? 'success' : 'error'\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\tdata.change.charAt(0) === '+'\r\n\t\t\t\t\t\t\t\t\t\t\t? icons.mdiChevronUp\r\n\t\t\t\t\t\t\t\t\t\t\t: icons.mdiChevronDown\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t</v-icon>\r\n\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t:class=\"`text-xs ${\r\n\t\t\t\t\t\t\t\t\t\tdata.change.charAt(0) === '+'\r\n\t\t\t\t\t\t\t\t\t\t\t? 'success--text'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'error--text'\r\n\t\t\t\t\t\t\t\t\t}`\"\r\n\t\t\t\t\t\t\t\t\t>{{ data.change.slice(1) }}</span\r\n\t\t\t\t\t\t\t\t> -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-subtitle class=\"font-weight-semibold text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ data.name }}\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-subtitle>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"font-weight-semibold\"></h4>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-xs\">{{ data.change }} %</span>\r\n\t\t\t\t\t\t\t\t\t\t<v-progress-linear\r\n\t\t\t\t\t\t\t\t\t\t\theight=\"6\"\r\n\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"project-progress mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t:color=\"resolveUserProgressVariant(data.change)\"\r\n\t\t\t\t\t\t\t\t\t\t\t:value=\"data.change\"\r\n\t\t\t\t\t\t\t\t\t\t></v-progress-linear>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</div>\r\n\t\t</v-expand-transition>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mdiDotsVertical, mdiChevronUp, mdiChevronDown } from '@mdi/js';\r\n\r\nimport salesApi from '../../../api/salesApi';\r\nexport default {\r\n\tbeforeDestroy() {\r\n\t\tclearInterval(this.polling);\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tvar cData = [];\r\n\r\n\t\tconst user = this.$store.state.userName;\r\n\t\tthis.callApiRinkForGMData().then(function (request) {\r\n\t\t\trequest.data.data.forEach(function (v, index) {\r\n\t\t\t\t//console.log(v);\r\n\t\t\t\tvar newValue = {\r\n\t\t\t\t\trank: v.RNK,\r\n\t\t\t\t\tname: `(${v.MEM_CODE})${v.NAME}`.substring(0, 25),\r\n\t\t\t\t\tsales: v.NETSALES,\r\n\t\t\t\t\tcolor: v.RNK == '1' ? 'warning' : 'secondary',\r\n\t\t\t\t\tchange: v.TARGET,\r\n\t\t\t\t\torgcode: v.ORG_CODE,\r\n\t\t\t\t};\r\n\t\t\t\tcData.push(newValue);\r\n\t\t\t\tif (v.MEM_CODE == user) {\r\n\t\t\t\t\tcData.myrank = index;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.salesByCountries = cData;\r\n\t\tthis.show = true;\r\n\r\n\t\tthis.pollData = setInterval(() => {\r\n\t\t\tthis.show = false;\r\n\t\t\tthis.cData = [];\r\n\t\t\tthis.salesByCountries.splice(0);\r\n\t\t\tthis.cData.splice(0);\r\n\r\n\t\t\tthis.callApiRinkForGMData().then(\r\n\t\t\t\trequest =>\r\n\t\t\t\t\trequest.data.data.forEach(function (v, index) {\r\n\t\t\t\t\t\tvar newValue = {\r\n\t\t\t\t\t\t\trank: v.RNK,\r\n\t\t\t\t\t\t\tname: `(${v.ORG_CODE})${v.NAME}`.substring(0, 25),\r\n\t\t\t\t\t\t\tsales: v.NETSALES,\r\n\t\t\t\t\t\t\tcolor: v.RNK == '1' ? 'warning' : 'secondary',\r\n\t\t\t\t\t\t\tchange: v.TARGET,\r\n\t\t\t\t\t\t\torgcode: v.ORG_CODE,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tcData.push(newValue);\r\n\r\n\t\t\t\t\t\tif (v.MEM_CODE == user) {\r\n\t\t\t\t\t\t\tcData.myrank = index;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t(this.show = true),\r\n\t\t\t);\r\n\r\n\t\t\tthis.salesByCountries = cData;\r\n\t\t}, 300000);\r\n\t},\r\n\r\n\tdata() {\r\n\t\tconst salesByCountries = [];\r\n\t\tconst selectedItem = -1;\r\n\t\tconst selIdx = -1;\r\n\t\tconst polling = [];\r\n\t\treturn {\r\n\t\t\tsalesByCountries,\r\n\t\t\tselectedItem,\r\n\t\t\tselIdx,\r\n\t\t\tpolling,\r\n\t\t\tshow: false,\r\n\t\t\ticons: {\r\n\t\t\t\tmdiDotsVertical,\r\n\t\t\t\tmdiChevronUp,\r\n\t\t\t\tmdiChevronDown,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tresolveUserProgressVariant(progrss) {\r\n\t\t\tif (progrss <= 25) return 'warning';\r\n\t\t\tif (progrss > 25 && progrss <= 50) return 'info';\r\n\t\t\tif (progrss > 50 && progrss <= 75) return 'success';\r\n\t\t\tif (progrss > 75) return 'error';\r\n\t\t\treturn 'secondary';\r\n\t\t},\r\n\t\tfun_numFormat(number) {\r\n\t\t\tconst neFor = number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\t\t\t//console.log(neFor);\r\n\t\t\treturn neFor;\r\n\t\t},\r\n\r\n\t\tasync callApiRinkForGMData() {\r\n\t\t\ttry {\r\n\t\t\t\tconst userInfo = this.$store.state.userInfo;\r\n\t\t\t\treturn await salesApi.getRinkForHMData(userInfo);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.project-progress {\r\n\tmin-width: 4rem;\r\n}\r\n.border {\r\n\tborder: 6px dashed orange;\r\n}\r\n</style>\r\n"]}]}