{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCodeResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCodeResult.vue","mtime":1689315288146},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KCW1kaUNsb3NlLA0KCW1kaUNoZWNrQm9sZCwNCgltZGlDaGVja0RlY2FncmFtT3V0bGluZSwNCgltZGlIZWxwQ2lyY2xlT3V0bGluZSwNCgkvL21kaUNoZWNrVW5kZXJsaW5lLA0KCS8vbWRpQWxlcnRDaXJjbGVPdXRsaW5lLA0KCW1kaUFsZXJ0Q2lyY2xlQ2hlY2ssDQoJbWRpQ29tbWVudFByb2Nlc3NpbmdPdXRsaW5lLA0KCW1kaUNoZWNrQ2lyY2xlLA0KCW1kaUFsZXJ0Q2lyY2xlT3V0bGluZSwNCn0gZnJvbSAnQG1kaS9qcyc7DQoNCmltcG9ydCB7IGdldE1vbnRoTmFtZSwgZ2V0RGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3ZhbGlkYXRpb24nOw0KaW1wb3J0IHV0aWxzIGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJzsNCmltcG9ydCBiYXNlQXBpIGZyb20gJy4uLy4uL2FwaS9pbmRleC5qcyc7DQppbXBvcnQgY2FsZW5kYXJBcGkgZnJvbSAnLi4vLi4vYXBpL2NhbGVuZGFyQXBpLmpzJzsNCg0KaW1wb3J0IHsNCglzYXZlQXR0ZW5kVG9Db29raWUsDQoJZ2V0QXR0ZW5kRnJvbUNvb2tpZSwNCglkZWxldGVBdGVuZENvb2tpZSwNCn0gZnJvbSAnLi4vLi4vdXRpbHMvY29va2llcy5qcyc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCgluYW1lOiAnQXR0ZW5kU2NhblFSUmVzdWx0JywNCgljb21wb25lbnRzOiB7fSwNCglwcm9wczogew0KCQlzY2FuZGF0YTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sDQoJCS8vIHJlc3VsdENvZGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OjonJyAnZmFpbCcgfSwNCgkJLy8gcmVzdWx0TWVzc2FnZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sDQoJfSwNCglkYXRhKCkgew0KCQljb25zb2xlLmxvZyh0aGlzLnNjYW5kYXRhLmRhdGEpOw0KCQlyZXR1cm4gew0KCQkJLy8gaWNvbg0KCQkJaWNvbnM6IHsNCgkJCQltZGlDbG9zZSwNCgkJCX0sDQoJCQlzY2FuZGF0ZTogJycsDQoJCQlzY2FudGltZTogJycsDQoJCQlzY2FuYnJhbmNoTmFtZTogJycsDQoJCQlzY2FuYnJhbmNoQ29kZTogJycsDQoJCQltb250aDogZ2V0TW9udGhOYW1lKCksDQoJCQluZGF0ZTogZ2V0RGF0ZSgpLA0KCQkJbWRpQ2hlY2tCb2xkLA0KCQkJbWRpQ2hlY2tEZWNhZ3JhbU91dGxpbmUsDQoJCQltZGlIZWxwQ2lyY2xlT3V0bGluZSwNCgkJCXByb0NvbG9yOiAnc2Vjb25kYXJ5JywNCgkJCXByb1RleHQ6ICcnLA0KCQkJcHJvSWNvbjogbWRpQWxlcnRDaXJjbGVDaGVjaywNCgkJCXJlc3VsdENvZGU6ICdwcm9jZXNzJywNCgkJCXJlc3VsdE1lc3NhZ2U6IG51bGwsDQoJCQltZGlDaGVja0NpcmNsZSwNCgkJfTsNCgl9LA0KDQoJY29tcHV0ZWQ6IHt9LA0KCWNyZWF0ZWQoKSB7DQoJCWNvbnNvbGUubG9nKCc9PT09PT0+JyArIHRoaXMuc2NhbmRhdGEpOw0KDQoJCXRoaXMuaW5pdFByb2dyZXNzKCk7DQoJCXRoaXMudXBkYXRlQXR0ZW5kRGF0YSgpOw0KCX0sDQoJbWV0aG9kczogew0KCQlnb1RvQXR0ZW5kSGlzdHkoKSB7DQoJCQljb25zb2xlLmxvZygnMTIzMScpOw0KCQl9LA0KCQlpbml0UHJvZ3Jlc3MoKSB7DQoJCQlpZiAodGhpcy5yZXN1bHRDb2RlID09ICdwcm9jZXNzJykgew0KCQkJCXRoaXMucHJvQ29sb3IgPSAnc2Vjb25kYXJ5ICc7DQoJCQkJdGhpcy5wcm9UZXh0ID0gJ3Byb2dyZXNzJzsNCgkJCQl0aGlzLnJlc3VsdE1lc3NhZ2UgPSAndmFsaWRhdGlvbiBpbiBwcm9ncmVzcy4uLic7DQoJCQkJdGhpcy5wcm9JY29uID0gbWRpQ29tbWVudFByb2Nlc3NpbmdPdXRsaW5lOw0KCQkJfQ0KCQl9LA0KDQoJCS8qKg0KCQkgKg0KCQkgKi8NCgkJdXBkYXRlUHJvZ3Jlc3MoZGF0YSkgew0KCQkJY29uc29sZS5sb2coZGF0YSk7DQoJCQlpZiAoZGF0YS5zdWNjZXNzKSB7DQoJCQkJdGhpcy5wcm9Db2xvciA9ICdzdWNjZXNzJzsNCgkJCQl0aGlzLnByb1RleHQgPSAnU3VjY2Vzcyc7DQoJCQkJdGhpcy5yZXN1bHRNZXNzYWdlID0gZGF0YS5tZXNzYWdlOw0KCQkJCXRoaXMucHJvSWNvbiA9IG1kaUNoZWNrQ2lyY2xlOw0KDQoJCQkJdHJ5IHsNCgkJCQkJdGhpcy5zY2FuZGF0ZSA9IGAke2RhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbmRhdGUuc3Vic3RyKA0KCQkJCQkJNiwNCgkJCQkJCTIsDQoJCQkJCSl9IC8gJHtkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cigNCgkJCQkJCTQsDQoJCQkJCQkyLA0KCQkJCQkpfSAvICR7ZGF0YS5kYXRhTGlzdC5hdHRlbmRzY2FuZGF0ZS5zdWJzdHIoMCwgNCl9IGA7DQoNCgkJCQkJdGhpcy5zY2FudGltZSA9IGAke2RhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbnRpbWV9YDsNCgkJCQl9IGNhdGNoIChleCkgew0KCQkJCQljb25zb2xlLmxvZyhleCk7DQoJCQkJfQ0KDQoJCQkJLy8gY29uc29sZS5sb2coZGF0YS5kYXRhTGlzdC5hdHRlbmRzY2FuZGF0ZS5zdWJzdHIoMCwgNCkpOw0KCQkJCS8vIGNvbnNvbGUubG9nKGRhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbmRhdGUuc3Vic3RyKDQsIDIpKTsNCgkJCQkvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cig2LCAyKSk7DQoNCgkJCQljb25zb2xlLmxvZygn6rKw6rO8IOy/oO2CpOqwkiA6ICAnLCBkYXRhLmRhdGFMaXN0LmF0dGVuZHRva2VuKTsNCgkJCQlpZiAoDQoJCQkJCWRhdGEuZGF0YUxpc3QuYXR0ZW5kdG9rZW4gIT0gdW5kZWZpbmVkICYmDQoJCQkJCWRhdGEuZGF0YUxpc3QuYXR0ZW5kdG9rZW4gIT0gJ3VuZGVmaW5lZCcNCgkJCQkpIHsNCgkJCQkJY29uc29sZS5sb2coJ+y/oO2CpCDsg53shLEuLi4uLuyLoOq3nCDsv6DtgqQ6JywgZGF0YS5kYXRhTGlzdC5hdHRlbmR0b2tlbik7DQoNCgkJCQkJLy9kZWxldGUgY29va2llDQoJCQkJCWRlbGV0ZUF0ZW5kQ29va2llKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lKTsNCg0KCQkJCQkvL2NyZWF0ZSBuZXcgY29va2llDQoJCQkJCXNhdmVBdHRlbmRUb0Nvb2tpZSgNCgkJCQkJCXRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLA0KCQkJCQkJZGF0YS5kYXRhTGlzdC5hdHRlbmR0b2tlbiwNCgkJCQkJKTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCXRoaXMucHJvQ29sb3IgPSAnZXJyb3InOw0KCQkJCXRoaXMucHJvVGV4dCA9ICdGYWlsZWQnOw0KCQkJCXRoaXMucmVzdWx0TWVzc2FnZSA9IGRhdGEubWVzc2FnZTsNCgkJCQl0aGlzLnByb0ljb24gPSBtZGlBbGVydENpcmNsZU91dGxpbmU7DQoJCQl9DQoJCX0sDQoNCgkJYXN5bmMgdXBkYXRlQXR0ZW5kRGF0YSgpIHsNCgkJCWNvbnNvbGUubG9nKHRoaXMuc2NhbmRhdGEuZGF0YSk7DQoNCgkJCS8veyJkZXZpY2VJZCI6IjNmNzFmODIwYzU3ODEwNjUiLCJjdXJyZW50VGltZSI6IjA5OjQ3OjA0IiAsZGF0ZToieXl5eW1tZGQifQ0KDQoJCQl0cnkgew0KCQkJCWNvbnN0IHBhcmFtID0gdGhpcy5zY2FuZGF0YTsNCgkJCQlsZXQgb2JqID0gSlNPTi5wYXJzZShwYXJhbSk7DQoNCgkJCQljb25zb2xlLmxvZyhvYmopOw0KDQoJCQkJY29uc3QgcGF5bG9hZCA9IHsNCgkJCQkJc2NhbkRhdGU6IG9iai5kYXRlLA0KCQkJCQlzY2FuVGltZTogb2JqLmN1cnJlbnRUaW1lLA0KCQkJCQlzY2FuRGV2aWNlOiBvYmouZGV2aWNlSWQsDQoJCQkJCXNjYW5RUlR5cGU6ICdBMDAwMScsDQoJCQkJCXNjYW5RUlR5cGVEZXNjOiAnUVInLA0KCQkJCQlzY2FuVXNlclRva2VuOiBnZXRBdHRlbmRGcm9tQ29va2llKA0KCQkJCQkJdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlck5hbWUsDQoJCQkJCSksDQoJCQkJCXVzZXJOYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyTmFtZSwNCgkJCQl9Ow0KDQoJCQkJY29uc3QgZGF0YSA9IGF3YWl0IGNhbGVuZGFyQXBpLmZldGNoQXR0ZW5kQWxsb3dMYWN0aW9uRnJvSHAoew0KCQkJCQlpZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlck5hbWUsDQoJCQkJCWRldmljZUlkOiBvYmouZGV2aWNlSWQsDQoJCQkJfSk7DQoNCgkJCQljb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsNCgkJCQljb25zb2xlLmxvZygnZGF0YSA6OjonLCBkYXRhKTsNCgkJCQljb25zb2xlLmxvZygnaXNBbGxvdyA6OjonLCBkYXRhLmRhdGEuZGF0YUxpc3RbMF0uaXNBbGxvdyk7DQoJCQkJY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7DQoNCgkJCQlpZiAoZGF0YS5kYXRhLmRhdGFMaXN0WzBdLmlzQWxsb3cgPj0gMSkgew0KCQkJCQljb25zdCB7IGRhdGEgfSA9IGF3YWl0IGJhc2VBcGkudXBkYXRlQXR0ZW5kRGF0YShwYXlsb2FkKTsNCg0KCQkJCQljb25zdCBicmFuY2hEYXRhID0gYXdhaXQgY2FsZW5kYXJBcGkuZmV0Y2hBdHRlbmRCcmFuY2hOYW1lKA0KCQkJCQkJb2JqLmRldmljZUlkLA0KCQkJCQkpOw0KDQoJCQkJCWlmIChicmFuY2hEYXRhLmRhdGEuc3VjY2Vzcykgew0KCQkJCQkJdGhpcy5zY2FuYnJhbmNoTmFtZSA9DQoJCQkJCQkJYnJhbmNoRGF0YS5kYXRhLmRhdGFMaXN0WzBdLmF0dGVuZF9icmFuY2hfbmFtZTsNCgkJCQkJCXRoaXMuc2NhbmJyYW5jaENvZGUgPQ0KCQkJCQkJCWJyYW5jaERhdGEuZGF0YS5kYXRhTGlzdFswXS5hdHRlbmRfYnJhbmNoX2NvZGU7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKGJyYW5jaERhdGEuZGF0YSk7DQoJCQkJCX0NCg0KCQkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXRoaXMudXBkYXRlUHJvZ3Jlc3Moew0KCQkJCQkJc3VjY2VzczogZmFsc2UsDQoJCQkJCQltZXNzYWdlOg0KCQkJCQkJCSdZb3UgYXJlIG5vdCByZWdpc3RlcmVkIHVuZGVyIHRoaXMgcmVwb3J0aW5nIGJyYW5jaC4gS2luZGx5IHJlZmVyIHRvIHlvdXIgcmVwb3J0aW5nIG1hbmFnZXInLA0KCQkJCQl9KTsNCgkJCQl9DQoJCQl9IGNhdGNoIChlKSB7DQoJCQkJY29uc29sZS5sb2coZS50b1N0cmluZygpKTsNCgkJCQlsZXQgZGF0YSA9IG5ldyBPYmplY3QoKTsNCgkJCQlkYXRhLnN1Y2Nlc3MgPSBmYWxzZTsNCgkJCQlkYXRhLm1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7DQoJCQkJdGhpcy51cGRhdGVQcm9ncmVzcyhkYXRhKTsNCgkJCX0NCgkJfSwNCgl9LA0KfTsNCg=="},{"version":3,"sources":["AttendScanQRCodeResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttendScanQRCodeResult.vue","sourceRoot":"src/views/comm","sourcesContent":["<template>\r\n\t<v-card color=\"text-center\">\r\n\t\t<v-card-text class=\"d-flex flex-column justify-center align-center\">\r\n\t\t\t<!-- <v-avatar\r\n\t\t\t\tcolor=\"success\"\r\n\t\t\t\tclass=\"v-avatar-light-bg primary--text mt-10\"\r\n\t\t\t\ticon\r\n\t\t\t\tsize=\"100\"\r\n\t\t\t> -->\r\n\t\t\t<v-icon size=\"4rem\" :color=\"proColor\">\r\n\t\t\t\t{{ proIcon }}\r\n\t\t\t</v-icon>\r\n\t\t\t<!-- </v-avatar> -->\r\n\t\t\t<h6 class=\"text-5xl mt-4 font-weight-semibold\">{{ proText }}</h6>\r\n\t\t</v-card-text>\r\n\t\t<v-card-text>\r\n\t\t\t{{ resultMessage }}\r\n\t\t</v-card-text>\r\n\t\t<v-card-text>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t</v-card-text>\r\n\r\n\t\t<v-card-text>\r\n\t\t\t<h3 class=\"text-6xl mt-4 font-weight-semibold\">\r\n\t\t\t\t{{ this.$store.state.userInfo.userName }}\r\n\t\t\t</h3>\r\n\t\t\t<div>{{ this.scandate }}</div>\r\n\t\t\t<div>{{ this.scantime }}</div>\r\n\t\t\t<div>[{{ this.scanbranchCode }}]{{ this.scanbranchName }}</div>\r\n\t\t</v-card-text>\r\n\r\n\t\t<v-card-text>\r\n\t\t\t<v-btn\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tclass=\"mt-4\"\r\n\t\t\t\t@click.native=\"$router.push('AttendHistory')\"\r\n\t\t\t>\r\n\t\t\t\tcheck Histroy</v-btn\r\n\t\t\t>\r\n\t\t</v-card-text>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n\tmdiClose,\r\n\tmdiCheckBold,\r\n\tmdiCheckDecagramOutline,\r\n\tmdiHelpCircleOutline,\r\n\t//mdiCheckUnderline,\r\n\t//mdiAlertCircleOutline,\r\n\tmdiAlertCircleCheck,\r\n\tmdiCommentProcessingOutline,\r\n\tmdiCheckCircle,\r\n\tmdiAlertCircleOutline,\r\n} from '@mdi/js';\r\n\r\nimport { getMonthName, getDate } from '../../utils/validation';\r\nimport utils from '../../utils/utils';\r\nimport baseApi from '../../api/index.js';\r\nimport calendarApi from '../../api/calendarApi.js';\r\n\r\nimport {\r\n\tsaveAttendToCookie,\r\n\tgetAttendFromCookie,\r\n\tdeleteAtendCookie,\r\n} from '../../utils/cookies.js';\r\n\r\nexport default {\r\n\tname: 'AttendScanQRResult',\r\n\tcomponents: {},\r\n\tprops: {\r\n\t\tscandata: { type: String, default: '' },\r\n\t\t// resultCode: { type: String, default::'' 'fail' },\r\n\t\t// resultMessage: { type: String, default: '' },\r\n\t},\r\n\tdata() {\r\n\t\tconsole.log(this.scandata.data);\r\n\t\treturn {\r\n\t\t\t// icon\r\n\t\t\ticons: {\r\n\t\t\t\tmdiClose,\r\n\t\t\t},\r\n\t\t\tscandate: '',\r\n\t\t\tscantime: '',\r\n\t\t\tscanbranchName: '',\r\n\t\t\tscanbranchCode: '',\r\n\t\t\tmonth: getMonthName(),\r\n\t\t\tndate: getDate(),\r\n\t\t\tmdiCheckBold,\r\n\t\t\tmdiCheckDecagramOutline,\r\n\t\t\tmdiHelpCircleOutline,\r\n\t\t\tproColor: 'secondary',\r\n\t\t\tproText: '',\r\n\t\t\tproIcon: mdiAlertCircleCheck,\r\n\t\t\tresultCode: 'process',\r\n\t\t\tresultMessage: null,\r\n\t\t\tmdiCheckCircle,\r\n\t\t};\r\n\t},\r\n\r\n\tcomputed: {},\r\n\tcreated() {\r\n\t\tconsole.log('======>' + this.scandata);\r\n\r\n\t\tthis.initProgress();\r\n\t\tthis.updateAttendData();\r\n\t},\r\n\tmethods: {\r\n\t\tgoToAttendHisty() {\r\n\t\t\tconsole.log('1231');\r\n\t\t},\r\n\t\tinitProgress() {\r\n\t\t\tif (this.resultCode == 'process') {\r\n\t\t\t\tthis.proColor = 'secondary ';\r\n\t\t\t\tthis.proText = 'progress';\r\n\t\t\t\tthis.resultMessage = 'validation in progress...';\r\n\t\t\t\tthis.proIcon = mdiCommentProcessingOutline;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t */\r\n\t\tupdateProgress(data) {\r\n\t\t\tconsole.log(data);\r\n\t\t\tif (data.success) {\r\n\t\t\t\tthis.proColor = 'success';\r\n\t\t\t\tthis.proText = 'Success';\r\n\t\t\t\tthis.resultMessage = data.message;\r\n\t\t\t\tthis.proIcon = mdiCheckCircle;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.scandate = `${data.dataList.attendscandate.substr(\r\n\t\t\t\t\t\t6,\r\n\t\t\t\t\t\t2,\r\n\t\t\t\t\t)} / ${data.dataList.attendscandate.substr(\r\n\t\t\t\t\t\t4,\r\n\t\t\t\t\t\t2,\r\n\t\t\t\t\t)} / ${data.dataList.attendscandate.substr(0, 4)} `;\r\n\r\n\t\t\t\t\tthis.scantime = `${data.dataList.attendscantime}`;\r\n\t\t\t\t} catch (ex) {\r\n\t\t\t\t\tconsole.log(ex);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(0, 4));\r\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(4, 2));\r\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(6, 2));\r\n\r\n\t\t\t\tconsole.log('결과 쿠키값 :  ', data.dataList.attendtoken);\r\n\t\t\t\tif (\r\n\t\t\t\t\tdata.dataList.attendtoken != undefined &&\r\n\t\t\t\t\tdata.dataList.attendtoken != 'undefined'\r\n\t\t\t\t) {\r\n\t\t\t\t\tconsole.log('쿠키 생성.....신규 쿠키:', data.dataList.attendtoken);\r\n\r\n\t\t\t\t\t//delete cookie\r\n\t\t\t\t\tdeleteAtendCookie(this.$store.state.userInfo.userName);\r\n\r\n\t\t\t\t\t//create new cookie\r\n\t\t\t\t\tsaveAttendToCookie(\r\n\t\t\t\t\t\tthis.$store.state.userInfo.userName,\r\n\t\t\t\t\t\tdata.dataList.attendtoken,\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.proColor = 'error';\r\n\t\t\t\tthis.proText = 'Failed';\r\n\t\t\t\tthis.resultMessage = data.message;\r\n\t\t\t\tthis.proIcon = mdiAlertCircleOutline;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync updateAttendData() {\r\n\t\t\tconsole.log(this.scandata.data);\r\n\r\n\t\t\t//{\"deviceId\":\"3f71f820c5781065\",\"currentTime\":\"09:47:04\" ,date:\"yyyymmdd\"}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst param = this.scandata;\r\n\t\t\t\tlet obj = JSON.parse(param);\r\n\r\n\t\t\t\tconsole.log(obj);\r\n\r\n\t\t\t\tconst payload = {\r\n\t\t\t\t\tscanDate: obj.date,\r\n\t\t\t\t\tscanTime: obj.currentTime,\r\n\t\t\t\t\tscanDevice: obj.deviceId,\r\n\t\t\t\t\tscanQRType: 'A0001',\r\n\t\t\t\t\tscanQRTypeDesc: 'QR',\r\n\t\t\t\t\tscanUserToken: getAttendFromCookie(\r\n\t\t\t\t\t\tthis.$store.state.userInfo.userName,\r\n\t\t\t\t\t),\r\n\t\t\t\t\tuserName: this.$store.state.userInfo.userName,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst data = await calendarApi.fetchAttendAllowLactionFroHp({\r\n\t\t\t\t\tid: this.$store.state.userInfo.userName,\r\n\t\t\t\t\tdeviceId: obj.deviceId,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconsole.log('-----------------------');\r\n\t\t\t\tconsole.log('data :::', data);\r\n\t\t\t\tconsole.log('isAllow :::', data.data.dataList[0].isAllow);\r\n\t\t\t\tconsole.log('-----------------------');\r\n\r\n\t\t\t\tif (data.data.dataList[0].isAllow >= 1) {\r\n\t\t\t\t\tconst { data } = await baseApi.updateAttendData(payload);\r\n\r\n\t\t\t\t\tconst branchData = await calendarApi.fetchAttendBranchName(\r\n\t\t\t\t\t\tobj.deviceId,\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (branchData.data.success) {\r\n\t\t\t\t\t\tthis.scanbranchName =\r\n\t\t\t\t\t\t\tbranchData.data.dataList[0].attend_branch_name;\r\n\t\t\t\t\t\tthis.scanbranchCode =\r\n\t\t\t\t\t\t\tbranchData.data.dataList[0].attend_branch_code;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.updateProgress(branchData.data);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.updateProgress(data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.updateProgress({\r\n\t\t\t\t\t\tsuccess: false,\r\n\t\t\t\t\t\tmessage:\r\n\t\t\t\t\t\t\t'You are not registered under this reporting branch. Kindly refer to your reporting manager',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e.toString());\r\n\t\t\t\tlet data = new Object();\r\n\t\t\t\tdata.success = false;\r\n\t\t\t\tdata.message = e.toString();\r\n\t\t\t\tthis.updateProgress(data);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@core/preset/preset/pages/auth.scss';\r\n</style>\r\n"]}]}