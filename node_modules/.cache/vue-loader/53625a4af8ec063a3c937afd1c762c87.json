{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard.coway.com.my\\src\\views\\account-settings\\AccountSettingsAccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\views\\account-settings\\AccountSettingsAccount.vue","mtime":1711009353268},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUFsZXJ0T3V0bGluZSwgbWRpQ2xvdWRVcGxvYWRPdXRsaW5lIH0gZnJvbSAiQG1kaS9qcyI7Ci8vaW1wb3J0IHsgcmVmIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOwoKaW1wb3J0IGJ1cyBmcm9tICIuLi8uLi91dGlscy9idXMiOwppbXBvcnQgY29tQXBpIGZyb20gIi4uLy4uL2FwaS9pbmRleCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGFjY291bnREYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30sCiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGZpbGVDaGFuZ2U6IGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LmZpbGVzKTsgLy9maWxlc+uKlCDrsLDsl7TroZwg65Ok7Ja07Jio64ukLgogICAgICB0aGlzLmZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy51cGxvYWRJbWFnZSh0aGlzLmZpbGUpOwogICAgfSwKCiAgICBhc3luYyB1cGxvYWRJbWFnZSh2RmlsZSkgewogICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBsZXQgaW1hZ2UgPSB2RmlsZTsKICAgICAgZm9ybS5hcHBlbmQoIm5hbWUiLCB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyTmFtZSk7CiAgICAgIGZvcm0uYXBwZW5kKCJ1c2VySW1hZ2UiLCBpbWFnZSk7CgogICAgICAvL3N0YXJ0IHNwaW5uZXIKICAgICAgYnVzLiRlbWl0KCJzdGFydDpzcGlubmVyIik7CiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbUFwaS5maWxlVXBMb2FkKGZvcm0pOwoKICAgICAgaWYgKHJlc3VsdC5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICB0aGlzLiR0b2FzdGVkCiAgICAgICAgICAuc3VjY2VzcygiSXQgaGFzIGJlZW4gcHJvY2Vzc2VkIiwgewogICAgICAgICAgICBpY29uOiAiY2hlY2siLAogICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgICAgIGFjdGlvbjogewogICAgICAgICAgICAgIHRleHQ6ICJDbG9zZSIsCiAgICAgICAgICAgICAgb25DbGljazogKGUsIHRvYXN0T2JqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICB0b2FzdE9iamVjdC5nb0F3YXkoMCk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgICAuZ29Bd2F5KDI1MDApOwoKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby5pbWdQYXRoID0gcmVzdWx0LmRhdGEuZGF0YUxpc3QuZmlsZW5hbWU7CiAgICAgIH0KICAgICAgYnVzLiRlbWl0KCJlbmQ6c3Bpbm5lciIpOwogICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgfSwKICAgIGNsaWNrSW5wdXRUYWc6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy4kcmVmc1siaW1hZ2UiXS5jbGljaygpOwogICAgfSwKICB9LAogIGRhdGEocHJvcHMpIHsKICAgIGNvbnN0IHN0YXR1cyA9IFsiQWN0aXZlIiwgIkluYWN0aXZlIiwgIlBlbmRpbmciLCAiQ2xvc2VkIl07CgogICAgY29uc3QgYWNjb3VudERhdGFMb2NhbGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHByb3BzLmFjY291bnREYXRhKSk7CgogICAgY29uc3QgcmVzZXRGb3JtID0gKCkgPT4gewogICAgICBhY2NvdW50RGF0YUxvY2FsZS52YWx1ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocHJvcHMuYWNjb3VudERhdGEpKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgc3RhdHVzLAogICAgICBhY2NvdW50RGF0YUxvY2FsZSwKICAgICAgcmVzZXRGb3JtLAogICAgICBmaWxlOiAiIiwKICAgICAgdXNlckltYWdlOiBgaHR0cHM6Ly9lcGFwYW5hcGlzLm1hbGF5c2lhLmNvd2F5LmRvL3VzZXJzLyR7dGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8uaW1nUGF0aH1gLAogICAgICBpY29uczogewogICAgICAgIG1kaUFsZXJ0T3V0bGluZSwKICAgICAgICBtZGlDbG91ZFVwbG9hZE91dGxpbmUsCiAgICAgIH0sCiAgICB9OwogIH0sCn07Cg=="},{"version":3,"sources":["AccountSettingsAccount.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSettingsAccount.vue","sourceRoot":"src/views/account-settings","sourcesContent":["<template>\n  <v-card flat class=\"pa-3 mt-2\">\n    <v-card-text class=\"d-flex\">\n      <v-avatar rounded size=\"120\" class=\"me-6\">\n        <v-img :src=\"userImage\"></v-img>\n      </v-avatar>\n\n      <!-- upload photo -->\n      <div>\n        <v-btn\n          color=\"primary\"\n          class=\"me-3 mt-5\"\n          @click=\"$refs.refInputEl.click()\"\n        >\n          <v-icon class=\"d-sm-none\">\n            {{ icons.mdiCloudUploadOutline }}\n          </v-icon>\n          <span class=\"d-none d-sm-block\">Upload new photo</span>\n        </v-btn>\n\n        <input\n          ref=\"refInputEl\"\n          type=\"file\"\n          accept=\".jpeg,.png,.jpg,GIF\"\n          :hidden=\"true\"\n          @change=\"fileChange\"\n        />\n\n        <p class=\"text-sm mt-5\">Allowed JPG, GIF or PNG. Max size of 800K</p>\n      </div>\n    </v-card-text>\n\n    <v-card-text>\n      <v-form class=\"multi-col-validation mt-6\">\n        <v-row>\n          <v-col md=\"6\" cols=\"12\">\n            <v-text-field\n              v-model=\"accountDataLocale.username\"\n              label=\"Username\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col md=\"6\" cols=\"12\">\n            <v-text-field\n              v-model=\"accountDataLocale.name\"\n              label=\"Name\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"accountDataLocale.email\"\n              label=\"E-mail\"\n              dense\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"accountDataLocale.role\"\n              dense\n              label=\"Role\"\n              outlined\n            ></v-text-field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <v-select\n              v-model=\"accountDataLocale.status\"\n              dense\n              outlined\n              label=\"Status\"\n              :items=\"status\"\n            ></v-select>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <v-text-field\n              v-model=\"accountDataLocale.branch\"\n              dense\n              outlined\n              label=\"Branch\"\n            ></v-text-field>\n          </v-col>\n\n          <!-- alert\n\t\t\t\t\t<v-col cols=\"12\">\n\t\t\t\t\t\t<v-alert color=\"warning\" text class=\"mb-0\">\n\t\t\t\t\t\t\t<div class=\"d-flex align-start\">\n\t\t\t\t\t\t\t\t<v-icon color=\"warning\">\n\t\t\t\t\t\t\t\t\t{{ icons.mdiAlertOutline }}\n\t\t\t\t\t\t\t\t</v-icon>\n\n\t\t\t\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t\t\t\t<p class=\"text-base font-weight-medium mb-1\">\n\t\t\t\t\t\t\t\t\t\tYour email is not confirmed. Please check your inbox.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"javascript:void(0)\"\n\t\t\t\t\t\t\t\t\t\tclass=\"text-decoration-none warning--text\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-sm\">Resend Confirmation</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</v-alert>\n\t\t\t\t\t</v-col> -->\n\n          <!-- <v-col cols=\"12\">\n\t\t\t\t\t\t<v-btn color=\"primary\" class=\"me-3 mt-4\"> Save changes </v-btn>\n\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\toutlined\n\t\t\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\t\t\ttype=\"reset\"\n\t\t\t\t\t\t\t@click.prevent=\"resetForm\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</v-col> -->\n        </v-row>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport { mdiAlertOutline, mdiCloudUploadOutline } from \"@mdi/js\";\n//import { ref } from '@vue/composition-api';\n\nimport bus from \"../../utils/bus\";\nimport comApi from \"../../api/index\";\n\nexport default {\n  props: {\n    accountData: {\n      type: Object,\n      default: () => {},\n    },\n  },\n\n  methods: {\n    fileChange: function (e) {\n      console.log(e.target.files); //files는 배열로 들어온다.\n      this.file = e.target.files[0];\n      this.uploadImage(this.file);\n    },\n\n    async uploadImage(vFile) {\n      let form = new FormData();\n      let image = vFile;\n      form.append(\"name\", this.$store.state.userName);\n      form.append(\"userImage\", image);\n\n      //start spinner\n      bus.$emit(\"start:spinner\");\n      const result = await comApi.fileUpLoad(form);\n\n      if (result.data.success) {\n        this.$toasted\n          .success(\"It has been processed\", {\n            icon: \"check\",\n            position: \"bottom-right\",\n            action: {\n              text: \"Close\",\n              onClick: (e, toastObject) => {\n                toastObject.goAway(0);\n              },\n            },\n          })\n          .goAway(2500);\n\n        this.$store.state.userInfo.imgPath = result.data.dataList.filename;\n      }\n      bus.$emit(\"end:spinner\");\n      console.log(result);\n    },\n    clickInputTag: function () {\n      this.$refs[\"image\"].click();\n    },\n  },\n  data(props) {\n    const status = [\"Active\", \"Inactive\", \"Pending\", \"Closed\"];\n\n    const accountDataLocale = JSON.parse(JSON.stringify(props.accountData));\n\n    const resetForm = () => {\n      accountDataLocale.value = JSON.parse(JSON.stringify(props.accountData));\n    };\n\n    return {\n      status,\n      accountDataLocale,\n      resetForm,\n      file: \"\",\n      userImage: `https://epapanapis.malaysia.coway.do/users/${this.$store.state.userInfo.imgPath}`,\n      icons: {\n        mdiAlertOutline,\n        mdiCloudUploadOutline,\n      },\n    };\n  },\n};\n</script>\n"]}]}