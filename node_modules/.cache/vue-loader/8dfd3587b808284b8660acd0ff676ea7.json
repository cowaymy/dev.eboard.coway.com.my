{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\account-settings\\AccountSettingAttendScanQRCodeSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\account-settings\\AccountSettingAttendScanQRCodeSetting.vue","mtime":1686130685993},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUNsb3NlLCBtZGlDaGVja0JvbGQsIG1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CgppbXBvcnQgeyBRcmNvZGVTdHJlYW0gfSBmcm9tICd2dWUtcXJjb2RlLXJlYWRlcic7CgppbXBvcnQgeyBnZXRNb250aE5hbWUsIGdldERhdGUgfSBmcm9tICcuLi8uLi91dGlscy92YWxpZGF0aW9uJzsKCmV4cG9ydCBkZWZhdWx0IHsKCWNvbXBvbmVudHM6IHsgUXJjb2RlU3RyZWFtIH0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCS8vIGljb24KCQkJaWNvbnM6IHsKCQkJCW1kaUNsb3NlLAoJCQl9LAoJCQlpc1ZhbGlkOiB1bmRlZmluZWQsCgkJCWNhbWVyYTogJ2F1dG8nLAoJCQlyZXN1bHQ6IG51bGwsCgkJCW1vbnRoOiBnZXRNb250aE5hbWUoKSwKCQkJbmRhdGU6IGdldERhdGUoKSwKCQkJbWRpQ2hlY2tCb2xkLAoJCQltZGlDaGVja0RlY2FncmFtT3V0bGluZSwKCQl9OwoJfSwKCgljb21wdXRlZDogewoJCXZhbGlkYXRpb25QZW5kaW5nKCkgewoJCQlyZXR1cm4gdGhpcy5pc1ZhbGlkID09PSB1bmRlZmluZWQgJiYgdGhpcy5jYW1lcmEgPT09ICdvZmYnOwoJCX0sCgoJCXZhbGlkYXRpb25TdWNjZXNzKCkgewoJCQlyZXR1cm4gdGhpcy5pc1ZhbGlkID09PSB0cnVlOwoJCX0sCgoJCXZhbGlkYXRpb25GYWlsdXJlKCkgewoJCQlyZXR1cm4gdGhpcy5pc1ZhbGlkID09PSBmYWxzZTsKCQl9LAoJfSwKCW1ldGhvZHM6IHsKCQlvbkluaXQocHJvbWlzZSkgewoJCQlwcm9taXNlLmNhdGNoKGNvbnNvbGUuZXJyb3IpLnRoZW4odGhpcy5yZXNldFZhbGlkYXRpb25TdGF0ZSk7CgkJfSwKCgkJcmVzZXRWYWxpZGF0aW9uU3RhdGUoKSB7CgkJCXRoaXMuaXNWYWxpZCA9IHVuZGVmaW5lZDsKCQl9LAoKCQlhc3luYyBvbkRlY29kZShjb250ZW50KSB7CgkJCXRoaXMucmVzdWx0ID0gY29udGVudDsKCQkJdGhpcy50dXJuQ2FtZXJhT2ZmKCk7CgoJCQkvL3RoaXMuaXNWYWxpZCA9IGNvbnRlbnQuc3RhcnRzV2l0aCgnaHR0cCcpOwoKCQkJLy8gcHJldGVuZCBpdCdzIHRha2luZyByZWFsbHkgbG9uZwoJCQkvL2F3YWl0IHRoaXMudGltZW91dCgxMDAwKTsKCgkJCS8vIHNvbWUgbW9yZSBkZWxheSwgc28gdXNlcnMgaGF2ZSB0aW1lIHRvIHJlYWQgdGhlIG1lc3NhZ2UKCQkJLy9hd2FpdCB0aGlzLnRpbWVvdXQoMTAwKTsKCgkJCXRoaXMudHVybkNhbWVyYU9uKCk7CgoJCQljb25zb2xlLmxvZyhjb250ZW50KTsKCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJbmFtZTogJ0F0dGVuZFNjYW5RUlNldHRpbmdSZXN1bHQnLAoJCQkJcGFyYW1zOiB7IHNjYW5kYXRhOiBjb250ZW50IH0sCgkJCX0pOwoJCX0sCgoJCXR1cm5DYW1lcmFPbigpIHsKCQkJdGhpcy5jYW1lcmEgPSAnYXV0byc7CgkJfSwKCgkJdHVybkNhbWVyYU9mZigpIHsKCQkJdGhpcy5jYW1lcmEgPSAnb2ZmJzsKCQl9LAoKCQl0aW1lb3V0KG1zKSB7CgkJCXJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKCQkJCXdpbmRvdy5zZXRUaW1lb3V0KHJlc29sdmUsIG1zKTsKCQkJfSk7CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["AccountSettingAttendScanQRCodeSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSettingAttendScanQRCodeSetting.vue","sourceRoot":"src/views/account-settings","sourcesContent":["<template>\n\t<div class=\"auth-v1\">\n\t\t<div class=\"auth-inner\">\n\t\t\t<v-card class=\"auth-card\">\n\t\t\t\t<v-card-title class=\"d-flex align-center justify-center py-7\">\n\t\t\t\t\t<qrcode-stream :camera=\"camera\" @decode=\"onDecode\" @init=\"onInit\">\n\t\t\t\t\t\t<div v-if=\"validationSuccess\" class=\"validation-success\">\n\t\t\t\t\t\t\tThe attendance check is complete.\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if=\"validationFailure\" class=\"validation-failure\">\n\t\t\t\t\t\t\tThis is NOT a URL!\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if=\"validationPending\" class=\"validation-pending\">\n\t\t\t\t\t\t\tLong validation in progress...\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</qrcode-stream>\n\t\t\t\t</v-card-title>\n\n\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t<v-avatar\n\t\t\t\t\t\tsize=\"54\"\n\t\t\t\t\t\trounded\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclass=\"v-avatar-light-bg primary--text mt-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"font-weight-medium\">\n\t\t\t\t\t\t\t\t{{ month }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p class=\"text-xl primary--text font-weight-bold mb-0\">\n\t\t\t\t\t\t\t\t{{ ndate }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t<h4 class=\"text-base font-weight-semibold\">\n\t\t\t\t\t\t\t{{ this.$store.state.userInfo.userName }}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p class=\"text-xs mb-0\">Please scan QRcode in the sales office</p>\n\t\t\t\t\t</div>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<v-card-text>\n\t\t\t\t\t<v-divider></v-divider>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<template v-if=\"validationSuccess\">\n\t\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t\t<v-avatar size=\"54\" rounded>\n\t\t\t\t\t\t\t<v-icon size=\"30\" color=\"success\"> {{ mdiCheckBold }} </v-icon>\n\t\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t\t<p class=\"text-xs mb-0\">{{ result }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card-text>\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"validationFailure\">\n\t\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t\t<v-avatar size=\"54\" rounded>\n\t\t\t\t\t\t\t<v-icon size=\"30\" color=\"error\">\n\t\t\t\t\t\t\t\t{{ mdiCheckDecagramOutline }}\n\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t\t<p class=\"text-xs mb-0\">{{ result }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card-text>\n\t\t\t\t</template>\n\t\t\t</v-card>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mdiClose, mdiCheckBold, mdiCheckDecagramOutline } from '@mdi/js';\n\nimport { QrcodeStream } from 'vue-qrcode-reader';\n\nimport { getMonthName, getDate } from '../../utils/validation';\n\nexport default {\n\tcomponents: { QrcodeStream },\n\tdata() {\n\t\treturn {\n\t\t\t// icon\n\t\t\ticons: {\n\t\t\t\tmdiClose,\n\t\t\t},\n\t\t\tisValid: undefined,\n\t\t\tcamera: 'auto',\n\t\t\tresult: null,\n\t\t\tmonth: getMonthName(),\n\t\t\tndate: getDate(),\n\t\t\tmdiCheckBold,\n\t\t\tmdiCheckDecagramOutline,\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tvalidationPending() {\n\t\t\treturn this.isValid === undefined && this.camera === 'off';\n\t\t},\n\n\t\tvalidationSuccess() {\n\t\t\treturn this.isValid === true;\n\t\t},\n\n\t\tvalidationFailure() {\n\t\t\treturn this.isValid === false;\n\t\t},\n\t},\n\tmethods: {\n\t\tonInit(promise) {\n\t\t\tpromise.catch(console.error).then(this.resetValidationState);\n\t\t},\n\n\t\tresetValidationState() {\n\t\t\tthis.isValid = undefined;\n\t\t},\n\n\t\tasync onDecode(content) {\n\t\t\tthis.result = content;\n\t\t\tthis.turnCameraOff();\n\n\t\t\t//this.isValid = content.startsWith('http');\n\n\t\t\t// pretend it's taking really long\n\t\t\t//await this.timeout(1000);\n\n\t\t\t// some more delay, so users have time to read the message\n\t\t\t//await this.timeout(100);\n\n\t\t\tthis.turnCameraOn();\n\n\t\t\tconsole.log(content);\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'AttendScanQRSettingResult',\n\t\t\t\tparams: { scandata: content },\n\t\t\t});\n\t\t},\n\n\t\tturnCameraOn() {\n\t\t\tthis.camera = 'auto';\n\t\t},\n\n\t\tturnCameraOff() {\n\t\t\tthis.camera = 'off';\n\t\t},\n\n\t\ttimeout(ms) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\twindow.setTimeout(resolve, ms);\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/preset/preset/pages/auth.scss';\n#camera {\n\ttext-align: center;\n\tcolor: #2c3e50;\n}\n#video {\n\tbackground-color: #000000;\n}\n#canvas {\n\tdisplay: none;\n}\nli {\n\tdisplay: inline;\n\tpadding: 5px;\n}\n.validation-success,\n.validation-failure,\n.validation-pending {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\n\tbackground-color: rgba(255, 255, 255, 0.8);\n\ttext-align: center;\n\tfont-weight: bold;\n\tfont-size: 1.4rem;\n\tpadding: 10px;\n\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tjustify-content: center;\n}\n.validation-success {\n\tcolor: green;\n}\n.validation-failure {\n\tcolor: red;\n}\n</style>\n"]}]}