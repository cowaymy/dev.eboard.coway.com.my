{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\dashboard\\sales\\DashboardCardSalesRankingbyHM.vue?vue&type=style&index=0&id=22de4a82&lang=scss&scoped=true&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\dashboard\\sales\\DashboardCardSalesRankingbyHM.vue","mtime":1671161582786},{"path":"D:\\extrust\\eboard\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689230672011},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689230680621},{"path":"D:\\extrust\\eboard\\node_modules\\postcss-loader\\src\\index.js","mtime":1689230675067},{"path":"D:\\extrust\\eboard\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689230669010},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5wcm9qZWN0LXByb2dyZXNzIHsNCgltaW4td2lkdGg6IDRyZW07DQp9DQouYm9yZGVyIHsNCglib3JkZXI6IDZweCBkYXNoZWQgb3JhbmdlOw0KfQ0K"},{"version":3,"sources":["DashboardCardSalesRankingbyHM.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwNA;AACA;AACA;AACA;AACA;AACA","file":"DashboardCardSalesRankingbyHM.vue","sourceRoot":"src/views/dashboard/sales","sourcesContent":["<template>\r\n\t<v-card elevation=\"1\">\r\n\t\t<v-card-title class=\"align-start\">\r\n\t\t\t<span class=\"font-weight-semibold text-2xl\">Net Sales Ranking by HM</span>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn icon small class=\"me-n3 mt-n2\">\r\n\t\t\t\t<v-icon>\r\n\t\t\t\t\t{{ icons.mdiDotsVertical }}\r\n\t\t\t\t</v-icon>\r\n\t\t\t</v-btn>\r\n\t\t</v-card-title>\r\n\r\n\t\t<v-card-actions>\r\n\t\t\t<v-btn color=\"success\" text> Explore </v-btn>\r\n\r\n\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t<v-btn icon color=\"success\" @click=\"show = !show\">\r\n\t\t\t\t<v-icon>{{ show ? icons.mdiChevronUp : icons.mdiChevronDown }}</v-icon>\r\n\t\t\t</v-btn>\r\n\t\t</v-card-actions>\r\n\r\n\t\t<v-expand-transition>\r\n\t\t\t<div v-show=\"show\">\r\n\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<v-list>\r\n\t\t\t\t\t\t<v-list-item-group\r\n\t\t\t\t\t\t\tv-model=\"salesByCountries.myrank\"\r\n\t\t\t\t\t\t\tactive-class=\"border\"\r\n\t\t\t\t\t\t\tcolor=\"indigo\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-list-item\r\n\t\t\t\t\t\t\t\tv-for=\"(data, index) in salesByCountries\"\r\n\t\t\t\t\t\t\t\t:key=\"data.name\"\r\n\t\t\t\t\t\t\t\t:class=\"`d-flex align-center px-0 ${index > 0 ? 'mt-4' : ''}`\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<v-avatar\r\n\t\t\t\t\t\t\t\t\t:color=\"salesByCountries.myrank === index ? 'error' : ''\"\r\n\t\t\t\t\t\t\t\t\tsize=\"30\"\r\n\t\t\t\t\t\t\t\t\t:class=\"`${data.color} white--text font-weight-medium me-3`\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span class=\"text-base\">{{ data.rank }}</span>\r\n\t\t\t\t\t\t\t\t</v-avatar>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex align-center flex-grow-1 flex-wrap\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"me-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-weight-semibold\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text--primary text-xl me-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ fun_numFormat(data.sales) }}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text--primary text-x5 me-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t({{ data.orgcode }})\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- \r\n\t\t\t\t\t\t\t\t<v-icon\r\n\t\t\t\t\t\t\t\t\tsize=\"20\"\r\n\t\t\t\t\t\t\t\t\t:color=\"data.change.charAt(0) === '+' ? 'success' : 'error'\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{{\r\n\t\t\t\t\t\t\t\t\t\tdata.change.charAt(0) === '+'\r\n\t\t\t\t\t\t\t\t\t\t\t? icons.mdiChevronUp\r\n\t\t\t\t\t\t\t\t\t\t\t: icons.mdiChevronDown\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t</v-icon>\r\n\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t:class=\"`text-xs ${\r\n\t\t\t\t\t\t\t\t\t\tdata.change.charAt(0) === '+'\r\n\t\t\t\t\t\t\t\t\t\t\t? 'success--text'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'error--text'\r\n\t\t\t\t\t\t\t\t\t}`\"\r\n\t\t\t\t\t\t\t\t\t>{{ data.change.slice(1) }}</span\r\n\t\t\t\t\t\t\t\t> -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-subtitle class=\"font-weight-semibold text-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ data.name }}\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-subtitle>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-spacer></v-spacer>\r\n\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h4 class=\"font-weight-semibold\"></h4>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"text-xs\">{{ data.change }} %</span>\r\n\t\t\t\t\t\t\t\t\t\t<v-progress-linear\r\n\t\t\t\t\t\t\t\t\t\t\theight=\"6\"\r\n\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"project-progress mt-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t:color=\"resolveUserProgressVariant(data.change)\"\r\n\t\t\t\t\t\t\t\t\t\t\t:value=\"data.change\"\r\n\t\t\t\t\t\t\t\t\t\t></v-progress-linear>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</div>\r\n\t\t</v-expand-transition>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nimport { mdiDotsVertical, mdiChevronUp, mdiChevronDown } from '@mdi/js';\r\n\r\nimport salesApi from '../../../api/salesApi';\r\nexport default {\r\n\tbeforeDestroy() {\r\n\t\tclearInterval(this.polling);\r\n\t},\r\n\r\n\tcreated() {\r\n\t\tvar cData = [];\r\n\r\n\t\tconst user = this.$store.state.userName;\r\n\t\tthis.callApiRinkForGMData().then(function (request) {\r\n\t\t\trequest.data.data.forEach(function (v, index) {\r\n\t\t\t\t//console.log(v);\r\n\t\t\t\tvar newValue = {\r\n\t\t\t\t\trank: v.RNK,\r\n\t\t\t\t\tname: `(${v.MEM_CODE})${v.NAME}`.substring(0, 25),\r\n\t\t\t\t\tsales: v.NETSALES,\r\n\t\t\t\t\tcolor: v.RNK == '1' ? 'warning' : 'secondary',\r\n\t\t\t\t\tchange: v.TARGET,\r\n\t\t\t\t\torgcode: v.ORG_CODE,\r\n\t\t\t\t};\r\n\t\t\t\tcData.push(newValue);\r\n\t\t\t\tif (v.MEM_CODE == user) {\r\n\t\t\t\t\tcData.myrank = index;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tthis.salesByCountries = cData;\r\n\t\tthis.show = true;\r\n\r\n\t\tthis.pollData = setInterval(() => {\r\n\t\t\tthis.show = false;\r\n\t\t\tthis.cData = [];\r\n\t\t\tthis.salesByCountries.splice(0);\r\n\t\t\tthis.cData.splice(0);\r\n\r\n\t\t\tthis.callApiRinkForGMData().then(\r\n\t\t\t\trequest =>\r\n\t\t\t\t\trequest.data.data.forEach(function (v, index) {\r\n\t\t\t\t\t\tvar newValue = {\r\n\t\t\t\t\t\t\trank: v.RNK,\r\n\t\t\t\t\t\t\tname: `(${v.ORG_CODE})${v.NAME}`.substring(0, 25),\r\n\t\t\t\t\t\t\tsales: v.NETSALES,\r\n\t\t\t\t\t\t\tcolor: v.RNK == '1' ? 'warning' : 'secondary',\r\n\t\t\t\t\t\t\tchange: v.TARGET,\r\n\t\t\t\t\t\t\torgcode: v.ORG_CODE,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tcData.push(newValue);\r\n\r\n\t\t\t\t\t\tif (v.MEM_CODE == user) {\r\n\t\t\t\t\t\t\tcData.myrank = index;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t(this.show = true),\r\n\t\t\t);\r\n\r\n\t\t\tthis.salesByCountries = cData;\r\n\t\t}, 300000);\r\n\t},\r\n\r\n\tdata() {\r\n\t\tconst salesByCountries = [];\r\n\t\tconst selectedItem = -1;\r\n\t\tconst selIdx = -1;\r\n\t\tconst polling = [];\r\n\t\treturn {\r\n\t\t\tsalesByCountries,\r\n\t\t\tselectedItem,\r\n\t\t\tselIdx,\r\n\t\t\tpolling,\r\n\t\t\tshow: false,\r\n\t\t\ticons: {\r\n\t\t\t\tmdiDotsVertical,\r\n\t\t\t\tmdiChevronUp,\r\n\t\t\t\tmdiChevronDown,\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\tmethods: {\r\n\t\tresolveUserProgressVariant(progrss) {\r\n\t\t\tif (progrss <= 25) return 'warning';\r\n\t\t\tif (progrss > 25 && progrss <= 50) return 'info';\r\n\t\t\tif (progrss > 50 && progrss <= 75) return 'success';\r\n\t\t\tif (progrss > 75) return 'error';\r\n\t\t\treturn 'secondary';\r\n\t\t},\r\n\t\tfun_numFormat(number) {\r\n\t\t\tconst neFor = number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\t\t\t//console.log(neFor);\r\n\t\t\treturn neFor;\r\n\t\t},\r\n\r\n\t\tasync callApiRinkForGMData() {\r\n\t\t\ttry {\r\n\t\t\t\tconst userInfo = this.$store.state.userInfo;\r\n\t\t\t\treturn await salesApi.getRinkForHMData(userInfo);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.project-progress {\r\n\tmin-width: 4rem;\r\n}\r\n.border {\r\n\tborder: 6px dashed orange;\r\n}\r\n</style>\r\n"]}]}