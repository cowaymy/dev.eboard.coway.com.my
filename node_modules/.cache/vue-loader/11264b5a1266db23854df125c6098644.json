{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCode.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCode.vue","mtime":1686130547325},{"path":"D:\\extrust\\eboard\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689230672011},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689230680621},{"path":"D:\\extrust\\eboard\\node_modules\\postcss-loader\\src\\index.js","mtime":1689230675067},{"path":"D:\\extrust\\eboard\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689230669010},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICdAY29yZS9wcmVzZXQvcHJlc2V0L3BhZ2VzL2F1dGguc2Nzcyc7CiNjYW1lcmEgewoJdGV4dC1hbGlnbjogY2VudGVyOwoJY29sb3I6ICMyYzNlNTA7Cn0KI3ZpZGVvIHsKCWJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7Cn0KI2NhbnZhcyB7CglkaXNwbGF5OiBub25lOwp9CmxpIHsKCWRpc3BsYXk6IGlubGluZTsKCXBhZGRpbmc6IDVweDsKfQoudmFsaWRhdGlvbi1zdWNjZXNzLAoudmFsaWRhdGlvbi1mYWlsdXJlLAoudmFsaWRhdGlvbi1wZW5kaW5nIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXdpZHRoOiAxMDAlOwoJaGVpZ2h0OiAxMDAlOwoKCWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJZm9udC1zaXplOiAxLjRyZW07CglwYWRkaW5nOiAxMHB4OwoKCWRpc3BsYXk6IGZsZXg7CglmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7CglqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoudmFsaWRhdGlvbi1zdWNjZXNzIHsKCWNvbG9yOiBncmVlbjsKfQoudmFsaWRhdGlvbi1mYWlsdXJlIHsKCWNvbG9yOiByZWQ7Cn0K"},{"version":3,"sources":["AttendScanQRCode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttendScanQRCode.vue","sourceRoot":"src/views/comm","sourcesContent":["<template>\n\t<div class=\"\">\n\t\t<div class=\"auth-inner\">\n\t\t\t<v-card class=\"auth-card\">\n\t\t\t\t<v-card-title class=\"d-flex align-center justify-center py-7\">\n\t\t\t\t\t<qrcode-stream :camera=\"camera\" @decode=\"onDecode\" @init=\"onInit\">\n\t\t\t\t\t\t<div v-if=\"validationSuccess\" class=\"validation-success\">\n\t\t\t\t\t\t\tThe attendance check is complete.\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if=\"validationFailure\" class=\"validation-failure\">\n\t\t\t\t\t\t\tThis is NOT a URL!\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if=\"validationPending\" class=\"validation-pending\">\n\t\t\t\t\t\t\tLong validation in progress...\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</qrcode-stream>\n\t\t\t\t</v-card-title>\n\n\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t<v-avatar\n\t\t\t\t\t\tsize=\"54\"\n\t\t\t\t\t\trounded\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclass=\"v-avatar-light-bg primary--text mt-1\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span class=\"font-weight-medium\">\n\t\t\t\t\t\t\t\t{{ month }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p class=\"text-xl primary--text font-weight-bold mb-0\">\n\t\t\t\t\t\t\t\t{{ ndate }}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t<h4 class=\"text-base font-weight-semibold\">\n\t\t\t\t\t\t\t{{ this.$store.state.userInfo.userName }}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p class=\"text-xs mb-0\">Please scan QRcode in the sales office</p>\n\t\t\t\t\t</div>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<v-card-text>\n\t\t\t\t\t<v-divider></v-divider>\n\t\t\t\t</v-card-text>\n\n\t\t\t\t<template v-if=\"validationSuccess\">\n\t\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t\t<v-avatar size=\"54\" rounded>\n\t\t\t\t\t\t\t<v-icon size=\"30\" color=\"success\"> {{ mdiCheckBold }} </v-icon>\n\t\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t\t<p class=\"text-xs mb-0\">{{ result }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card-text>\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"validationFailure\">\n\t\t\t\t\t<v-card-text class=\"d-flex align-center mt-5\">\n\t\t\t\t\t\t<v-avatar size=\"54\" rounded>\n\t\t\t\t\t\t\t<v-icon size=\"30\" color=\"error\">\n\t\t\t\t\t\t\t\t{{ mdiCheckDecagramOutline }}\n\t\t\t\t\t\t\t</v-icon>\n\t\t\t\t\t\t</v-avatar>\n\n\t\t\t\t\t\t<div class=\"ms-3\">\n\t\t\t\t\t\t\t<p class=\"text-xs mb-0\">{{ result }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-card-text>\n\t\t\t\t</template>\n\t\t\t</v-card>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mdiClose, mdiCheckBold, mdiCheckDecagramOutline } from '@mdi/js';\n\nimport { QrcodeStream } from 'vue-qrcode-reader';\n\nimport { getMonthName, getDate } from '../../utils/validation';\n\nexport default {\n\tcomponents: { QrcodeStream },\n\tdata() {\n\t\treturn {\n\t\t\t// icon\n\t\t\ticons: {\n\t\t\t\tmdiClose,\n\t\t\t},\n\t\t\tisValid: undefined,\n\t\t\tcamera: 'auto',\n\t\t\tresult: null,\n\t\t\tmonth: getMonthName(),\n\t\t\tndate: getDate(),\n\t\t\tmdiCheckBold,\n\t\t\tmdiCheckDecagramOutline,\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tvalidationPending() {\n\t\t\treturn this.isValid === undefined && this.camera === 'off';\n\t\t},\n\n\t\tvalidationSuccess() {\n\t\t\treturn this.isValid === true;\n\t\t},\n\n\t\tvalidationFailure() {\n\t\t\treturn this.isValid === false;\n\t\t},\n\t},\n\tmethods: {\n\t\tonInit(promise) {\n\t\t\tpromise.catch(console.error).then(this.resetValidationState);\n\t\t},\n\n\t\tresetValidationState() {\n\t\t\tthis.isValid = undefined;\n\t\t},\n\n\t\tasync onDecode(content) {\n\t\t\tthis.result = content;\n\t\t\tthis.turnCameraOff();\n\n\t\t\t//this.isValid = content.startsWith('http');\n\n\t\t\t// pretend it's taking really long\n\t\t\t//await this.timeout(1000);\n\n\t\t\t// some more delay, so users have time to read the message\n\t\t\t//await this.timeout(100);\n\n\t\t\tthis.turnCameraOn();\n\n\t\t\tconsole.log(content);\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'AttendScanQRResult',\n\t\t\t\tparams: { scandata: content },\n\t\t\t});\n\t\t},\n\n\t\tturnCameraOn() {\n\t\t\tthis.camera = 'auto';\n\t\t},\n\n\t\tturnCameraOff() {\n\t\t\tthis.camera = 'off';\n\t\t},\n\n\t\ttimeout(ms) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\twindow.setTimeout(resolve, ms);\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/preset/preset/pages/auth.scss';\n#camera {\n\ttext-align: center;\n\tcolor: #2c3e50;\n}\n#video {\n\tbackground-color: #000000;\n}\n#canvas {\n\tdisplay: none;\n}\nli {\n\tdisplay: inline;\n\tpadding: 5px;\n}\n.validation-success,\n.validation-failure,\n.validation-pending {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\n\tbackground-color: rgba(255, 255, 255, 0.8);\n\ttext-align: center;\n\tfont-weight: bold;\n\tfont-size: 1.4rem;\n\tpadding: 10px;\n\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tjustify-content: center;\n}\n.validation-success {\n\tcolor: green;\n}\n.validation-failure {\n\tcolor: red;\n}\n</style>\n"]}]}