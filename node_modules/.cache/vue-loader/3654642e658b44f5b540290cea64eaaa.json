{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard.coway.com.my\\src\\views\\comm\\AttendScanQRCodeResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\views\\comm\\AttendScanQRCodeResult.vue","mtime":1709258483419},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbWRpQ2xvc2UsCiAgbWRpQ2hlY2tCb2xkLAogIG1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lLAogIG1kaUhlbHBDaXJjbGVPdXRsaW5lLAogIC8vbWRpQ2hlY2tVbmRlcmxpbmUsCiAgLy9tZGlBbGVydENpcmNsZU91dGxpbmUsCiAgbWRpQWxlcnRDaXJjbGVDaGVjaywKICBtZGlDb21tZW50UHJvY2Vzc2luZ091dGxpbmUsCiAgbWRpQ2hlY2tDaXJjbGUsCiAgbWRpQWxlcnRDaXJjbGVPdXRsaW5lLAp9IGZyb20gIkBtZGkvanMiOwoKaW1wb3J0IHsgZ2V0TW9udGhOYW1lLCBnZXREYXRlIH0gZnJvbSAiLi4vLi4vdXRpbHMvdmFsaWRhdGlvbiI7Ci8vaW1wb3J0IHV0aWxzIGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJzsKaW1wb3J0IGJhc2VBcGkgZnJvbSAiLi4vLi4vYXBpL2luZGV4LmpzIjsKaW1wb3J0IGNhbGVuZGFyQXBpIGZyb20gIi4uLy4uL2FwaS9jYWxlbmRhckFwaS5qcyI7CgppbXBvcnQgewogIHNhdmVBdHRlbmRUb0Nvb2tpZSwKICBnZXRBdHRlbmRGcm9tQ29va2llLAogIGRlbGV0ZUF0ZW5kQ29va2llLAp9IGZyb20gIi4uLy4uL3V0aWxzL2Nvb2tpZXMuanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBdHRlbmRTY2FuUVJSZXN1bHQiLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICBzY2FuZGF0YTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICIiIH0sCiAgICBncHNJbmZvOiB7IHR5cGU6IFN0cmluZywgZGVmYWx1bHQ6ICIiIH0sCiAgICAvLyByZXN1bHRDb2RlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDo6JycgJ2ZhaWwnIH0sCiAgICAvLyByZXN1bHRNZXNzYWdlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwKICB9LAogIGRhdGEoKSB7CiAgICBjb25zb2xlLmxvZyh0aGlzLnNjYW5kYXRhLmRhdGEpOwogICAgcmV0dXJuIHsKICAgICAgLy8gaWNvbgogICAgICBpY29uczogewogICAgICAgIG1kaUNsb3NlLAogICAgICB9LAogICAgICBzY2FuZGF0ZTogIiIsCiAgICAgIHNjYW50aW1lOiAiIiwKICAgICAgc2NhbmJyYW5jaE5hbWU6ICIiLAogICAgICBzY2FuYnJhbmNoQ29kZTogIiIsCiAgICAgIHNjYW5HcHNJbmZvOiBKU09OLnBhcnNlKHRoaXMuZ3BzSW5mbyksCiAgICAgIG1vbnRoOiBnZXRNb250aE5hbWUoKSwKICAgICAgbmRhdGU6IGdldERhdGUoKSwKICAgICAgbWRpQ2hlY2tCb2xkLAogICAgICBtZGlDaGVja0RlY2FncmFtT3V0bGluZSwKICAgICAgbWRpSGVscENpcmNsZU91dGxpbmUsCiAgICAgIHByb0NvbG9yOiAic2Vjb25kYXJ5IiwKICAgICAgcHJvVGV4dDogIiIsCiAgICAgIHByb0ljb246IG1kaUFsZXJ0Q2lyY2xlQ2hlY2ssCiAgICAgIHJlc3VsdENvZGU6ICJwcm9jZXNzIiwKICAgICAgcmVzdWx0TWVzc2FnZTogbnVsbCwKICAgICAgbWRpQ2hlY2tDaXJjbGUsCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7fSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0UHJvZ3Jlc3MoKTsKICAgIHRoaXMudXBkYXRlQXR0ZW5kRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdFByb2dyZXNzKCkgewogICAgICBpZiAodGhpcy5yZXN1bHRDb2RlID09ICJwcm9jZXNzIikgewogICAgICAgIHRoaXMucHJvQ29sb3IgPSAic2Vjb25kYXJ5ICI7CiAgICAgICAgdGhpcy5wcm9UZXh0ID0gInByb2dyZXNzIjsKICAgICAgICB0aGlzLnJlc3VsdE1lc3NhZ2UgPSAidmFsaWRhdGlvbiBpbiBwcm9ncmVzcy4uLiI7CiAgICAgICAgdGhpcy5wcm9JY29uID0gbWRpQ29tbWVudFByb2Nlc3NpbmdPdXRsaW5lOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICoKICAgICAqLwogICAgdXBkYXRlUHJvZ3Jlc3MoZGF0YSkgewogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgaWYgKGRhdGEuc3VjY2VzcykgewogICAgICAgIHRoaXMucHJvQ29sb3IgPSAic3VjY2VzcyI7CiAgICAgICAgdGhpcy5wcm9UZXh0ID0gIlN1Y2Nlc3MiOwogICAgICAgIHRoaXMucmVzdWx0TWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKICAgICAgICB0aGlzLnByb0ljb24gPSBtZGlDaGVja0NpcmNsZTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuc2NhbmRhdGUgPSBgJHtkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cigKICAgICAgICAgICAgNiwKICAgICAgICAgICAgMgogICAgICAgICAgKX0gLyAke2RhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbmRhdGUuc3Vic3RyKAogICAgICAgICAgICA0LAogICAgICAgICAgICAyCiAgICAgICAgICApfSAvICR7ZGF0YS5kYXRhTGlzdC5hdHRlbmRzY2FuZGF0ZS5zdWJzdHIoMCwgNCl9IGA7CgogICAgICAgICAgdGhpcy5zY2FudGltZSA9IGAke2RhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbnRpbWV9YDsKICAgICAgICB9IGNhdGNoIChleCkgewogICAgICAgICAgY29uc29sZS5sb2coZXgpOwogICAgICAgIH0KCiAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5kYXRhTGlzdC5hdHRlbmRzY2FuZGF0ZS5zdWJzdHIoMCwgNCkpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbmRhdGUuc3Vic3RyKDQsIDIpKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cig2LCAyKSk7CgogICAgICAgIGlmICgKICAgICAgICAgIGRhdGEuZGF0YUxpc3QuYXR0ZW5kdG9rZW4gIT0gdW5kZWZpbmVkICYmCiAgICAgICAgICBkYXRhLmRhdGFMaXN0LmF0dGVuZHRva2VuICE9ICJ1bmRlZmluZWQiCiAgICAgICAgKSB7CiAgICAgICAgICAvL2RlbGV0ZSBjb29raWUKICAgICAgICAgIGRlbGV0ZUF0ZW5kQ29va2llKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lKTsKCiAgICAgICAgICAvL2NyZWF0ZSBuZXcgY29va2llCiAgICAgICAgICBzYXZlQXR0ZW5kVG9Db29raWUoCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLAogICAgICAgICAgICBkYXRhLmRhdGFMaXN0LmF0dGVuZHRva2VuCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb0NvbG9yID0gImVycm9yIjsKICAgICAgICB0aGlzLnByb1RleHQgPSAiRmFpbGVkIjsKICAgICAgICB0aGlzLnJlc3VsdE1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2U7CiAgICAgICAgdGhpcy5wcm9JY29uID0gbWRpQWxlcnRDaXJjbGVPdXRsaW5lOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHVwZGF0ZUF0dGVuZERhdGEoKSB7CiAgICAgIC8veyJkZXZpY2VJZCI6IjNmNzFmODIwYzU3ODEwNjUiLCJjdXJyZW50VGltZSI6IjA5OjQ3OjA0IiAsZGF0ZToieXl5eW1tZGQifQoKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwYXJhbSA9IHRoaXMuc2NhbmRhdGE7CiAgICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UocGFyYW0pOwoKICAgICAgICBjb25zdCBwYXlsb2FkID0gewogICAgICAgICAgc2NhbkRhdGU6IG9iai5kYXRlLAogICAgICAgICAgc2NhblRpbWU6IG9iai5jdXJyZW50VGltZSwKICAgICAgICAgIHNjYW5EZXZpY2U6IG9iai5kZXZpY2VJZCwKICAgICAgICAgIHNjYW5RUlR5cGU6ICJBMDAwMSIsCiAgICAgICAgICBzY2FuUVJUeXBlRGVzYzogIlFSIiwKICAgICAgICAgIHNjYW5CcmFuY2hMYXRpdHVkZTogb2JqLmJyYW5jaExhdGl0dWRlLAogICAgICAgICAgc2NhbkJyYW5jaExvbmdpdHVkZTogb2JqLmJyYW5jaExvbmdpdHVkZSwKICAgICAgICAgIHNjYW5Vc2VyVG9rZW46IGdldEF0dGVuZEZyb21Db29raWUoCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lCiAgICAgICAgICApLAogICAgICAgICAgdXNlck5hbWU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLAogICAgICAgIH07CgogICAgICAgIGNvbnN0IGxvY0RhdGEgPSBhd2FpdCBjYWxlbmRhckFwaS52ZXJpZnlMb2NhdGlvbkZvckhwKHsKICAgICAgICAgIGlkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyTmFtZSwKICAgICAgICAgIGRldmljZUlkOiBvYmouZGV2aWNlSWQsCiAgICAgICAgICBsYXRpdHVkZTogb2JqLmJyYW5jaExhdGl0dWRlLAogICAgICAgICAgbG9uZ2l0dWRlOiBvYmouYnJhbmNoTG9uZ2l0dWRlLAogICAgICAgIH0pOwoKICAgICAgICBpZiAoIWxvY0RhdGEuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKGxvY0RhdGEuZGF0YSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgY2FsZW5kYXJBcGkuZmV0Y2hBdHRlbmRBbGxvd0xhY3Rpb25Gcm9IcCh7CiAgICAgICAgICBpZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlck5hbWUsCiAgICAgICAgICBkZXZpY2VJZDogb2JqLmRldmljZUlkLAogICAgICAgICAgbGF0aXR1ZGU6IG9iai5icmFuY2hMYXRpdHVkZSwKICAgICAgICAgIGxvbmdpdHVkZTogb2JqLmJyYW5jaExvbmdpdHVkZSwKICAgICAgICB9KTsKCiAgICAgICAgaWYgKGRhdGEuZGF0YS5kYXRhTGlzdFswXS5pc0FsbG93ID49IDEpIHsKICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYmFzZUFwaS51cGRhdGVBdHRlbmREYXRhKHBheWxvYWQpOwoKICAgICAgICAgIGNvbnN0IGJyYW5jaERhdGEgPSBhd2FpdCBjYWxlbmRhckFwaS5mZXRjaEF0dGVuZEJyYW5jaE5hbWUoCiAgICAgICAgICAgIG9iai5kZXZpY2VJZAogICAgICAgICAgKTsKCiAgICAgICAgICBpZiAoYnJhbmNoRGF0YS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdGhpcy5zY2FuYnJhbmNoTmFtZSA9CiAgICAgICAgICAgICAgYnJhbmNoRGF0YS5kYXRhLmRhdGFMaXN0WzBdLmF0dGVuZF9icmFuY2hfbmFtZTsKICAgICAgICAgICAgdGhpcy5zY2FuYnJhbmNoQ29kZSA9CiAgICAgICAgICAgICAgYnJhbmNoRGF0YS5kYXRhLmRhdGFMaXN0WzBdLmF0dGVuZF9icmFuY2hfY29kZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MoYnJhbmNoRGF0YS5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKHsKICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgIG1lc3NhZ2U6CiAgICAgICAgICAgICAgIllvdSBhcmUgbm90IHJlZ2lzdGVyZWQgdW5kZXIgdGhpcyByZXBvcnRpbmcgYnJhbmNoLiBLaW5kbHkgcmVmZXIgdG8geW91ciByZXBvcnRpbmcgbWFuYWdlciIsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBhbGVydChlLnRvU3RyaW5nKTsKICAgICAgICBjb25zb2xlLmxvZyhlLnRvU3RyaW5nKCkpOwogICAgICAgIGxldCBkYXRhID0gbmV3IE9iamVjdCgpOwogICAgICAgIGRhdGEuc3VjY2VzcyA9IGZhbHNlOwogICAgICAgIGRhdGEubWVzc2FnZSA9IGUudG9TdHJpbmcoKTsKICAgICAgICB0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["AttendScanQRCodeResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttendScanQRCodeResult.vue","sourceRoot":"src/views/comm","sourcesContent":["<template>\n  <v-card color=\"text-center\">\n    <v-card-text class=\"d-flex flex-column justify-center align-center\">\n      <!-- <v-avatar\n\t\t\t\tcolor=\"success\"\n\t\t\t\tclass=\"v-avatar-light-bg primary--text mt-10\"\n\t\t\t\ticon\n\t\t\t\tsize=\"100\"\n\t\t\t> -->\n      <v-icon size=\"4rem\" :color=\"proColor\">\n        {{ proIcon }}\n      </v-icon>\n      <!-- </v-avatar> -->\n      <h6 class=\"text-5xl mt-4 font-weight-semibold\">{{ proText }}</h6>\n    </v-card-text>\n    <v-card-text>\n      {{ resultMessage }}\n    </v-card-text>\n    <v-card-text>\n      <v-divider></v-divider>\n    </v-card-text>\n\n    <v-card-text>\n      <h3 class=\"text-6xl mt-4 font-weight-semibold\">\n        {{ this.$store.state.userInfo.userName }}\n      </h3>\n      <div>{{ this.scandate }}</div>\n      <div>{{ this.scantime }}</div>\n      <div>[{{ this.scanbranchCode }}]{{ this.scanbranchName }}</div>\n      <v-divider></v-divider>\n      <div>\n        [location]::[{{ this.scanGpsInfo.location.geocode[0].postalCode }}]{{\n          this.scanGpsInfo.location.geocode[0].city\n        }}\n        - {{ this.scanGpsInfo.location.geocode[0].street }}\n      </div>\n    </v-card-text>\n\n    <v-card-text>\n      <v-btn\n        color=\"primary\"\n        class=\"mt-4\"\n        @click.native=\"$router.push('AttendHistory')\"\n      >\n        check Histroy</v-btn\n      >\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport {\n  mdiClose,\n  mdiCheckBold,\n  mdiCheckDecagramOutline,\n  mdiHelpCircleOutline,\n  //mdiCheckUnderline,\n  //mdiAlertCircleOutline,\n  mdiAlertCircleCheck,\n  mdiCommentProcessingOutline,\n  mdiCheckCircle,\n  mdiAlertCircleOutline,\n} from \"@mdi/js\";\n\nimport { getMonthName, getDate } from \"../../utils/validation\";\n//import utils from '../../utils/utils';\nimport baseApi from \"../../api/index.js\";\nimport calendarApi from \"../../api/calendarApi.js\";\n\nimport {\n  saveAttendToCookie,\n  getAttendFromCookie,\n  deleteAtendCookie,\n} from \"../../utils/cookies.js\";\n\nexport default {\n  name: \"AttendScanQRResult\",\n  components: {},\n  props: {\n    scandata: { type: String, default: \"\" },\n    gpsInfo: { type: String, defalult: \"\" },\n    // resultCode: { type: String, default::'' 'fail' },\n    // resultMessage: { type: String, default: '' },\n  },\n  data() {\n    console.log(this.scandata.data);\n    return {\n      // icon\n      icons: {\n        mdiClose,\n      },\n      scandate: \"\",\n      scantime: \"\",\n      scanbranchName: \"\",\n      scanbranchCode: \"\",\n      scanGpsInfo: JSON.parse(this.gpsInfo),\n      month: getMonthName(),\n      ndate: getDate(),\n      mdiCheckBold,\n      mdiCheckDecagramOutline,\n      mdiHelpCircleOutline,\n      proColor: \"secondary\",\n      proText: \"\",\n      proIcon: mdiAlertCircleCheck,\n      resultCode: \"process\",\n      resultMessage: null,\n      mdiCheckCircle,\n    };\n  },\n\n  computed: {},\n  created() {\n    this.initProgress();\n    this.updateAttendData();\n  },\n  methods: {\n    initProgress() {\n      if (this.resultCode == \"process\") {\n        this.proColor = \"secondary \";\n        this.proText = \"progress\";\n        this.resultMessage = \"validation in progress...\";\n        this.proIcon = mdiCommentProcessingOutline;\n      }\n    },\n\n    /**\n     *\n     */\n    updateProgress(data) {\n      console.log(data);\n      if (data.success) {\n        this.proColor = \"success\";\n        this.proText = \"Success\";\n        this.resultMessage = data.message;\n        this.proIcon = mdiCheckCircle;\n\n        try {\n          this.scandate = `${data.dataList.attendscandate.substr(\n            6,\n            2\n          )} / ${data.dataList.attendscandate.substr(\n            4,\n            2\n          )} / ${data.dataList.attendscandate.substr(0, 4)} `;\n\n          this.scantime = `${data.dataList.attendscantime}`;\n        } catch (ex) {\n          console.log(ex);\n        }\n\n        // console.log(data.dataList.attendscandate.substr(0, 4));\n        // console.log(data.dataList.attendscandate.substr(4, 2));\n        // console.log(data.dataList.attendscandate.substr(6, 2));\n\n        if (\n          data.dataList.attendtoken != undefined &&\n          data.dataList.attendtoken != \"undefined\"\n        ) {\n          //delete cookie\n          deleteAtendCookie(this.$store.state.userInfo.userName);\n\n          //create new cookie\n          saveAttendToCookie(\n            this.$store.state.userInfo.userName,\n            data.dataList.attendtoken\n          );\n        }\n      } else {\n        this.proColor = \"error\";\n        this.proText = \"Failed\";\n        this.resultMessage = data.message;\n        this.proIcon = mdiAlertCircleOutline;\n      }\n    },\n\n    async updateAttendData() {\n      //{\"deviceId\":\"3f71f820c5781065\",\"currentTime\":\"09:47:04\" ,date:\"yyyymmdd\"}\n\n      try {\n        const param = this.scandata;\n        let obj = JSON.parse(param);\n\n        const payload = {\n          scanDate: obj.date,\n          scanTime: obj.currentTime,\n          scanDevice: obj.deviceId,\n          scanQRType: \"A0001\",\n          scanQRTypeDesc: \"QR\",\n          scanBranchLatitude: obj.branchLatitude,\n          scanBranchLongitude: obj.branchLongitude,\n          scanUserToken: getAttendFromCookie(\n            this.$store.state.userInfo.userName\n          ),\n          userName: this.$store.state.userInfo.userName,\n        };\n\n        const locData = await calendarApi.verifyLocationForHp({\n          id: this.$store.state.userInfo.userName,\n          deviceId: obj.deviceId,\n          latitude: obj.branchLatitude,\n          longitude: obj.branchLongitude,\n        });\n\n        if (!locData.data.success) {\n          this.updateProgress(locData.data);\n          return;\n        }\n\n        const data = await calendarApi.fetchAttendAllowLactionFroHp({\n          id: this.$store.state.userInfo.userName,\n          deviceId: obj.deviceId,\n          latitude: obj.branchLatitude,\n          longitude: obj.branchLongitude,\n        });\n\n        if (data.data.dataList[0].isAllow >= 1) {\n          const { data } = await baseApi.updateAttendData(payload);\n\n          const branchData = await calendarApi.fetchAttendBranchName(\n            obj.deviceId\n          );\n\n          if (branchData.data.success) {\n            this.scanbranchName =\n              branchData.data.dataList[0].attend_branch_name;\n            this.scanbranchCode =\n              branchData.data.dataList[0].attend_branch_code;\n          } else {\n            this.updateProgress(branchData.data);\n          }\n\n          this.updateProgress(data);\n        } else {\n          this.updateProgress({\n            success: false,\n            message:\n              \"You are not registered under this reporting branch. Kindly refer to your reporting manager\",\n          });\n        }\n      } catch (e) {\n        alert(e.toString);\n        console.log(e.toString());\n        let data = new Object();\n        data.success = false;\n        data.message = e.toString();\n        this.updateProgress(data);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@core/preset/preset/pages/auth.scss\";\n</style>\n"]}]}