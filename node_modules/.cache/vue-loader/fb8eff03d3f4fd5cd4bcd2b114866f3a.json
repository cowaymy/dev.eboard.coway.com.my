{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCodeResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\comm\\AttendScanQRCodeResult.vue","mtime":1689153278546},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgltZGlDbG9zZSwKCW1kaUNoZWNrQm9sZCwKCW1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lLAoJbWRpSGVscENpcmNsZU91dGxpbmUsCgkvL21kaUNoZWNrVW5kZXJsaW5lLAoJLy9tZGlBbGVydENpcmNsZU91dGxpbmUsCgltZGlBbGVydENpcmNsZUNoZWNrLAoJbWRpQ29tbWVudFByb2Nlc3NpbmdPdXRsaW5lLAoJbWRpQ2hlY2tDaXJjbGUsCgltZGlBbGVydENpcmNsZU91dGxpbmUsCn0gZnJvbSAnQG1kaS9qcyc7CgppbXBvcnQgeyBnZXRNb250aE5hbWUsIGdldERhdGUgfSBmcm9tICcuLi8uLi91dGlscy92YWxpZGF0aW9uJzsKaW1wb3J0IHV0aWxzIGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJzsKaW1wb3J0IGJhc2VBcGkgZnJvbSAnLi4vLi4vYXBpL2luZGV4LmpzJzsKaW1wb3J0IGNhbGVuZGFyQXBpIGZyb20gJy4uLy4uL2FwaS9jYWxlbmRhckFwaS5qcyc7CgppbXBvcnQgewoJc2F2ZUF0dGVuZFRvQ29va2llLAoJZ2V0QXR0ZW5kRnJvbUNvb2tpZSwKCWRlbGV0ZUF0ZW5kQ29va2llLAp9IGZyb20gJy4uLy4uL3V0aWxzL2Nvb2tpZXMuanMnOwoKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogJ0F0dGVuZFNjYW5RUlJlc3VsdCcsCgljb21wb25lbnRzOiB7fSwKCXByb3BzOiB7CgkJc2NhbmRhdGE6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LAoJCS8vIHJlc3VsdENvZGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OjonJyAnZmFpbCcgfSwKCQkvLyByZXN1bHRNZXNzYWdlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSwKCX0sCglkYXRhKCkgewoJCWNvbnNvbGUubG9nKHRoaXMuc2NhbmRhdGEuZGF0YSk7CgkJcmV0dXJuIHsKCQkJLy8gaWNvbgoJCQlpY29uczogewoJCQkJbWRpQ2xvc2UsCgkJCX0sCgkJCXNjYW5kYXRlOiAnJywKCQkJc2NhbnRpbWU6ICcnLAoJCQlzY2FuYnJhbmNoTmFtZTogJycsCgkJCXNjYW5icmFuY2hDb2RlOiAnJywKCQkJbW9udGg6IGdldE1vbnRoTmFtZSgpLAoJCQluZGF0ZTogZ2V0RGF0ZSgpLAoJCQltZGlDaGVja0JvbGQsCgkJCW1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lLAoJCQltZGlIZWxwQ2lyY2xlT3V0bGluZSwKCQkJcHJvQ29sb3I6ICdzZWNvbmRhcnknLAoJCQlwcm9UZXh0OiAnJywKCQkJcHJvSWNvbjogbWRpQWxlcnRDaXJjbGVDaGVjaywKCQkJcmVzdWx0Q29kZTogJ3Byb2Nlc3MnLAoJCQlyZXN1bHRNZXNzYWdlOiBudWxsLAoJCQltZGlDaGVja0NpcmNsZSwKCQl9OwoJfSwKCgljb21wdXRlZDoge30sCgljcmVhdGVkKCkgewoJCWNvbnNvbGUubG9nKCc9PT09PT0+JyArIHRoaXMuc2NhbmRhdGEpOwoKCQl0aGlzLmluaXRQcm9ncmVzcygpOwoJCXRoaXMudXBkYXRlQXR0ZW5kRGF0YSgpOwoJfSwKCW1ldGhvZHM6IHsKCQlnb1RvQXR0ZW5kSGlzdHkoKSB7CgkJCWNvbnNvbGUubG9nKCcxMjMxJyk7CgkJfSwKCQlpbml0UHJvZ3Jlc3MoKSB7CgkJCWlmICh0aGlzLnJlc3VsdENvZGUgPT0gJ3Byb2Nlc3MnKSB7CgkJCQl0aGlzLnByb0NvbG9yID0gJ3NlY29uZGFyeSAnOwoJCQkJdGhpcy5wcm9UZXh0ID0gJ3Byb2dyZXNzJzsKCQkJCXRoaXMucmVzdWx0TWVzc2FnZSA9ICd2YWxpZGF0aW9uIGluIHByb2dyZXNzLi4uJzsKCQkJCXRoaXMucHJvSWNvbiA9IG1kaUNvbW1lbnRQcm9jZXNzaW5nT3V0bGluZTsKCQkJfQoJCX0sCgoJCS8qKgoJCSAqCgkJICovCgkJdXBkYXRlUHJvZ3Jlc3MoZGF0YSkgewoJCQljb25zb2xlLmxvZyhkYXRhKTsKCQkJaWYgKGRhdGEuc3VjY2VzcykgewoJCQkJdGhpcy5wcm9Db2xvciA9ICdzdWNjZXNzJzsKCQkJCXRoaXMucHJvVGV4dCA9ICdTdWNjZXNzJzsKCQkJCXRoaXMucmVzdWx0TWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKCQkJCXRoaXMucHJvSWNvbiA9IG1kaUNoZWNrQ2lyY2xlOwoKCQkJCXRyeSB7CgkJCQkJdGhpcy5zY2FuZGF0ZSA9IGAke2RhdGEuZGF0YUxpc3QuYXR0ZW5kc2NhbmRhdGUuc3Vic3RyKAoJCQkJCQk2LAoJCQkJCQkyLAoJCQkJCSl9IC8gJHtkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cigKCQkJCQkJNCwKCQkJCQkJMiwKCQkJCQkpfSAvICR7ZGF0YS5kYXRhTGlzdC5hdHRlbmRzY2FuZGF0ZS5zdWJzdHIoMCwgNCl9IGA7CgoJCQkJCXRoaXMuc2NhbnRpbWUgPSBgJHtkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW50aW1lfWA7CgkJCQl9IGNhdGNoIChleCkgewoJCQkJCWNvbnNvbGUubG9nKGV4KTsKCQkJCX0KCgkJCQkvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cigwLCA0KSk7CgkJCQkvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cig0LCAyKSk7CgkJCQkvLyBjb25zb2xlLmxvZyhkYXRhLmRhdGFMaXN0LmF0dGVuZHNjYW5kYXRlLnN1YnN0cig2LCAyKSk7CgoJCQkJY29uc29sZS5sb2coJ+qysOqzvCDsv6DtgqTqsJIgOiAgJywgZGF0YS5kYXRhTGlzdC5hdHRlbmR0b2tlbik7CgkJCQlpZiAoCgkJCQkJZGF0YS5kYXRhTGlzdC5hdHRlbmR0b2tlbiAhPSB1bmRlZmluZWQgJiYKCQkJCQlkYXRhLmRhdGFMaXN0LmF0dGVuZHRva2VuICE9ICd1bmRlZmluZWQnCgkJCQkpIHsKCQkJCQljb25zb2xlLmxvZygn7L+g7YKkIOyDneyEsS4uLi4u7Iug6recIOy/oO2CpDonLCBkYXRhLmRhdGFMaXN0LmF0dGVuZHRva2VuKTsKCgkJCQkJLy9kZWxldGUgY29va2llCgkJCQkJZGVsZXRlQXRlbmRDb29raWUodGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8udXNlck5hbWUpOwoKCQkJCQkvL2NyZWF0ZSBuZXcgY29va2llCgkJCQkJc2F2ZUF0dGVuZFRvQ29va2llKAoJCQkJCQl0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyTmFtZSwKCQkJCQkJZGF0YS5kYXRhTGlzdC5hdHRlbmR0b2tlbiwKCQkJCQkpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJdGhpcy5wcm9Db2xvciA9ICdlcnJvcic7CgkJCQl0aGlzLnByb1RleHQgPSAnRmFpbGVkJzsKCQkJCXRoaXMucmVzdWx0TWVzc2FnZSA9IGRhdGEubWVzc2FnZTsKCQkJCXRoaXMucHJvSWNvbiA9IG1kaUFsZXJ0Q2lyY2xlT3V0bGluZTsKCQkJfQoJCX0sCgoJCWFzeW5jIHVwZGF0ZUF0dGVuZERhdGEoKSB7CgkJCWNvbnNvbGUubG9nKHRoaXMuc2NhbmRhdGEuZGF0YSk7CgoJCQkvL3siZGV2aWNlSWQiOiIzZjcxZjgyMGM1NzgxMDY1IiwiY3VycmVudFRpbWUiOiIwOTo0NzowNCIgLGRhdGU6Inl5eXltbWRkIn0KCgkJCXRyeSB7CgkJCQljb25zdCBwYXJhbSA9IHRoaXMuc2NhbmRhdGE7CgkJCQlsZXQgb2JqID0gSlNPTi5wYXJzZShwYXJhbSk7CgoJCQkJY29uc29sZS5sb2cob2JqKTsKCgkJCQljb25zdCBwYXlsb2FkID0gewoJCQkJCXNjYW5EYXRlOiBvYmouZGF0ZSwKCQkJCQlzY2FuVGltZTogb2JqLmN1cnJlbnRUaW1lLAoJCQkJCXNjYW5EZXZpY2U6IG9iai5kZXZpY2VJZCwKCQkJCQlzY2FuUVJUeXBlOiAnQTAwMDEnLAoJCQkJCXNjYW5RUlR5cGVEZXNjOiAnUVInLAoJCQkJCXNjYW5Vc2VyVG9rZW46IGdldEF0dGVuZEZyb21Db29raWUoCgkJCQkJCXRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLAoJCQkJCSksCgkJCQkJdXNlck5hbWU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLAoJCQkJfTsKCgkJCQljb25zdCBkYXRhID0gYXdhaXQgY2FsZW5kYXJBcGkuZmV0Y2hBdHRlbmRBbGxvd0xhY3Rpb25Gcm9IcCh7CgkJCQkJaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVzZXJOYW1lLAoJCQkJCWRldmljZUlkOiBvYmouZGV2aWNlSWQsCgkJCQl9KTsKCgkJCQljb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTsKCQkJCWNvbnNvbGUubG9nKCdkYXRhIDo6OicsIGRhdGEpOwoJCQkJY29uc29sZS5sb2coJ2lzQWxsb3cgOjo6JywgZGF0YS5kYXRhLmRhdGFMaXN0WzBdLmlzQWxsb3cpOwoJCQkJY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CgoJCQkJaWYgKGRhdGEuZGF0YS5kYXRhTGlzdFswXS5pc0FsbG93ID49IDEpIHsKCQkJCQljb25zdCB7IGRhdGEgfSA9IGF3YWl0IGJhc2VBcGkudXBkYXRlQXR0ZW5kRGF0YShwYXlsb2FkKTsKCgkJCQkJY29uc3QgYnJhbmNoRGF0YSA9IGF3YWl0IGNhbGVuZGFyQXBpLmZldGNoQXR0ZW5kQnJhbmNoTmFtZSgKCQkJCQkJb2JqLmRldmljZUlkLAoJCQkJCSk7CgoJCQkJCWlmIChicmFuY2hEYXRhLmRhdGEuc3VjY2VzcykgewoJCQkJCQl0aGlzLnNjYW5icmFuY2hOYW1lID0KCQkJCQkJCWJyYW5jaERhdGEuZGF0YS5kYXRhTGlzdFswXS5hdHRlbmRfYnJhbmNoX25hbWU7CgkJCQkJCXRoaXMuc2NhbmJyYW5jaENvZGUgPQoJCQkJCQkJYnJhbmNoRGF0YS5kYXRhLmRhdGFMaXN0WzBdLmF0dGVuZF9icmFuY2hfY29kZTsKCQkJCQl9IGVsc2UgewoJCQkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKGJyYW5jaERhdGEuZGF0YSk7CgkJCQkJfQoKCQkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEpOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKHsKCQkJCQkJc3VjY2VzczogZmFsc2UsCgkJCQkJCW1lc3NhZ2U6CgkJCQkJCQknWW91IGFyZSBub3QgcmVnaXN0ZXJlZCB1bmRlciB0aGlzIHJlcG9ydGluZyBicmFuY2guIEtpbmRseSByZWZlciB0byB5b3VyIHJlcG9ydGluZyBtYW5hZ2VyJywKCQkJCQl9KTsKCQkJCX0KCQkJfSBjYXRjaCAoZSkgewoJCQkJY29uc29sZS5sb2coZS50b1N0cmluZygpKTsKCQkJCWxldCBkYXRhID0gbmV3IE9iamVjdCgpOwoJCQkJZGF0YS5zdWNjZXNzID0gZmFsc2U7CgkJCQlkYXRhLm1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CgkJCQl0aGlzLnVwZGF0ZVByb2dyZXNzKGRhdGEpOwoJCQl9CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["AttendScanQRCodeResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AttendScanQRCodeResult.vue","sourceRoot":"src/views/comm","sourcesContent":["<template>\n\t<v-card color=\"text-center\">\n\t\t<v-card-text class=\"d-flex flex-column justify-center align-center\">\n\t\t\t<!-- <v-avatar\n\t\t\t\tcolor=\"success\"\n\t\t\t\tclass=\"v-avatar-light-bg primary--text mt-10\"\n\t\t\t\ticon\n\t\t\t\tsize=\"100\"\n\t\t\t> -->\n\t\t\t<v-icon size=\"4rem\" :color=\"proColor\">\n\t\t\t\t{{ proIcon }}\n\t\t\t</v-icon>\n\t\t\t<!-- </v-avatar> -->\n\t\t\t<h6 class=\"text-5xl mt-4 font-weight-semibold\">{{ proText }}</h6>\n\t\t</v-card-text>\n\t\t<v-card-text>\n\t\t\t{{ resultMessage }}\n\t\t</v-card-text>\n\t\t<v-card-text>\n\t\t\t<v-divider></v-divider>\n\t\t</v-card-text>\n\n\t\t<v-card-text>\n\t\t\t<h3 class=\"text-6xl mt-4 font-weight-semibold\">\n\t\t\t\t{{ this.$store.state.userInfo.userName }}\n\t\t\t</h3>\n\t\t\t<div>{{ this.scandate }}</div>\n\t\t\t<div>{{ this.scantime }}</div>\n\t\t\t<div>[{{ this.scanbranchCode }}]{{ this.scanbranchName }}</div>\n\t\t</v-card-text>\n\n\t\t<v-card-text>\n\t\t\t<v-btn\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tclass=\"mt-4\"\n\t\t\t\t@click.native=\"$router.push('AttendHistory')\"\n\t\t\t>\n\t\t\t\tcheck Histroy</v-btn\n\t\t\t>\n\t\t</v-card-text>\n\t</v-card>\n</template>\n\n<script>\nimport {\n\tmdiClose,\n\tmdiCheckBold,\n\tmdiCheckDecagramOutline,\n\tmdiHelpCircleOutline,\n\t//mdiCheckUnderline,\n\t//mdiAlertCircleOutline,\n\tmdiAlertCircleCheck,\n\tmdiCommentProcessingOutline,\n\tmdiCheckCircle,\n\tmdiAlertCircleOutline,\n} from '@mdi/js';\n\nimport { getMonthName, getDate } from '../../utils/validation';\nimport utils from '../../utils/utils';\nimport baseApi from '../../api/index.js';\nimport calendarApi from '../../api/calendarApi.js';\n\nimport {\n\tsaveAttendToCookie,\n\tgetAttendFromCookie,\n\tdeleteAtendCookie,\n} from '../../utils/cookies.js';\n\nexport default {\n\tname: 'AttendScanQRResult',\n\tcomponents: {},\n\tprops: {\n\t\tscandata: { type: String, default: '' },\n\t\t// resultCode: { type: String, default::'' 'fail' },\n\t\t// resultMessage: { type: String, default: '' },\n\t},\n\tdata() {\n\t\tconsole.log(this.scandata.data);\n\t\treturn {\n\t\t\t// icon\n\t\t\ticons: {\n\t\t\t\tmdiClose,\n\t\t\t},\n\t\t\tscandate: '',\n\t\t\tscantime: '',\n\t\t\tscanbranchName: '',\n\t\t\tscanbranchCode: '',\n\t\t\tmonth: getMonthName(),\n\t\t\tndate: getDate(),\n\t\t\tmdiCheckBold,\n\t\t\tmdiCheckDecagramOutline,\n\t\t\tmdiHelpCircleOutline,\n\t\t\tproColor: 'secondary',\n\t\t\tproText: '',\n\t\t\tproIcon: mdiAlertCircleCheck,\n\t\t\tresultCode: 'process',\n\t\t\tresultMessage: null,\n\t\t\tmdiCheckCircle,\n\t\t};\n\t},\n\n\tcomputed: {},\n\tcreated() {\n\t\tconsole.log('======>' + this.scandata);\n\n\t\tthis.initProgress();\n\t\tthis.updateAttendData();\n\t},\n\tmethods: {\n\t\tgoToAttendHisty() {\n\t\t\tconsole.log('1231');\n\t\t},\n\t\tinitProgress() {\n\t\t\tif (this.resultCode == 'process') {\n\t\t\t\tthis.proColor = 'secondary ';\n\t\t\t\tthis.proText = 'progress';\n\t\t\t\tthis.resultMessage = 'validation in progress...';\n\t\t\t\tthis.proIcon = mdiCommentProcessingOutline;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t *\n\t\t */\n\t\tupdateProgress(data) {\n\t\t\tconsole.log(data);\n\t\t\tif (data.success) {\n\t\t\t\tthis.proColor = 'success';\n\t\t\t\tthis.proText = 'Success';\n\t\t\t\tthis.resultMessage = data.message;\n\t\t\t\tthis.proIcon = mdiCheckCircle;\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.scandate = `${data.dataList.attendscandate.substr(\n\t\t\t\t\t\t6,\n\t\t\t\t\t\t2,\n\t\t\t\t\t)} / ${data.dataList.attendscandate.substr(\n\t\t\t\t\t\t4,\n\t\t\t\t\t\t2,\n\t\t\t\t\t)} / ${data.dataList.attendscandate.substr(0, 4)} `;\n\n\t\t\t\t\tthis.scantime = `${data.dataList.attendscantime}`;\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tconsole.log(ex);\n\t\t\t\t}\n\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(0, 4));\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(4, 2));\n\t\t\t\t// console.log(data.dataList.attendscandate.substr(6, 2));\n\n\t\t\t\tconsole.log('결과 쿠키값 :  ', data.dataList.attendtoken);\n\t\t\t\tif (\n\t\t\t\t\tdata.dataList.attendtoken != undefined &&\n\t\t\t\t\tdata.dataList.attendtoken != 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tconsole.log('쿠키 생성.....신규 쿠키:', data.dataList.attendtoken);\n\n\t\t\t\t\t//delete cookie\n\t\t\t\t\tdeleteAtendCookie(this.$store.state.userInfo.userName);\n\n\t\t\t\t\t//create new cookie\n\t\t\t\t\tsaveAttendToCookie(\n\t\t\t\t\t\tthis.$store.state.userInfo.userName,\n\t\t\t\t\t\tdata.dataList.attendtoken,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.proColor = 'error';\n\t\t\t\tthis.proText = 'Failed';\n\t\t\t\tthis.resultMessage = data.message;\n\t\t\t\tthis.proIcon = mdiAlertCircleOutline;\n\t\t\t}\n\t\t},\n\n\t\tasync updateAttendData() {\n\t\t\tconsole.log(this.scandata.data);\n\n\t\t\t//{\"deviceId\":\"3f71f820c5781065\",\"currentTime\":\"09:47:04\" ,date:\"yyyymmdd\"}\n\n\t\t\ttry {\n\t\t\t\tconst param = this.scandata;\n\t\t\t\tlet obj = JSON.parse(param);\n\n\t\t\t\tconsole.log(obj);\n\n\t\t\t\tconst payload = {\n\t\t\t\t\tscanDate: obj.date,\n\t\t\t\t\tscanTime: obj.currentTime,\n\t\t\t\t\tscanDevice: obj.deviceId,\n\t\t\t\t\tscanQRType: 'A0001',\n\t\t\t\t\tscanQRTypeDesc: 'QR',\n\t\t\t\t\tscanUserToken: getAttendFromCookie(\n\t\t\t\t\t\tthis.$store.state.userInfo.userName,\n\t\t\t\t\t),\n\t\t\t\t\tuserName: this.$store.state.userInfo.userName,\n\t\t\t\t};\n\n\t\t\t\tconst data = await calendarApi.fetchAttendAllowLactionFroHp({\n\t\t\t\t\tid: this.$store.state.userInfo.userName,\n\t\t\t\t\tdeviceId: obj.deviceId,\n\t\t\t\t});\n\n\t\t\t\tconsole.log('-----------------------');\n\t\t\t\tconsole.log('data :::', data);\n\t\t\t\tconsole.log('isAllow :::', data.data.dataList[0].isAllow);\n\t\t\t\tconsole.log('-----------------------');\n\n\t\t\t\tif (data.data.dataList[0].isAllow >= 1) {\n\t\t\t\t\tconst { data } = await baseApi.updateAttendData(payload);\n\n\t\t\t\t\tconst branchData = await calendarApi.fetchAttendBranchName(\n\t\t\t\t\t\tobj.deviceId,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (branchData.data.success) {\n\t\t\t\t\t\tthis.scanbranchName =\n\t\t\t\t\t\t\tbranchData.data.dataList[0].attend_branch_name;\n\t\t\t\t\t\tthis.scanbranchCode =\n\t\t\t\t\t\t\tbranchData.data.dataList[0].attend_branch_code;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.updateProgress(branchData.data);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateProgress(data);\n\t\t\t\t} else {\n\t\t\t\t\tthis.updateProgress({\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t'You are not registered under this reporting branch. Kindly refer to your reporting manager',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e.toString());\n\t\t\t\tlet data = new Object();\n\t\t\t\tdata.success = false;\n\t\t\t\tdata.message = e.toString();\n\t\t\t\tthis.updateProgress(data);\n\t\t\t}\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '@core/preset/preset/pages/auth.scss';\n</style>\n"]}]}