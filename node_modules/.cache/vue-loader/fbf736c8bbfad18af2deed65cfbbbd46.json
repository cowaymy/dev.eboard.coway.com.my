{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\components\\appBar\\AppBarNotification.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\components\\appBar\\AppBarNotification.vue","mtime":1684230986508},{"path":"D:\\extrust\\eboard\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUJlbGxPdXRsaW5lIH0gZnJvbSAnQG1kaS9qcyc7CmltcG9ydCBiYXNlQXBpIGZyb20gJy4uLy4uL2FwaS9pbmRleC5qcyc7CgovLyAzcmQgUGFydHkKaW1wb3J0IHsgUGVyZmVjdFNjcm9sbGJhciB9IGZyb20gJ3Z1ZTItcGVyZmVjdC1zY3JvbGxiYXInOwoKZXhwb3J0IGRlZmF1bHQgewoJY29tcG9uZW50czogewoJCVBlcmZlY3RTY3JvbGxiYXIsCgl9LAoJZGF0YSgpIHsKCQljb25zdCBwZXJmZWN0U2Nyb2xsYmFyT3B0aW9ucyA9IHsKCQkJbWF4U2Nyb2xsYmFyTGVuZ3RoOiA2MCwKCQkJd2hlZWxQcm9wYWdhdGlvbjogZmFsc2UsCgkJfTsKCgkJY29uc3Qgbm90aWZpY2F0aW9uc0RhdGEgPSBbXTsKCQlyZXR1cm4gewoJCQlub3RpZmljYXRpb25zRGF0YSwKCQkJcGVyZmVjdFNjcm9sbGJhck9wdGlvbnMsCgoJCQlpY29uczogeyBtZGlCZWxsT3V0bGluZSB9LAoJCX07Cgl9LAoKCW1ldGhvZHM6IHsKCQlhc3luYyBjYWxsQXBpRGV0YWlsTmV3Tm90aWZpY2F0aW9uKCkgewoJCQkvL3N0YXJ0IHNwaW5uZXIKCQkJdHJ5IHsKCQkJCWNvbnN0IHVzZXJJbmZvID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm87CgkJCQljb25zdCBkYXRhID0gYXdhaXQgYmFzZUFwaS5nZXREZXRhaWxOZXdOb3RpZmljYXRpb24odXNlckluZm8pOwoJCQkJcmV0dXJuIGRhdGE7CgkJCX0gY2F0Y2ggKGVycm9yKSB7CgkJCQljb25zb2xlLmxvZyhlcnJvcik7CgkJCX0KCQl9LAoKCQlnZXRUeXBlQ2xhc3ModmFsdWUpIHsKCQkJcmV0dXJuIHZhbHVlID09ICdFJwoJCQkJPyAndi1hdmF0YXItbGlnaHQtYmcgZXJyb3ItLXRleHQganVzdGlmeS1jZW50ZXInCgkJCQk6ICd2LWF2YXRhci1saWdodC1iZyBwcmltYXJ5LS10ZXh0IGp1c3RpZnktY2VudGVyJzsKCQl9LAoKCQlzZXRMaW1pdFRleHQodHlwZSwgdmFsdWUpIHsKCQkJbGV0IHJ0blZhbHVlID0gJyc7CgoJCQlpZiAodHlwZSA9PSAnVCcpIHsKCQkJCXJ0blZhbHVlID0gdmFsdWUubGVuZ3RoID4gMjAgPyB2YWx1ZS5zdWJzdHJpbmcoMCwgMjApICsgJyAuLi4nIDogdmFsdWU7CgkJCX0KCgkJCWlmICh0eXBlID09ICdTJykgewoJCQkJcnRuVmFsdWUgPSB2YWx1ZS5sZW5ndGggPiA0MCA/IHZhbHVlLnN1YnN0cmluZygwLCA0MCkgKyAnIC4uLicgOiB2YWx1ZTsKCQkJfQoKCQkJcmV0dXJuIHJ0blZhbHVlOwoJCX0sCgl9LAoKCWNyZWF0ZWQoKSB7CgkJLy8gdGhpcy5jYWxsQXBpRGV0YWlsTmV3Tm90aWZpY2F0aW9uKCkudGhlbihyZXF1ZXN0ID0+IHsKCQkvLyAJdGhpcy5ub3RpZmljYXRpb25zRGF0YSA9IHJlcXVlc3QuZGF0YS5kYXRhTGlzdDsKCQkvLyAJY29uc29sZS5sb2codGhpcy5ub3RpZmljYXRpb25zRGF0YSk7CgkJLy8gfSk7Cgl9LAp9Owo="},{"version":3,"sources":["AppBarNotification.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppBarNotification.vue","sourceRoot":"src/components/appBar","sourcesContent":["<template>\n\t<v-menu\n\t\toffset-y\n\t\tleft\n\t\tnudge-bottom=\"22\"\n\t\t:elevation=\"$vuetify.theme.dark ? 9 : 8\"\n\t\tcontent-class=\"list-style notification-menu-content\"\n\t>\n\t\t<template v-slot:activator=\"{ on, attrs }\">\n\t\t\t<template v-if=\"$store.state.newNotifiCnt != 0\">\n\t\t\t\t<v-badge\n\t\t\t\t\tcolor=\"error\"\n\t\t\t\t\t:content=\"$store.state.newNotifiCnt\"\n\t\t\t\t\toffset-x=\"10\"\n\t\t\t\t\toffset-y=\"10\"\n\t\t\t\t>\n\t\t\t\t\t<v-icon v-bind=\"attrs\" v-on=\"on\">\n\t\t\t\t\t\t{{ icons.mdiBellOutline }}\n\t\t\t\t\t</v-icon>\n\t\t\t\t</v-badge>\n\t\t\t</template>\n\t\t</template>\n\t\t<v-card class=\"app-bar-notification-content-container\">\n\t\t\t<perfect-scrollbar\n\t\t\t\tclass=\"ps-user-notifications\"\n\t\t\t\t:options=\"perfectScrollbarOptions\"\n\t\t\t>\n\t\t\t\t<v-list class=\"py-0\">\n\t\t\t\t\t<!-- Header -->\n\t\t\t\t\t<v-list-item class=\"d-flex\" link>\n\t\t\t\t\t\t<div class=\"d-flex align-center justify-space-between flex-grow-1\">\n\t\t\t\t\t\t\t<span class=\"font-weight-semibold\">Notifications</span>\n\t\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\t\tclass=\"v-chip-light-bg primary--text font-weight-semibold\"\n\t\t\t\t\t\t\t\tsmall\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ $store.state.newNotifiCnt }} NEW\n\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t\t<v-divider></v-divider>\n\n\t\t\t\t\t<!-- Notifications -->\n\t\t\t\t\t<template v-for=\"(notification, index) in notificationsData\">\n\t\t\t\t\t\t<v-list-item :key=\"notification.ID\" link>\n\t\t\t\t\t\t\t<!-- Avatar -->\n\t\t\t\t\t\t\t<v-list-item-avatar\n\t\t\t\t\t\t\t\t:class=\"getTypeClass(notification.TYPE)\"\n\t\t\t\t\t\t\t\tsize=\"38\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<v-tooltip top>\n\t\t\t\t\t\t\t\t\t<template v-slot:activator=\"{ on, attrs }\">\n\t\t\t\t\t\t\t\t\t\t<v-btn\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"#2A3B4D\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"getTypeClass(notification.TYPE)\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind=\"attrs\"\n\t\t\t\t\t\t\t\t\t\t\tv-on=\"on\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"text-lg\">{{ notification.TYPE }}</span>\n\t\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span>{{ notification.TYPE_NM }}</span>\n\t\t\t\t\t\t\t\t</v-tooltip>\n\t\t\t\t\t\t\t</v-list-item-avatar>\n\n\t\t\t\t\t\t\t<!-- Content -->\n\t\t\t\t\t\t\t<v-list-item-content class=\"d-block\">\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"text-sm font-weight-semibold\">\n\t\t\t\t\t\t\t\t\t{{ setLimitText('T', notification.SUBJECT) }}\n\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\t\t\t<v-list-item-subtitle class=\"text-sm\">\n\t\t\t\t\t\t\t\t\t{{ setLimitText('S', notification.CONTENTS) }}\n\t\t\t\t\t\t\t\t</v-list-item-subtitle>\n\t\t\t\t\t\t\t</v-list-item-content>\n\n\t\t\t\t\t\t\t<!-- Item Action/Time -->\n\t\t\t\t\t\t\t<v-list-item-action>\n\t\t\t\t\t\t\t\t<span class=\"text--secondary text-xs\">{{\n\t\t\t\t\t\t\t\t\tnotification.STD_DATE\n\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t</v-list-item-action>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\t<v-divider :key=\"index\"></v-divider>\n\t\t\t\t\t</template>\n\t\t\t\t\t<router-link to=\"/NotificationList\">\n\t\t\t\t\t\t<v-list-item key=\"read-all-btn\" class=\"read-all-btn-list-item\">\n\t\t\t\t\t\t\t<v-btn block color=\"primary\"> Read All Notifications </v-btn>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</router-link>\n\n\t\t\t\t\t<v-divider></v-divider>\n\t\t\t\t</v-list>\n\t\t\t</perfect-scrollbar>\n\t\t</v-card>\n\t</v-menu>\n</template>\n\n<script>\nimport { mdiBellOutline } from '@mdi/js';\nimport baseApi from '../../api/index.js';\n\n// 3rd Party\nimport { PerfectScrollbar } from 'vue2-perfect-scrollbar';\n\nexport default {\n\tcomponents: {\n\t\tPerfectScrollbar,\n\t},\n\tdata() {\n\t\tconst perfectScrollbarOptions = {\n\t\t\tmaxScrollbarLength: 60,\n\t\t\twheelPropagation: false,\n\t\t};\n\n\t\tconst notificationsData = [];\n\t\treturn {\n\t\t\tnotificationsData,\n\t\t\tperfectScrollbarOptions,\n\n\t\t\ticons: { mdiBellOutline },\n\t\t};\n\t},\n\n\tmethods: {\n\t\tasync callApiDetailNewNotification() {\n\t\t\t//start spinner\n\t\t\ttry {\n\t\t\t\tconst userInfo = this.$store.state.userInfo;\n\t\t\t\tconst data = await baseApi.getDetailNewNotification(userInfo);\n\t\t\t\treturn data;\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t},\n\n\t\tgetTypeClass(value) {\n\t\t\treturn value == 'E'\n\t\t\t\t? 'v-avatar-light-bg error--text justify-center'\n\t\t\t\t: 'v-avatar-light-bg primary--text justify-center';\n\t\t},\n\n\t\tsetLimitText(type, value) {\n\t\t\tlet rtnValue = '';\n\n\t\t\tif (type == 'T') {\n\t\t\t\trtnValue = value.length > 20 ? value.substring(0, 20) + ' ...' : value;\n\t\t\t}\n\n\t\t\tif (type == 'S') {\n\t\t\t\trtnValue = value.length > 40 ? value.substring(0, 40) + ' ...' : value;\n\t\t\t}\n\n\t\t\treturn rtnValue;\n\t\t},\n\t},\n\n\tcreated() {\n\t\t// this.callApiDetailNewNotification().then(request => {\n\t\t// \tthis.notificationsData = request.data.dataList;\n\t\t// \tconsole.log(this.notificationsData);\n\t\t// });\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '~vuetify/src/styles/styles.sass';\n\n.app-bar-notification-content-container {\n\t.read-all-btn-list-item {\n\t\tpadding-top: 14px;\n\t\tpadding-bottom: 14px;\n\t\tmin-height: unset;\n\t}\n}\n\n.ps-user-notifications {\n\tmax-height: calc(var(--vh, 1vh) * 80);\n}\n\n.notification-menu-content {\n\t@media #{map-get($display-breakpoints, 'xs-only')} {\n\t\tmin-width: calc(100vw - (1.5rem * 2)) !important;\n\t\tleft: 50% !important;\n\t\ttransform: translateX(-50%);\n\t}\n}\n</style>\n"]}]}