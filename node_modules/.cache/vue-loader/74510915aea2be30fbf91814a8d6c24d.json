{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard.coway.com.my\\src\\views\\account-settings\\AccountSettingAttendScanQRCodeSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\views\\account-settings\\AccountSettingAttendScanQRCodeSetting.vue","mtime":1709258483415},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\babel-loader\\lib\\index.js","mtime":1689230675098},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1kaUNsb3NlLCBtZGlDaGVja0JvbGQsIG1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lIH0gZnJvbSAiQG1kaS9qcyI7CgppbXBvcnQgeyBRcmNvZGVTdHJlYW0gfSBmcm9tICJ2dWUtcXJjb2RlLXJlYWRlciI7CgppbXBvcnQgeyBnZXRNb250aE5hbWUsIGdldERhdGUgfSBmcm9tICIuLi8uLi91dGlscy92YWxpZGF0aW9uIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFFyY29kZVN0cmVhbSB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBpY29uCiAgICAgIGljb25zOiB7CiAgICAgICAgbWRpQ2xvc2UsCiAgICAgIH0sCiAgICAgIGlzVmFsaWQ6IHVuZGVmaW5lZCwKICAgICAgY2FtZXJhOiAiYXV0byIsCiAgICAgIHJlc3VsdDogbnVsbCwKICAgICAgbW9udGg6IGdldE1vbnRoTmFtZSgpLAogICAgICBuZGF0ZTogZ2V0RGF0ZSgpLAogICAgICBtZGlDaGVja0JvbGQsCiAgICAgIG1kaUNoZWNrRGVjYWdyYW1PdXRsaW5lLAogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgdmFsaWRhdGlvblBlbmRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmNhbWVyYSA9PT0gIm9mZiI7CiAgICB9LAoKICAgIHZhbGlkYXRpb25TdWNjZXNzKCkgewogICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID09PSB0cnVlOwogICAgfSwKCiAgICB2YWxpZGF0aW9uRmFpbHVyZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCA9PT0gZmFsc2U7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgb25Jbml0KHByb21pc2UpIHsKICAgICAgcHJvbWlzZS5jYXRjaChjb25zb2xlLmVycm9yKS50aGVuKHRoaXMucmVzZXRWYWxpZGF0aW9uU3RhdGUpOwogICAgfSwKCiAgICByZXNldFZhbGlkYXRpb25TdGF0ZSgpIHsKICAgICAgdGhpcy5pc1ZhbGlkID0gdW5kZWZpbmVkOwogICAgfSwKCiAgICBhc3luYyBvbkRlY29kZShjb250ZW50KSB7CiAgICAgIHRoaXMucmVzdWx0ID0gY29udGVudDsKICAgICAgdGhpcy50dXJuQ2FtZXJhT2ZmKCk7CgogICAgICAvL3RoaXMuaXNWYWxpZCA9IGNvbnRlbnQuc3RhcnRzV2l0aCgnaHR0cCcpOwoKICAgICAgLy8gcHJldGVuZCBpdCdzIHRha2luZyByZWFsbHkgbG9uZwogICAgICAvL2F3YWl0IHRoaXMudGltZW91dCgxMDAwKTsKCiAgICAgIC8vIHNvbWUgbW9yZSBkZWxheSwgc28gdXNlcnMgaGF2ZSB0aW1lIHRvIHJlYWQgdGhlIG1lc3NhZ2UKICAgICAgLy9hd2FpdCB0aGlzLnRpbWVvdXQoMTAwKTsKCiAgICAgIHRoaXMudHVybkNhbWVyYU9uKCk7CgogICAgICBjb25zb2xlLmxvZyhjb250ZW50KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJBdHRlbmRTY2FuUVJTZXR0aW5nUmVzdWx0IiwKICAgICAgICBwYXJhbXM6IHsgc2NhbmRhdGE6IGNvbnRlbnQgfSwKICAgICAgfSk7CiAgICB9LAoKICAgIHR1cm5DYW1lcmFPbigpIHsKICAgICAgdGhpcy5jYW1lcmEgPSAiYXV0byI7CiAgICB9LAoKICAgIHR1cm5DYW1lcmFPZmYoKSB7CiAgICAgIHRoaXMuY2FtZXJhID0gIm9mZiI7CiAgICB9LAoKICAgIHRpbWVvdXQobXMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQocmVzb2x2ZSwgbXMpOwogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["AccountSettingAttendScanQRCodeSetting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AccountSettingAttendScanQRCodeSetting.vue","sourceRoot":"src/views/account-settings","sourcesContent":["<template>\n  <div class=\"auth-v1\">\n    <div class=\"auth-inner\">\n      <v-card class=\"auth-card\">\n        <v-card-title class=\"d-flex align-center justify-center py-7\">\n          <qrcode-stream :camera=\"camera\" @decode=\"onDecode\" @init=\"onInit\">\n            <div v-if=\"validationSuccess\" class=\"validation-success\">\n              The attendance check is complete.\n            </div>\n\n            <div v-if=\"validationFailure\" class=\"validation-failure\">\n              This is NOT a URL!\n            </div>\n\n            <div v-if=\"validationPending\" class=\"validation-pending\">\n              Long validation in progress...\n            </div>\n          </qrcode-stream>\n        </v-card-title>\n\n        <v-card-text class=\"d-flex align-center mt-5\">\n          <v-avatar\n            size=\"54\"\n            rounded\n            color=\"primary\"\n            class=\"v-avatar-light-bg primary--text mt-1\"\n          >\n            <div>\n              <span class=\"font-weight-medium\">\n                {{ month }}\n              </span>\n              <p class=\"text-xl primary--text font-weight-bold mb-0\">\n                {{ ndate }}\n              </p>\n            </div>\n          </v-avatar>\n\n          <div class=\"ms-3\">\n            <h4 class=\"text-base font-weight-semibold\">\n              {{ this.$store.state.userInfo.userName }}\n            </h4>\n            <p class=\"text-xs mb-0\">Please scan QRcode in the sales office</p>\n          </div>\n        </v-card-text>\n\n        <v-card-text>\n          <v-divider></v-divider>\n        </v-card-text>\n\n        <template v-if=\"validationSuccess\">\n          <v-card-text class=\"d-flex align-center mt-5\">\n            <v-avatar size=\"54\" rounded>\n              <v-icon size=\"30\" color=\"success\"> {{ mdiCheckBold }} </v-icon>\n            </v-avatar>\n\n            <div class=\"ms-3\">\n              <p class=\"text-xs mb-0\">{{ result }}</p>\n            </div>\n          </v-card-text>\n        </template>\n        <template v-if=\"validationFailure\">\n          <v-card-text class=\"d-flex align-center mt-5\">\n            <v-avatar size=\"54\" rounded>\n              <v-icon size=\"30\" color=\"error\">\n                {{ mdiCheckDecagramOutline }}\n              </v-icon>\n            </v-avatar>\n\n            <div class=\"ms-3\">\n              <p class=\"text-xs mb-0\">{{ result }}</p>\n            </div>\n          </v-card-text>\n        </template>\n      </v-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mdiClose, mdiCheckBold, mdiCheckDecagramOutline } from \"@mdi/js\";\n\nimport { QrcodeStream } from \"vue-qrcode-reader\";\n\nimport { getMonthName, getDate } from \"../../utils/validation\";\n\nexport default {\n  components: { QrcodeStream },\n  data() {\n    return {\n      // icon\n      icons: {\n        mdiClose,\n      },\n      isValid: undefined,\n      camera: \"auto\",\n      result: null,\n      month: getMonthName(),\n      ndate: getDate(),\n      mdiCheckBold,\n      mdiCheckDecagramOutline,\n    };\n  },\n\n  computed: {\n    validationPending() {\n      return this.isValid === undefined && this.camera === \"off\";\n    },\n\n    validationSuccess() {\n      return this.isValid === true;\n    },\n\n    validationFailure() {\n      return this.isValid === false;\n    },\n  },\n  methods: {\n    onInit(promise) {\n      promise.catch(console.error).then(this.resetValidationState);\n    },\n\n    resetValidationState() {\n      this.isValid = undefined;\n    },\n\n    async onDecode(content) {\n      this.result = content;\n      this.turnCameraOff();\n\n      //this.isValid = content.startsWith('http');\n\n      // pretend it's taking really long\n      //await this.timeout(1000);\n\n      // some more delay, so users have time to read the message\n      //await this.timeout(100);\n\n      this.turnCameraOn();\n\n      console.log(content);\n      this.$router.push({\n        name: \"AttendScanQRSettingResult\",\n        params: { scandata: content },\n      });\n    },\n\n    turnCameraOn() {\n      this.camera = \"auto\";\n    },\n\n    turnCameraOff() {\n      this.camera = \"off\";\n    },\n\n    timeout(ms) {\n      return new Promise((resolve) => {\n        window.setTimeout(resolve, ms);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@core/preset/preset/pages/auth.scss\";\n#camera {\n  text-align: center;\n  color: #2c3e50;\n}\n#video {\n  background-color: #000000;\n}\n#canvas {\n  display: none;\n}\nli {\n  display: inline;\n  padding: 5px;\n}\n.validation-success,\n.validation-failure,\n.validation-pending {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  background-color: rgba(255, 255, 255, 0.8);\n  text-align: center;\n  font-weight: bold;\n  font-size: 1.4rem;\n  padding: 10px;\n\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n}\n.validation-success {\n  color: green;\n}\n.validation-failure {\n  color: red;\n}\n</style>\n"]}]}