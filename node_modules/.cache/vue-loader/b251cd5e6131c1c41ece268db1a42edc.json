{"remainingRequest":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard\\src\\views\\comm\\orderMgt\\OrderDetailsItem.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\extrust\\eboard\\src\\views\\comm\\orderMgt\\OrderDetailsItem.vue","mtime":1709258483428},{"path":"D:\\extrust\\eboard\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689230672011},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689230680621},{"path":"D:\\extrust\\eboard\\node_modules\\postcss-loader\\src\\index.js","mtime":1689230675067},{"path":"D:\\extrust\\eboard\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689230669010},{"path":"D:\\extrust\\eboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICJAY29yZS9wcmVzZXQvcHJlc2V0L3BhZ2VzL2F1dGguc2NzcyI7CgojYXBwIHsKICBtYXJnaW4tdG9wOiA2MHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQo="},{"version":3,"sources":["OrderDetailsItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAysBA;;AAEA;AACA;AACA;AACA","file":"OrderDetailsItem.vue","sourceRoot":"src/views/comm/orderMgt","sourcesContent":["<template>\n  <v-dialog v-model=\"isDialogVisible\" width=\"600\">\n    <template #activator=\"{ on, attrs }\">\n      <v-chip v-bind=\"attrs\" v-on=\"on\" color=\"info\">\n        <v-icon class=\"me-1\">\n          {{ icons.mdiPageNextOutline }}\n        </v-icon>\n      </v-chip>\n    </template>\n    <div id=\"element-to-convert\">\n      <v-card>\n        <v-card-title>\n          <div>\n            <span style=\"font-weight: bold\"> Order progress status</span>\n          </div>\n          <v-spacer></v-spacer>\n          <v-btn color=\"secondary\" icon @click=\"isDialogVisible = false\">\n            <v-icon class=\"me-1\">\n              {{ setTag(\"close\") }}\n            </v-icon>\n          </v-btn>\n        </v-card-title>\n        <v-card-text>\n          <span style=\"font-weight: bold\">\n            {{ this.ekeinItem.userName }}</span\n          ></v-card-text\n        >\n        <v-divider></v-divider>\n        <v-card-text>\n          <v-timeline\n            dense\n            class=\"timeline-custom-dense timeline-custom-dots card-content\"\n          >\n            <!-- install   -->\n            <v-timeline-item small color=\"#1F7872\">\n              <v-card color=\"#1F7872\">\n                <v-card-title>\n                  <span class=\"text-base white--text font-weight: bold\"\n                    >Install</span\n                  >\n                  <v-spacer></v-spacer>\n                  <small style=\"color: #ffffff; font-weight: bold\">\n                    {{ insItem.salesDate }}</small\n                  >\n                </v-card-title>\n\n                <v-card-text>\n                  <div><span style=\"font-weight: bold\"> Order No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ insItem.salesOrdNo }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\"> Install No.</span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ insItem.installNo }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\">Install Status </span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #fe0000; font-weight: bold\">\n                    {{ insItem.status }}\n                  </div>\n\n                  <div><span style=\"font-weight: bold\"> Remark</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ insItem.rem }}\n                  </div>\n                </v-card-text>\n              </v-card>\n            </v-timeline-item>\n\n            <!-- call -log  -->\n            <v-timeline-item small color=\"#23B5D3\">\n              <v-card color=\"#23B5D3\">\n                <v-card-title>\n                  <span class=\"text-base white--text font-weight: bold\"\n                    >CALL-LOG</span\n                  >\n                  <v-spacer></v-spacer>\n                  <small style=\"color: #ffffff; font-weight: bold\">\n                    {{ calllogItem.salesDate }}</small\n                  >\n                </v-card-title>\n                <v-card-text>\n                  <div><span style=\"font-weight: bold\"> Order No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ calllogItem.salesOrdNo }}\n                  </div>\n                  <div><span style=\"font-weight: bold\">Type</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ calllogItem.type }}\n                  </div>\n\n                  <div><span style=\"font-weight: bold\">Action </span></div>\n                  <div class=\"ms-4\" style=\"color: #fe0000; font-weight: bold\">\n                    {{ calllogItem.status }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> Remark</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ calllogItem.rem }}\n                  </div>\n                </v-card-text>\n              </v-card>\n            </v-timeline-item>\n\n            <!-- E-CASH-->\n            <v-timeline-item small color=\"#8b8687\">\n              <v-card color=\"#8b8687\">\n                <v-card-title>\n                  <span class=\"text-base white--text font-weight: bold\"\n                    >E-CASH\n                  </span>\n                  <v-spacer></v-spacer>\n                  <small style=\"color: #ffffff; font-weight: bold\">\n                    {{ eCashItem.salesDate }}\n                  </small>\n                </v-card-title>\n\n                <v-card-text>\n                  <div><span style=\"font-weight: bold\"> Order No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ eCashItem.salesOrdNo }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\">Payment Type</span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ eCashItem.type }}\n                  </div>\n\n                  <div><span style=\"font-weight: bold\">Status</span></div>\n                  <div class=\"ms-4\" style=\"color: #fe0000; font-weight: bold\">\n                    {{ eCashItem.status }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> Remark</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ eCashItem.rem }}\n                  </div>\n                </v-card-text>\n              </v-card>\n            </v-timeline-item>\n\n            <!-- CCP-->\n            <v-timeline-item small color=\"#514938\">\n              <v-card color=\"#514938\">\n                <v-card-title>\n                  <span class=\"text-base white--text font-weight: bold\"\n                    >CCP\n                  </span>\n                  <v-spacer></v-spacer>\n                  <small style=\"color: #ffffff; font-weight: bold\">{{\n                    ccpItem.salesDate\n                  }}</small>\n                </v-card-title>\n\n                <v-card-text>\n                  <div><span style=\"font-weight: bold\"> Order No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ccpItem.salesOrdNo }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> REF No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ccpItem.salesRefNo }}\n                  </div>\n\n                  <div>\n                    <span style=\"font-weight: bold\"> CCP Status</span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #fe0000; font-weight: bold\">\n                    {{ ccpItem.status }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\"> CCP Remark</span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ccpItem.pncRem }}\n                  </div>\n                </v-card-text>\n              </v-card>\n            </v-timeline-item>\n\n            <!-- ekey In -->\n            <v-timeline-item small color=\"#A8A196\">\n              <v-card color=\"#A8A196\">\n                <v-card-title>\n                  <span class=\"text-base white--text font-weight: bold\"\n                    >eKey-in\n                  </span>\n                  <v-spacer></v-spacer>\n                  <small style=\"color: #ffffff; font-weight: bold\">{{\n                    ekeinItem.salesDate\n                  }}</small>\n                </v-card-title>\n\n                <v-card-text>\n                  <div><span style=\"font-weight: bold\"> SFO No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ekeinItem.salesRefNo }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> Order No.</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ekeinItem.salesOrdNo }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\"> NRIC/Company No</span>\n                  </div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ekeinItem.nric }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> Status</span></div>\n                  <div class=\"ms-4\" style=\"color: #fe0000; font-weight: bold\">\n                    {{ ekeinItem.status }}\n                  </div>\n                  <div><span style=\"font-weight: bold\"> Product</span></div>\n                  <div class=\"ms-4\" style=\"color: #000000; font-weight: bold\">\n                    {{ ekeinItem.product }}\n                  </div>\n                  <div>\n                    <span style=\"font-weight: bold\"> Share with whatsapp </span>\n                  </div>\n                  <div class=\"ms-4\">\n                    <!-- <v-icon class=\"me-1\" color=\"info\" @click=\"sendWhatsApp\">\n\t\t\t\t\t\t\t\t\t\t\t{{ icons.mdiWhatsapp }}\n\t\t\t\t\t\t\t\t\t\t</v-icon> -->\n                    <v-chip color=\"info\" @click=\"exportToPDF\">\n                      <v-icon>\n                        {{ icons.mdiWhatsapp }}\n                      </v-icon>\n                    </v-chip>\n\n                    <!-- <div style=\"font-weight: bold\">\n\t\t\t\t\t\t\t\t\t\t\t<a v-bind:href=\"linkUri\">\n\t\t\t\t\t\t\t\t\t\t\t\t<v-btn>\n\t\t\t\t\t\t\t\t\t\t\t\t\t✅ lajfasljflkasjfljlaslkjasfjlaksfjlkasfjasklf</v-btn\n\t\t\t\t\t\t\t\t\t\t\t\t></a\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</div> -->\n                  </div>\n                </v-card-text>\n              </v-card>\n            </v-timeline-item>\n          </v-timeline>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-img\n            max-height=\"20vw\"\n            max-width=\"20vw\"\n            contain\n            class=\"me-3\"\n            :src=\"appLogo\"\n          />\n        </v-card-actions>\n      </v-card>\n    </div>\n  </v-dialog>\n</template>\n\n<script>\nimport {\n  mdiCalendarBlankOutline,\n  mdiDotsVertical,\n  mdiMagnifyPlusOutline,\n  mdiCalendarClockOutline,\n  mdiCheckBold,\n  mdiLabelMultiple,\n  mdiMessageAlertOutline,\n  mdiQrcodeScan,\n  mdiAirplaneTakeoff,\n  mdiClipboardEditOutline,\n  mdiCalendarHeart,\n  mdiCancel,\n  mdiShapePlusOutline,\n  mdiClose,\n  mdiPageNextOutline,\n  mdiWhatsapp,\n  mdiFilePdfBox,\n} from \"@mdi/js\";\n\nimport store from \"@/store\";\nimport bus from \"../../../utils/bus.js\";\nimport themeConfig from \"../../../../themeConfig\";\n\nimport orderMgtStoreModule from \"./orderMgtStoreModule\";\nconst ORDER_MGT_APP_STORE_MODULE_NAME = \"app-ordermgt\";\nimport html2pdf from \"html2pdf.js\";\nimport axios from \"axios\";\n\nexport default {\n  props: [\"item\"],\n  data() {\n    if (!store.hasModule(ORDER_MGT_APP_STORE_MODULE_NAME)) {\n      store.registerModule(\n        ORDER_MGT_APP_STORE_MODULE_NAME,\n        orderMgtStoreModule\n      );\n    }\n    return {\n      date: new Date().toISOString().substr(0, 7),\n      linkUri: \"https://epapan.malaysia.coway.do\",\n      menu: false,\n      appLogo: themeConfig.app.logo,\n      modal: false,\n      isDialogVisible: false,\n      events: [],\n      ccpItem: {\n        salesDate: \"\",\n        salesRefNo: \"\",\n        salesOrdNo: \"\",\n        status: \"\",\n        pncRem: \"\",\n      },\n      calllogItem: {\n        salesDate: \"\",\n        salesOrdNo: \"\",\n        status: \"\",\n        rem: \"\",\n        type: \"\",\n      },\n      eCashItem: {\n        salesDate: \"\",\n        salesOrdNo: \"\",\n        salesRefNo: \"\",\n        status: \"\",\n        rem: \"\",\n        type: \"\",\n      },\n      insItem: {\n        salesDate: \"\",\n        installNo: \"\",\n        salesOrdNo: \"\",\n        status: \"\",\n        rem: \"\",\n      },\n      ekeinItem: {\n        salesDate: \"\",\n        salesRefNo: \"\",\n        salesOrdNo: \"\",\n        status: \"\",\n        nric: \"\",\n        product: \"\",\n        userName: \"\",\n      },\n      icons: {\n        mdiDotsVertical,\n        mdiCalendarBlankOutline,\n        mdiMagnifyPlusOutline,\n        mdiCalendarClockOutline,\n        mdiCheckBold,\n        mdiLabelMultiple,\n        mdiMessageAlertOutline,\n        mdiQrcodeScan,\n        mdiAirplaneTakeoff,\n        mdiClipboardEditOutline,\n        mdiCalendarHeart,\n        mdiCancel,\n        mdiShapePlusOutline,\n        mdiClose,\n        mdiPageNextOutline,\n        mdiWhatsapp,\n        mdiFilePdfBox,\n      },\n    };\n  },\n\n  computed: {},\n\n  created() {},\n\n  watch: {\n    isDialogVisible: function (_val) {\n      if (_val) {\n        this.fetchCCPOrderList();\n        this.fetchECASHOrderList();\n        this.fetchCALLLOGOrderList();\n        this.fetchINSTALLOrderList();\n        this.fetchEkeyInOrderList();\n      }\n    },\n  },\n  methods: {\n    sendWhatsApp() {\n      // \"getLocationInfo\"는 react-native에서 받는 메서드 이름입니다.\n      window.webViewBridge.send(\n        \"sendWhatsApp\",\n        this.ekeinItem,\n        (res) => {\n          this.result = JSON.stringify(res);\n        },\n        (err) => {\n          alert(err);\n          console.error(err);\n        }\n      );\n    },\n    exportToPDF() {\n      let el = document.getElementById(\"element-to-convert\");\n\n      let opt = {\n        margin: 1,\n        filename: this.ekeinItem.salesOrdNo,\n        image: { type: \"jpeg\", quality: 1 },\n        html2canvas: { scale: 2 },\n        jsPDF: { unit: \"in\", format: \"A4\", orientation: \"portrait\" },\n      };\n\n      html2pdf()\n        .set(opt)\n        .from(el)\n        .toPdf()\n        .outputPdf()\n        .then(function (pdf) {\n          const newpdf = btoa(pdf);\n\n          var formData = new FormData();\n          formData.append(\"uploadedFile\", newpdf);\n          formData.append(\"orderNo\", opt.filename);\n\n          //'https://epapanapis.malaysia.coway.do/apps/comm/genPdf',\n\n          bus.$emit(\"start:spinner\");\n\n          axios\n            .post(\n              \"https://epapanapis.malaysia.coway.do/apps/comm/genPdf\",\n              formData\n            )\n            .then((res) => {\n              console.log(res.data);\n              window.webViewBridge.send(\n                \"downloadFile\",\n                res.data,\n                (res) => {\n                  this.result = JSON.stringify(res);\n                },\n                (err) => {\n                  alert(err);\n                  console.error(err);\n                }\n              );\n            })\n            .catch((error) => {\n              console.log(error.response);\n            })\n            .finally(() => {\n              bus.$emit(\"end:spinner\");\n            });\n\n          // const file = new File([pdfBase64], opt.filename, {\n          // \ttype: 'application/pdf',\n          // });\n\n          // const formData = new FormData();\n          // formData.append('file', newpdf);\n\n          // fetch('http://172.16.252.101:3000/apps/comm/genPdf', {\n          // \tmethod: 'post',\n          // \tbody: formData,\n          // })\n          // \t.then(response => response.json())\n          // \t.then(result => {\n          // \t\tconsole.log('Success:', result);\n          // \t})\n          // \t.catch(error => {\n          // \t\tconsole.error('Error:', error);\n          // \t});\n\n          // console.log('--------->');\n\n          // const pdfData = {};\n          // pdfData.base64data = pdfBase64;\n          // pdfData.filename = opt.filename;\n\n          // //this.callGenPdfApi(pdfBase64);\n          // //console.log(pdfAsString);\n          // // const preBlob = () => {\n          // // \tvar byteString;\n          // // \tif (pdfBase64.split(',')[0].indexOf('base64') >= 0)\n          // // \t\tbyteString = atob(pdfBase64.split(',')[1]);\n          // // \telse byteString = unescape(pdfBase64.split(',')[1]);\n\n          // // \t// separate out the mime component\n          // // \tvar mimeString = pdfBase64\n          // // \t\t.split(',')[0]\n          // // \t\t.split(':')[1]\n          // // \t\t.split(';')[0];\n\n          // // \t// write the bytes of the string to a typed array\n          // // \tvar ia = new Uint8Array(byteString.length);\n          // // \tfor (var i = 0; i < byteString.length; i++) {\n          // // \t\tia[i] = byteString.charCodeAt(i);\n          // // \t}\n\n          // // \tconsole.log('end --->');\n          // // \treturn new Blob([ia], { type: mimeString });\n          // // };\n          // //console.log('return::preBlob');\n          // //console.log(preBlob);\n          // // const file = new File([pdfBase64], opt.filename, {\n          // // \ttype: 'application/pdf',\n          // // });\n\n          // // console.log(file);\n          // // const formData = new FormData();\n          // // formData.append('file', file);\n          // // let data = new FormData();\n          // // data.append('file', file);\n\n          // fetch('http://172.16.252.101:3000/apps/comm/genPdf', {\n          // \tmethod: 'post',\n          // \tbody: JSON.stringify(pdfBase64),\n          // \theaders: { 'Content-Type': 'application/json' },\n          // })\n          // \t.then(response => response.json())\n          // \t.then(result => {\n          // \t\tconsole.log('Success:', result);\n          // \t})\n          // \t.catch(error => {\n          // \t\tconsole.error('Error:', error);\n          // \t});\n\n          // //console.log('========>', formData);\n          // //this.callGenPdfApi(formData);\n          // console.log('========>');\n        });\n    },\n\n    async callGenPdfApi(data) {\n      console.log(\"api in ::::\", data);\n      console.log(data);\n    },\n\n    dataURItoBlob(dataURI) {\n      console.log(\"in --->\");\n      // convert base64/URLEncoded data component to raw binary data held in a string\n      var byteString;\n      if (dataURI.split(\",\")[0].indexOf(\"base64\") >= 0)\n        byteString = atob(dataURI.split(\",\")[1]);\n      else byteString = unescape(dataURI.split(\",\")[1]);\n\n      // separate out the mime component\n      var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n\n      // write the bytes of the string to a typed array\n      var ia = new Uint8Array(byteString.length);\n      for (var i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n\n      console.log(\"end --->\");\n      return new Blob([ia], { type: mimeString });\n    },\n    fetchEkeyInOrderList() {\n      const preOrdId = this.item.preOrdId;\n      store\n        .dispatch(\n          `${ORDER_MGT_APP_STORE_MODULE_NAME}/fetchEkeyInOrderList`,\n          preOrdId\n        )\n        .then((response) => {\n          if (response != undefined) {\n            let dataList = JSON.parse(JSON.stringify(response));\n\n            this.ekeinItem.salesDate = this.item.ekeyInDate;\n            this.ekeinItem.salesRefNo = this.item.salesRefNo;\n            this.ekeinItem.salesOrdNo = this.item.orderNo;\n            this.ekeinItem.status = dataList.data.data[0].NAME;\n            this.ekeinItem.nric = dataList.data.data[0].NRIC;\n            this.ekeinItem.product = dataList.data.data[0].STK_DESC;\n            this.ekeinItem.userName = dataList.data.data[0].NAME_1;\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    fetchCCPOrderList() {\n      const salesOrdId = this.item.salesOrdId;\n      store\n        .dispatch(\n          `${ORDER_MGT_APP_STORE_MODULE_NAME}/fetchCCPOrderList`,\n          salesOrdId\n        )\n        .then((response) => {\n          try {\n            let dataList = JSON.parse(JSON.stringify(response));\n\n            this.ccpItem.salesDate = dataList.data.data[0].CCP_UPD_DT;\n            this.ccpItem.salesRefNo = this.item.salesRefNo;\n            this.ccpItem.salesOrdNo = this.item.orderNo;\n            this.ccpItem.status = dataList.data.data[0].NAME;\n            this.ccpItem.pncRem = dataList.data.data[0].CCP_PNC_REM;\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    fetchECASHOrderList() {\n      const salesOrdId = this.item.salesOrdId;\n      store\n        .dispatch(\n          `${ORDER_MGT_APP_STORE_MODULE_NAME}/fetchECASHOrderList`,\n          salesOrdId\n        )\n        .then((response) => {\n          try {\n            let dataList = JSON.parse(JSON.stringify(response));\n\n            this.eCashItem.salesDate = dataList.data.data[0].FILE_ITM_APPR_DT;\n            this.eCashItem.salesRefNo = this.item.salesRefNo;\n            this.eCashItem.salesOrdNo = this.item.orderNo;\n            this.eCashItem.status = dataList.data.data[0].FILE_ITM_STUS;\n            this.eCashItem.rem = dataList.data.data[0].FILE_ITM_REM;\n            this.eCashItem.type = \"Rental Payment\";\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    fetchCALLLOGOrderList() {\n      const salesOrdId = this.item.salesOrdId;\n      store\n        .dispatch(\n          `${ORDER_MGT_APP_STORE_MODULE_NAME}/fetchCALLLOGOrderList`,\n          salesOrdId\n        )\n        .then((response) => {\n          try {\n            let dataList = JSON.parse(JSON.stringify(response));\n\n            this.calllogItem.salesDate = dataList.data.data[0].CALL_ACTN_DT;\n            this.calllogItem.salesOrdNo = this.item.orderNo;\n            this.calllogItem.status = dataList.data.data[0].NAME;\n            this.calllogItem.rem = dataList.data.data[0].CALL_REM;\n            this.calllogItem.type = \"New Installation Order\";\n          } catch (e) {\n            console.log(e);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    fetchINSTALLOrderList() {\n      const salesOrdId = this.item.salesOrdId;\n      store\n        .dispatch(\n          `${ORDER_MGT_APP_STORE_MODULE_NAME}/fetchINSTALLOrderList`,\n          salesOrdId\n        )\n        .then((response) => {\n          try {\n            //console.log(response);\n            let dataList = JSON.parse(JSON.stringify(response));\n\n            this.insItem.salesDate = dataList.data.data[0].INSTALL_DT;\n            this.insItem.installNo = dataList.data.data[0].INSTALL_ENTRY_NO;\n            this.insItem.salesOrdNo = this.item.orderNo;\n            this.insItem.status = dataList.data.data[0].NAME;\n            this.insItem.rem = dataList.data.data[0].REM;\n          } catch (e) {\n            //console.log(this.item);\n            if (this.item.insStus == \"Active\") {\n              this.insItem.salesOrdNo = this.item.orderNo;\n              this.insItem.status = \"Active\";\n            }\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    setTag(typeCode) {\n      let tagIcon = mdiMessageAlertOutline;\n      if (typeCode == \"A0001\") {\n        tagIcon = mdiQrcodeScan;\n      } else if (typeCode == \"A0002\" || typeCode == \"A0003\") {\n        tagIcon = mdiAirplaneTakeoff;\n      } else if (typeCode == \"A0004\") {\n        tagIcon = mdiClipboardEditOutline;\n      } else if (typeCode == \"A0005\") {\n        tagIcon = mdiCalendarHeart;\n      } else if (typeCode == \"close\") {\n        tagIcon = mdiClose;\n      } else {\n        tagIcon = mdiMessageAlertOutline;\n      }\n\n      return tagIcon;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@core/preset/preset/pages/auth.scss\";\n\n#app {\n  margin-top: 60px;\n  text-align: center;\n}\n</style>\n"]}]}