{"remainingRequest":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\extrust\\eboard.coway.com.my\\src\\views\\dashboard\\sales\\DashboardSalesTotalProfit.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\extrust\\eboard.coway.com.my\\src\\views\\dashboard\\sales\\DashboardSalesTotalProfit.vue","mtime":1707983434801},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\css-loader\\dist\\cjs.js","mtime":1689230672011},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1689230680621},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\postcss-loader\\src\\index.js","mtime":1689230675067},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1689230669010},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689230669062},{"path":"D:\\extrust\\eboard.coway.com.my\\node_modules\\vue-loader\\lib\\index.js","mtime":1689230676606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJvbGxlciAucm9sbGVyQmxvY2sgewogIG1hcmdpbjogM3B4OwogIGZvbnQtc2l6ZTogMTAwJTsKfQo="},{"version":3,"sources":["DashboardSalesTotalProfit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyPA;AACA;AACA;AACA","file":"DashboardSalesTotalProfit.vue","sourceRoot":"src/views/dashboard/sales","sourcesContent":["<template>\n  <v-card elevation=\"26\">\n    <v-row class=\"ma-0\">\n      <v-col cols=\"12\" sm=\"7\" class=\"total-profit-chart-col\">\n        <v-card-title class=\"pt-2 font-weight-semibold text-2xl\">\n          Product Category</v-card-title\n        >\n        <VueApexCharts\n          id=\"total-profit-chart\"\n          height=\"320\"\n          :options=\"chartOptions\"\n          :series=\"chartData\"\n        ></VueApexCharts>\n      </v-col>\n      <v-col cols=\"12\" sm=\"5\">\n        <DashboardCardSalesUnitTodayKeyIn></DashboardCardSalesUnitTodayKeyIn\n      ></v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\nimport VueApexCharts from \"vue-apexcharts\";\n// eslint-disable-next-line object-curly-newline\nimport {\n  mdiDotsVertical,\n  mdiTrendingUp,\n  mdiCurrencyUsd,\n  mdiChartBar,\n  mdiAirConditioner,\n  mdiAccountHeart,\n  mdiEgg,\n  mdiFanAuto,\n  mdiAutorenew,\n  mdiSeatReclineNormal,\n  mdiWeatherWindyVariant,\n  mdiBeaker,\n  mdiRadiatorDisabled,\n  mdiSeatIndividualSuite,\n  mdiWaterOutline,\n  mdiNumeric10BoxMultiple,\n  mdiAlphaEBox,\n} from \"@mdi/js\";\n//import { getVuetify } from '@core/utils';\n//import { kFormatter } from '@core/utils/filter';\nimport salesApi from \"../../../api/salesApi\";\n\nimport DashboardCardSalesUnitTodayKeyIn from \"./DashboardCardSalesUnitTodayKeyIn.vue\";\n\nexport default {\n  components: {\n    VueApexCharts,\n    DashboardCardSalesUnitTodayKeyIn,\n  },\n\n  beforeDestroy() {\n    clearInterval(this.polling);\n  },\n\n  methods: {\n    async callApiEKeyInData() {\n      try {\n        const userInfo = this.$store.state.userInfo;\n        return await salesApi.getEKeyInData(userInfo);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async callApiTodayEkeyinData() {\n      try {\n        const userInfo = this.$store.state.userInfo;\n        return await salesApi.getTodayEkeyinData(userInfo);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async callApiSalesTrendData() {\n      try {\n        const userInfo = this.$store.state.userInfo;\n        return await salesApi.salesTrendData(userInfo);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n\n  created() {\n    var cData = [];\n    this.callApiSalesTrendData().then((request) => {\n      request.data.data.forEach(function (v) {\n        var newValue = {\n          name: v.STK_CTGRY_NAME,\n          data: [v.M6, v.M5, v.M4, v.M3, v.M2, v.M1, v.M],\n        };\n        cData.push(newValue);\n      });\n    });\n\n    this.chartData = cData;\n\n    this.callApiEKeyInData().then((request) => {\n      if (request.data != undefined) {\n        this.totalsales = {\n          value: Number(request.data.data[0].TOTAL_SALES),\n        };\n      }\n    });\n\n    this.callApiTodayEkeyinData().then((request) => {\n      this.todayEeyin = request.data.data;\n\n      // request.data.data.forEach(function (v) {\n      // \tif (v.STK_CTGRY_ID == 54) {\n      // \t\tconsole.log('111111123');\n      // \t\t//Bidet\n      // \t\tthis.tvalue.WA = v.P_TOTAL_CNT;\n      // \t}\n      // });\n\n      //console.log(this.todayEeyin);\n    });\n    this.polling = setInterval(() => {\n      this.callApiEKeyInData().then((request) => {\n        this.totalsales = {\n          value: request.data.data[0].TOTAL_SALES,\n        };\n      });\n\n      this.callApiTodayEkeyinData().then((request) => {\n        this.todayEeyin = request.data.data;\n\n        //console.log(request.data.data);\n      });\n    }, 300000);\n  },\n\n  data() {\n    const checkNull = (value) => {\n      var rtnVal = 0;\n      try {\n        this.todayEeyin.forEach(function (v) {\n          if (value == v.STK_CTGRY_ID) {\n            rtnVal = v.P_TOTAL_CNT;\n          }\n        });\n\n        //rtnVal = this.todayEeyin[value].P_TOTAL_CNT;\n      } catch (error) {\n        rtnVal = 0;\n      }\n\n      return rtnVal;\n    };\n\n    const chartOptions = {\n      chart: {\n        type: \"bar\",\n        stacked: true,\n        toolbar: {\n          show: true,\n        },\n      },\n      plotOptions: {\n        bar: {\n          borderRadius: 10,\n          columnWidth: \"35%\",\n          startingShape: \"rounded\",\n          endingShape: \"rounded\",\n        },\n      },\n      xaxis: {\n        categories: [\"M-6\", \"M-5\", \"M-4\", \"M-3\", \"M-2\", \"M-1\", \"M\"],\n        axisBorder: {\n          show: true,\n        },\n        axisTicks: {\n          show: true,\n        },\n      },\n      yaxis: {\n        labels: {\n          formatter: (value) => value,\n        },\n      },\n      grid: {\n        strokeDashArray: 7,\n      },\n      dataLabels: {\n        enabled: false,\n      },\n      legend: {\n        show: true,\n      },\n      stroke: {\n        curve: \"smooth\",\n        width: 7,\n        lineCap: \"round\",\n        colors: [\"#fff\"],\n      },\n      responsive: [\n        {\n          breakpoint: 1400,\n          options: {\n            plotOptions: {\n              bar: {\n                borderRadius: 10,\n                columnWidth: \"45%\",\n              },\n            },\n          },\n        },\n      ],\n    };\n\n    return {\n      chartOptions,\n      checkNull,\n      tvalue: {},\n      chartData: [],\n      totalsales: {},\n      todayEeyin: [],\n      polling: null,\n      icons: {\n        mdiDotsVertical,\n        mdiTrendingUp,\n        mdiCurrencyUsd,\n        mdiChartBar,\n        mdiAirConditioner,\n        mdiAccountHeart,\n        mdiEgg,\n        mdiFanAuto,\n        mdiAutorenew,\n        mdiSeatReclineNormal,\n        mdiWeatherWindyVariant,\n        mdiBeaker,\n        mdiRadiatorDisabled,\n        mdiSeatIndividualSuite,\n        mdiWaterOutline,\n        mdiNumeric10BoxMultiple,\n        mdiAlphaEBox,\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.roller .rollerBlock {\n  margin: 3px;\n  font-size: 100%;\n}\n</style>\n"]}]}