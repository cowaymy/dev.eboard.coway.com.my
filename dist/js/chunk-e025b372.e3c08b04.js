(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e025b372"],{"0b89":function(t,e,n){"use strict";n("d908")},"2a38":function(t,e,n){"use strict";var a=n("1da1"),r=(n("96cf"),n("99af"),n("0244")),s=Object(r["b"])();function c(t){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendEvents/".concat(e.userName,"/reqDate/").concat(e.reqDate)));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(t){return u.apply(this,arguments)}function u(){return u=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendHistoryEvents/".concat(e.userName,"/reqDate/").concat(e.reqDate)));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendBranchName/".concat(e)));case 1:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function l(t){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("fetchAttendAllowLactionFroHp=====>",e),t.abrupt("return",s.get("/apps/calendar/checkAttendanceAllowLocationForHp/".concat(e.id,"/scanDevice/").concat(e.deviceId,"/latitude/").concat(e.latitude,"/longitude/").concat(e.longitude)));case 2:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return g.apply(this,arguments)}function g(){return g=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("verifyLocationForHp=====>",e),t.abrupt("return",s.get("/apps/calendar/verifyLocationForHp/".concat(e.id,"/scanDevice/").concat(e.deviceId,"/latitude/").concat(e.latitude,"/longitude/").concat(e.longitude)));case 2:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}e["a"]={fetchAttendEvents:c,fetchAttendBranchName:d,fetchAttendAllowLactionFroHp:l,fetchAttendHistoryEvents:i,verifyLocationForHp:f}},5464:function(t,e,n){n("ac1f"),n("00b4"),n("c975"),n("498a"),n("d3b7"),t.exports.isExternal=function(t){return/^(https?:|mailto:|tel:)/.test(t)},t.exports.validUsername=function(t){var e=["admin","editor"];return e.indexOf(t.trim())>=0},t.exports.validURL=function(t){var e=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/;return e.test(t)},t.exports.validLowerCase=function(t){var e=/^[a-z]+$/;return e.test(t)},t.exports.validUpperCase=function(t){var e=/^[A-Z]+$/;return e.test(t)},t.exports.validAlphabets=function(t){var e=/^[A-Za-z]+$/;return e.test(t)},t.exports.validEmail=function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},t.exports.isString=function(t){return"string"===typeof t||t instanceof String},t.exports.isArray=function(t){return"undefined"===typeof Array.isArray?"[object Array]"===Object.prototype.toString.call(t):Array.isArray(t)},t.exports.checkNull=function(t){return"undefined"===typeof t||null===t?0:t},t.exports.isEmptyResult=function(t){return"undefined"===typeof t||null===t||""==t},t.exports.getMonthName=function(){return(new Date).toLocaleDateString("en-US",{month:"short"})},t.exports.getDateOnly=function(){return(new Date).toLocaleDateString("en-GB")},t.exports.getDate=function(){return(new Date).getDate()}},a0d6:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{color:"text-center"}},[n("v-card-text",{staticClass:"d-flex flex-column justify-center align-center"},[n("v-icon",{attrs:{size:"4rem",color:t.proColor}},[t._v(" "+t._s(t.proIcon)+" ")]),n("h6",{staticClass:"text-5xl mt-4 font-weight-semibold"},[t._v(t._s(t.proText))])],1),n("v-card-text",[t._v(" "+t._s(t.resultMessage)+" ")]),n("v-card-text",[n("v-divider")],1),n("v-card-text",[n("h3",{staticClass:"text-6xl mt-4 font-weight-semibold"},[t._v(" "+t._s(this.$store.state.userInfo.userName)+" ")]),n("div",[t._v(t._s(this.scandate))]),n("div",[t._v(t._s(this.scantime))]),n("div",[t._v("["+t._s(this.scanbranchCode)+"]"+t._s(this.scanbranchName))]),n("v-divider"),n("div",[t._v(" [location]::["+t._s(this.scanGpsInfo.location.geocode[0].postalCode)+"]"+t._s(this.scanGpsInfo.location.geocode[0].city)+" - "+t._s(this.scanGpsInfo.location.geocode[0].street)+" ")])],1),n("v-card-text",[n("v-btn",{staticClass:"mt-4",attrs:{color:"primary"},nativeOn:{click:function(e){return t.$router.push("AttendHistory")}}},[t._v(" check Histroy")])],1)],1)},r=[],s=n("1da1"),c=(n("96cf"),n("99af"),n("d3b7"),n("25f0"),n("94ed")),o=n("5464"),i=n("365c"),u=n("2a38"),d=n("6a1d"),p={name:"AttendScanQRResult",components:{},props:{scandata:{type:String,default:""},gpsInfo:{type:String,defalult:""}},data:function(){return console.log(this.scandata.data),{icons:{mdiClose:c["N"]},scandate:"",scantime:"",scanbranchName:"",scanbranchCode:"",scanGpsInfo:JSON.parse(this.gpsInfo),month:Object(o["getMonthName"])(),ndate:Object(o["getDate"])(),mdiCheckBold:c["B"],mdiCheckDecagramOutline:c["D"],mdiHelpCircleOutline:c["db"],proColor:"secondary",proText:"",proIcon:c["h"],resultCode:"process",resultMessage:null,mdiCheckCircle:c["C"]}},computed:{},created:function(){this.initProgress(),this.updateAttendData()},methods:{initProgress:function(){"process"==this.resultCode&&(this.proColor="secondary ",this.proText="progress",this.resultMessage="validation in progress...",this.proIcon=c["Q"])},updateProgress:function(t){if(console.log(t),t.success){this.proColor="success",this.proText="Success",this.resultMessage=t.message,this.proIcon=c["C"];try{this.scandate="".concat(t.dataList.attendscandate.substr(6,2)," / ").concat(t.dataList.attendscandate.substr(4,2)," / ").concat(t.dataList.attendscandate.substr(0,4)," "),this.scantime="".concat(t.dataList.attendscantime)}catch(e){console.log(e)}void 0!=t.dataList.attendtoken&&"undefined"!=t.dataList.attendtoken&&(Object(d["a"])(this.$store.state.userInfo.userName),Object(d["g"])(this.$store.state.userInfo.userName,t.dataList.attendtoken))}else this.proColor="error",this.proText="Failed",this.resultMessage=t.message,this.proIcon=c["i"]},updateAttendData:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s,c,o,p,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.scandata,a=JSON.parse(n),r={scanDate:a.date,scanTime:a.currentTime,scanDevice:a.deviceId,scanQRType:"A0001",scanQRTypeDesc:"QR",scanBranchLatitude:a.branchLatitude,scanBranchLongitude:a.branchLongitude,scanUserToken:Object(d["d"])(t.$store.state.userInfo.userName),userName:t.$store.state.userInfo.userName},e.next=6,u["a"].verifyLocationForHp({id:t.$store.state.userInfo.userName,deviceId:a.deviceId,latitude:a.branchLatitude,longitude:a.branchLongitude});case 6:if(s=e.sent,s.data.success){e.next=10;break}return t.updateProgress(s.data),e.abrupt("return");case 10:return e.next=12,u["a"].fetchAttendAllowLactionFroHp({id:t.$store.state.userInfo.userName,deviceId:a.deviceId,latitude:a.branchLatitude,longitude:a.branchLongitude});case 12:if(c=e.sent,!(c.data.dataList[0].isAllow>=1)){e.next=25;break}return e.next=16,i["a"].updateAttendData(r);case 16:return o=e.sent,p=o.data,e.next=20,u["a"].fetchAttendBranchName(a.deviceId);case 20:l=e.sent,l.data.success?(t.scanbranchName=l.data.dataList[0].attend_branch_name,t.scanbranchCode=l.data.dataList[0].attend_branch_code):t.updateProgress(l.data),t.updateProgress(p),e.next=26;break;case 25:t.updateProgress({success:!1,message:"You are not registered under this reporting branch. Kindly refer to your reporting manager"});case 26:e.next=36;break;case 28:e.prev=28,e.t0=e["catch"](0),alert(e.t0.toString),console.log(e.t0.toString()),h=new Object,h.success=!1,h.message=e.t0.toString(),t.updateProgress(h);case 36:case"end":return e.stop()}}),e,null,[[0,28]])})))()}}},l=p,h=(n("0b89"),n("2877")),f=n("6544"),g=n.n(f),m=n("8336"),v=n("b0af"),b=n("99d9"),x=n("ce7e"),y=n("132d"),w=Object(h["a"])(l,a,r,!1,null,null,null);e["default"]=w.exports;g()(w,{VBtn:m["a"],VCard:v["a"],VCardText:b["c"],VDivider:x["a"],VIcon:y["a"]})},d908:function(t,e,n){}}]);
//# sourceMappingURL=chunk-e025b372.e3c08b04.js.map