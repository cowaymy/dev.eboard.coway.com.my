(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e32aeaf"],{"2a38":function(t,e,a){"use strict";var n=a("1da1"),r=(a("96cf"),a("99af"),a("0244")),s=Object(r["b"])();function c(t){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendEvents/".concat(e.userName,"/reqDate/").concat(e.reqDate)));case 1:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendHistoryEvents/".concat(e.userName,"/reqDate/").concat(e.reqDate)));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",s.get("/apps/calendar/attendBranchName/".concat(e)));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function v(t){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("fetchAttendAllowLactionFroHp=====>",e),t.abrupt("return",s.get("/apps/calendar/checkAttendanceAllowLocationForHp/".concat(e.id,"/scanDevice/").concat(e.deviceId,"/latitude/").concat(e.latitude,"/longitude/").concat(e.longitude)));case 2:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("verifyLocationForHp=====>",e),t.abrupt("return",s.get("/apps/calendar/verifyLocationForHp/".concat(e.id,"/scanDevice/").concat(e.deviceId,"/latitude/").concat(e.latitude,"/longitude/").concat(e.longitude)));case 2:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}e["a"]={fetchAttendEvents:c,fetchAttendBranchName:d,fetchAttendAllowLactionFroHp:v,fetchAttendHistoryEvents:i,verifyLocationForHp:f}},f287:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-card",[a("v-card-title",[a("span",{staticStyle:{color:"info","font-weight":"bold"}},[t._v("Attendance Period")])]),a("v-card-text",{staticClass:"d-flex align-center flex-wrap pb-0"},[a("div",{staticClass:"d-flex align-center pb-5"},[a("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Attendance date","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),n))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("v-date-picker",{attrs:{type:"month",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v(" OK ")])],1)],1)],1),a("v-spacer"),a("div",{staticClass:"d-flex align-center pb-5"},[a("v-btn",{staticClass:"me-3",attrs:{color:"primary"},on:{click:function(e){return t.fetchEvents()}}},[a("v-icon",{staticClass:"me-1",attrs:{size:"18"}},[t._v(" "+t._s(t.icons.mdiMagnifyPlusOutline)+" ")]),a("span",[t._v("Search")])],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-chip",{staticClass:"me-3",attrs:{size:"x-small",color:t.setTagColor("A0005")},on:{click:function(e){return t.fetchEvents("A0005")}}},[a("v-icon",{staticClass:"me-1"},[t._v(" "+t._s(t.setTag("A0005"))+" ")]),a("span",[t._v("W")])],1),a("v-chip",{staticClass:"me-3",attrs:{color:t.setTagColor("A0004")},on:{click:function(e){return t.fetchEvents("A0004")}}},[a("v-icon",{staticClass:"me-1"},[t._v(" "+t._s(t.setTag("A0004"))+" ")]),a("span",[t._v(" R")])],1),a("v-chip",{staticClass:"me-3",attrs:{color:t.setTagColor("A0002")},on:{click:function(e){return t.fetchEvents("A0002")}}},[a("v-icon",{staticClass:"me-1"},[t._v(" "+t._s(t.setTag("A0002"))+" ")]),a("span",[t._v(" H")])],1),a("v-chip",{staticClass:"me-3",attrs:{color:t.setTagColor("A0001")},on:{click:function(e){return t.fetchEvents("A0001")}}},[a("v-icon",{staticClass:"me-1"},[t._v(" "+t._s(t.setTag("A0001"))+" ")]),a("span",[t._v(" QR")])],1)],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-card",[a("v-card-title",{staticClass:"align-start"},[a("span",{staticStyle:{color:"info","font-weight":"bold"}},[t._v("Your Attendance History")]),a("v-spacer")],1),a("v-card-text",[a("v-list",{staticClass:"pt-0"},t._l(t.events,(function(e,n){return a("v-list-item",{key:e.start,class:"d-flex align-center px-0 "+(n>0?"mt-3":"")},[1==e.isAttendance?[a("v-list-item-avatar",{attrs:{size:"38",color:"info"}},[a("v-icon",{attrs:{size:"18",color:"error"}},[t._v(" "+t._s(t.icons.mdiCheckBold)+" ")])],1),a("div",{staticClass:"d-flex align-center flex-grow-1 flex-wrap text-no-wrap"},[a("div",{staticClass:"me-2"},[a("v-list-item-title",{staticClass:"text-xs"},[a("span",{staticStyle:{color:"info","font-weight":"bold"}},[t._v(" ( "+t._s(e.title_id)+" )")]),t._v(t._s(e.title)+" ")]),a("div",{staticClass:"d-flex align-center"},[a("v-icon",{staticClass:"me-1",attrs:{size:"14"}},[t._v(" "+t._s(t.icons.mdiCalendarClockOutline)+" ")]),a("v-list-item-subtitle",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(e.event_date))]),t._v(" | "),a("span",{staticStyle:{color:"blue","font-weight":"bold"}},[t._v(" "+t._s("A0001"==e.attend_type_code?t.splitData(e.start,"T")[1]:t.getType(e.attend_type_code)))])])],1)],1)]),a("v-spacer"),a("span",[a("v-icon",{attrs:{color:t.setTagColor(e.attend_type_code),start:""}},[t._v(" "+t._s(t.setTag(e.attend_type_code))+" ")])],1)]:[a("v-list-item-avatar",{attrs:{size:"38",color:"secondary"}},[a("v-icon",{attrs:{size:"18"}},[t._v(" "+t._s(t.icons.mdiCancel)+" ")])],1),a("div",{staticClass:"d-flex align-center flex-grow-1 flex-wrap text-no-wrap"},[a("div",{staticClass:"me-2"},[a("v-list-item-title",{staticClass:"text-xs"}),a("div",{staticClass:"d-flex align-center"},[a("v-icon",{staticClass:"me-1",attrs:{size:"14"}},[t._v(" "+t._s(t.icons.mdiCalendarClockOutline)+" ")]),a("v-list-item-subtitle",[a("span",{staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(e.event_date))])])],1)],1)]),a("v-spacer"),a("span",[a("v-icon",{attrs:{color:t.setTagColor(e.attend_type_code),start:""}},[t._v(" "+t._s(t.setTag(e.attend_type_code))+" ")])],1)]],2)})),1)],1)],1)],1)],1)},r=[],s=a("2909"),c=(a("ac1f"),a("5319"),a("d3b7"),a("159b"),a("99af"),a("4de4"),a("caad"),a("2532"),a("1276"),a("94ed")),o=a("4360"),i=a("f798"),l="app-calendar",d={data:function(){return o["a"].hasModule(l)||(o["a"].registerModule(l,i["a"]),console.log(o["a"].hasModule(l))),{date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,events:[],icons:{mdiDotsVertical:c["U"],mdiCalendarBlankOutline:c["t"],mdiMagnifyPlusOutline:c["lb"],mdiCalendarClockOutline:c["u"],mdiCheckBold:c["B"],mdiLabelMultiple:c["gb"],mdiMessageAlertOutline:c["ob"],mdiQrcodeScan:c["vb"],mdiAirplaneTakeoff:c["g"],mdiClipboardEditOutline:c["M"],mdiCalendarHeart:c["v"],mdiCancel:c["w"]}}},computed:{},methods:{getType:function(t){return"A0002"==t?"Public Holiday":"A0003"==t?"State Holiday":"A0004"==t?"RFA":"A0005"==t?"Waived":void 0},fetchEvents:function(t){var e=this,a=this.date.replace(/-/g,"");o["a"].dispatch("".concat(l,"/fetchHistoryEvents"),a).then((function(a){console.log(a.data.dataList);var n=a.data.dataList;if(void 0===t)e.events=Object(s["a"])(n);else{var r=[];a.data.dataList.forEach((function(a){(a.attend_type_code==t||"A0002"==t&&"A0003"==a.attend_type_code)&&(console.log(a),r.push(a)),e.events=[].concat(r)}))}console.log(e.events)})).catch((function(t){console.error(t),console.error(t.response)}))},keyEvents:function(t){return console.log("---------------------------"),console.log(t),console.log("---------------------------"),this.events.filter((function(t){console.log(t),t.attend_type_code.toLowerCase().includes("A0004")}))},splitData:function(t,e){return console.log(t),void 0===t||""==t||null==t?"":t.split(e)},setTag:function(t){var e=c["ob"];return e="A0001"==t?c["vb"]:"A0002"==t||"A0003"==t?c["g"]:"A0004"==t?c["M"]:"A0005"==t?c["v"]:c["ob"],e},setTagColor:function(t){var e="secondary";return e="A0001"==t?"info":"A0002"==t||"A0003"==t?"warning":"A0004"==t?"success":"A0005"==t?"error":"secondary",e}}},u=d,v=a("2877"),p=a("6544"),f=a.n(p),m=a("8336"),g=a("b0af"),h=a("99d9"),_=a("cc20"),b=a("62ad"),C=a("2e4b"),y=a("169a"),A=a("132d"),w=a("8860"),x=a("da13"),k=a("8270"),E=a("5d23"),T=a("0fd9"),O=a("2fa4"),V=a("8654"),L=Object(v["a"])(u,n,r,!1,null,null,null);e["default"]=L.exports;f()(L,{VBtn:m["a"],VCard:g["a"],VCardText:h["c"],VCardTitle:h["d"],VChip:_["a"],VCol:b["a"],VDatePicker:C["a"],VDialog:y["a"],VIcon:A["a"],VList:w["a"],VListItem:x["a"],VListItemAvatar:k["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VRow:T["a"],VSpacer:O["a"],VTextField:V["a"]})},f798:function(t,e,a){"use strict";a("d3b7");var n=a("d8ad"),r=a("2a38"),s=a("4360");e["a"]={namespaced:!0,state:{calendarOptions:[{color:"success",label:"attendance"}],selectedCalendars:["attendance"]},getters:{},mutations:{SET_SELECTED_CALENDARS:function(t,e){t.selectedCalendars=e}},actions:{fetchEvents:function(t,e){t.commit;console.log(s["a"]),n["a"].$emit("start:spinner");var a=s["a"].state.userInfo;console.log("=========>",e);var c={userName:a.userName,reqDate:e};return new Promise((function(t,e){r["a"].fetchAttendEvents(c).then((function(e){return t(e)})).catch((function(t){return e(t)})).finally((function(){n["a"].$emit("end:spinner")}))}))},fetchHistoryEvents:function(t,e){t.commit;console.log(s["a"]),n["a"].$emit("start:spinner");var a=s["a"].state.userInfo;console.log("=========>",e);var c={userName:a.userName,reqDate:e};return new Promise((function(t,e){r["a"].fetchAttendHistoryEvents(c).then((function(e){return t(e)})).catch((function(t){return e(t)})).finally((function(){n["a"].$emit("end:spinner")}))}))}}}}}]);
//# sourceMappingURL=chunk-6e32aeaf.0c207b70.js.map