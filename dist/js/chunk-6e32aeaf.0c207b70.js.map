{"version":3,"sources":["webpack:///./src/api/calendarApi.js","webpack:///./src/views/comm/calendar/CalendarAttendanceHistory.vue?0ed5","webpack:///src/views/comm/calendar/CalendarAttendanceHistory.vue","webpack:///./src/views/comm/calendar/CalendarAttendanceHistory.vue?1515","webpack:///./src/views/comm/calendar/CalendarAttendanceHistory.vue","webpack:///./src/views/comm/calendar/calendarStoreModule.js"],"names":["newInstance","createInstance","fetchAttendEvents","userData","get","userName","reqDate","fetchAttendHistoryEvents","fetchAttendBranchName","id","fetchAttendAllowLactionFroHp","data","console","log","deviceId","latitude","longitude","verifyLocationForHp","render","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","_v","staticClass","ref","date","on","$event","scopedSlots","_u","key","fn","_g","_b","model","value","callback","$$v","expression","modal","$refs","dialog","save","fetchEvents","_s","icons","mdiMagnifyPlusOutline","setTagColor","setTag","_l","item","index","start","class","isAttendance","mdiCheckBold","title_id","title","mdiCalendarClockOutline","event_date","attend_type_code","splitData","getType","mdiCancel","staticRenderFns","store","Date","toISOString","substr","menu","events","mdiDotsVertical","mdiCalendarBlankOutline","mdiLabelMultiple","mdiMessageAlertOutline","mdiQrcodeScan","mdiAirplaneTakeoff","mdiClipboardEditOutline","mdiCalendarHeart","computed","methods","t","keyEvents","type","filter","undefined","split","tagIcon","typeCode","mdi","component","VBtn","VCard","VCardText","VCardTitle","VChip","VCol","VDatePicker","VDialog","VIcon","VList","VListItem","VListItemAvatar","VListItemSubtitle","VListItemTitle","VRow","VSpacer","VTextField","namespaced","state","calendarOptions","color","label","selectedCalendars","getters","mutations","SET_SELECTED_CALENDARS","val","actions","_date","commit","bus","$emit","userInfo","pramData","Promise","resolve","reject","calendarApi","then","response","catch","error","finally","fetchHistoryEvents"],"mappings":"oKAEIA,EAAcC,iB,SAEHC,E,gGAAf,WAAiCC,GAAjC,0GAMSH,EAAYI,IAAZ,sCAC0BD,EAASE,SADnC,oBACuDF,EAASG,WAPzE,2C,iCAWeC,E,gGAAf,WAAwCJ,GAAxC,0GAMSH,EAAYI,IAAZ,6CACiCD,EAASE,SAD1C,oBAC8DF,EAASG,WAPhF,2C,iCAWeE,E,gGAAf,WAAqCC,GAArC,0GACST,EAAYI,IAAZ,0CAAmDK,KAD5D,2C,iCAIeC,E,gGAAf,WAA4CC,GAA5C,wFACEC,QAAQC,IAAI,qCAAsCF,GADpD,kBAESX,EAAYI,IAAZ,2DAC+CO,EAAKF,GADpD,uBACqEE,EAAKG,SAD1E,qBAC+FH,EAAKI,SADpG,sBAC0HJ,EAAKK,aAHxI,2C,iCAMeC,E,gGAAf,WAAmCN,GAAnC,wFACEC,QAAQC,IAAI,4BAA6BF,GAD3C,kBAESX,EAAYI,IAAZ,6CACiCO,EAAKF,GADtC,uBACuDE,EAAKG,SAD5D,qBACiFH,EAAKI,SADtF,sBAC4GJ,EAAKK,aAH1H,2C,wBAOe,QACbd,oBACAM,wBACAE,+BACAH,2BACAU,wB,yCChDF,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS,CAACP,EAAIQ,GAAG,yBAAyBJ,EAAG,cAAc,CAACK,YAAY,sCAAsC,CAACL,EAAG,MAAM,CAACK,YAAY,4BAA4B,CAACL,EAAG,WAAW,CAACM,IAAI,SAASJ,MAAM,CAAC,eAAeN,EAAIW,KAAK,WAAa,GAAG,MAAQ,SAASC,GAAG,CAAC,qBAAqB,SAASC,GAAQb,EAAIW,KAAKE,GAAQ,sBAAsB,SAASA,GAAQb,EAAIW,KAAKE,IAASC,YAAYd,EAAIe,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASP,GAChpB,IAAIE,EAAKF,EAAIE,GACTN,EAAQI,EAAIJ,MAChB,MAAO,CAACF,EAAG,eAAeJ,EAAIkB,GAAGlB,EAAImB,GAAG,CAACb,MAAM,CAAC,MAAQ,kBAAkB,eAAe,eAAe,SAAW,IAAIc,MAAM,CAACC,MAAOrB,EAAQ,KAAEsB,SAAS,SAAUC,GAAMvB,EAAIW,KAAKY,GAAKC,WAAW,SAAS,eAAelB,GAAM,GAAOM,SAAUQ,MAAM,CAACC,MAAOrB,EAAS,MAAEsB,SAAS,SAAUC,GAAMvB,EAAIyB,MAAMF,GAAKC,WAAW,UAAU,CAACpB,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,QAAQ,WAAa,IAAIc,MAAM,CAACC,MAAOrB,EAAQ,KAAEsB,SAAS,SAAUC,GAAMvB,EAAIW,KAAKY,GAAKC,WAAW,SAAS,CAACpB,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWM,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIyB,OAAQ,KAAS,CAACzB,EAAIQ,GAAG,cAAcJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI0B,MAAMC,OAAOC,KAAK5B,EAAIW,SAAS,CAACX,EAAIQ,GAAG,WAAW,IAAI,IAAI,GAAGJ,EAAG,YAAYA,EAAG,MAAM,CAACK,YAAY,4BAA4B,CAACL,EAAG,QAAQ,CAACK,YAAY,OAAOH,MAAM,CAAC,MAAQ,WAAWM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,iBAAiB,CAACzB,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,KAAO,OAAO,CAACN,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI+B,MAAMC,uBAAuB,OAAO5B,EAAG,OAAO,CAACJ,EAAIQ,GAAG,aAAa,IAAI,IAAI,IAAI,IAAI,GAAGJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,OAAO,CAACF,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,KAAO,UAAU,MAAQN,EAAIiC,YAAY,UAAUrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,YAAY,YAAY,CAACzB,EAAG,SAAS,CAACK,YAAY,QAAQ,CAACT,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAO,UAAU,OAAO9B,EAAG,OAAO,CAACJ,EAAIQ,GAAG,QAAQ,GAAGJ,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,MAAQN,EAAIiC,YAAY,UAAUrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,YAAY,YAAY,CAACzB,EAAG,SAAS,CAACK,YAAY,QAAQ,CAACT,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAO,UAAU,OAAO9B,EAAG,OAAO,CAACJ,EAAIQ,GAAG,SAAS,GAAGJ,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,MAAQN,EAAIiC,YAAY,UAAUrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,YAAY,YAAY,CAACzB,EAAG,SAAS,CAACK,YAAY,QAAQ,CAACT,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAO,UAAU,OAAO9B,EAAG,OAAO,CAACJ,EAAIQ,GAAG,SAAS,GAAGJ,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,MAAQN,EAAIiC,YAAY,UAAUrB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI6B,YAAY,YAAY,CAACzB,EAAG,SAAS,CAACK,YAAY,QAAQ,CAACT,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAO,UAAU,OAAO9B,EAAG,OAAO,CAACJ,EAAIQ,GAAG,UAAU,IAAI,GAAGJ,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACK,YAAY,eAAe,CAACL,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS,CAACP,EAAIQ,GAAG,6BAA6BJ,EAAG,aAAa,GAAGA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACK,YAAY,QAAQT,EAAImC,GAAInC,EAAU,QAAE,SAASoC,EAAKC,GAAO,OAAOjC,EAAG,cAAc,CAACY,IAAIoB,EAAKE,MAAMC,MAAO,6BAA+BF,EAAQ,EAAI,OAAS,KAAM,CAAuB,GAArBD,EAAKI,aAAmB,CAACpC,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,SAAS,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,UAAU,CAACN,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI+B,MAAMU,cAAc,QAAQ,GAAGrC,EAAG,MAAM,CAACK,YAAY,0DAA0D,CAACL,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,oBAAoB,CAACK,YAAY,WAAW,CAACL,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS,CAACP,EAAIQ,GAAG,MAAMR,EAAI8B,GAAGM,EAAKM,UAAU,QAAQ1C,EAAIQ,GAAGR,EAAI8B,GAAGM,EAAKO,OAAO,OAAOvC,EAAG,MAAM,CAACK,YAAY,uBAAuB,CAACL,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,KAAO,OAAO,CAACN,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI+B,MAAMa,yBAAyB,OAAOxC,EAAG,uBAAuB,CAACA,EAAG,OAAO,CAACG,YAAY,CAAC,cAAc,SAAS,CAACP,EAAIQ,GAAG,IAAIR,EAAI8B,GAAGM,EAAKS,eAAe7C,EAAIQ,GAAG,OAAOJ,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,OAAO,cAAc,SAAS,CAACP,EAAIQ,GAAG,IAAIR,EAAI8B,GAA4B,SAAzBM,EAAKU,iBAA8B9C,EAAI+C,UAAUX,EAAKE,MAAO,KAAK,GAAKtC,EAAIgD,QAAQZ,EAAKU,yBAAyB,IAAI,KAAK1C,EAAG,YAAYA,EAAG,OAAO,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAIiC,YAAYG,EAAKU,kBAAkB,MAAQ,KAAK,CAAC9C,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAOE,EAAKU,mBAAmB,QAAQ,IAAI,CAAC1C,EAAG,qBAAqB,CAACE,MAAM,CAAC,KAAO,KAAK,MAAQ,cAAc,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,OAAO,CAACN,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI+B,MAAMkB,WAAW,QAAQ,GAAG7C,EAAG,MAAM,CAACK,YAAY,0DAA0D,CAACL,EAAG,MAAM,CAACK,YAAY,QAAQ,CAACL,EAAG,oBAAoB,CAACK,YAAY,YAAYL,EAAG,MAAM,CAACK,YAAY,uBAAuB,CAACL,EAAG,SAAS,CAACK,YAAY,OAAOH,MAAM,CAAC,KAAO,OAAO,CAACN,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAI+B,MAAMa,yBAAyB,OAAOxC,EAAG,uBAAuB,CAACA,EAAG,OAAO,CAACG,YAAY,CAAC,cAAc,SAAS,CAACP,EAAIQ,GAAG,IAAIR,EAAI8B,GAAGM,EAAKS,kBAAkB,IAAI,KAAKzC,EAAG,YAAYA,EAAG,OAAO,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAIiC,YAAYG,EAAKU,kBAAkB,MAAQ,KAAK,CAAC9C,EAAIQ,GAAG,IAAIR,EAAI8B,GAAG9B,EAAIkC,OAAOE,EAAKU,mBAAmB,QAAQ,KAAK,MAAK,IAAI,IAAI,IAAI,IAAI,IACn6II,EAAkB,G,4ICqNtB,iBAEA,GACE1D,KADF,WAOI,OALK2D,EAAT,oBACMA,EAAN,8BACM1D,QAAQC,IAAIyD,EAAlB,oBAGW,CACLxC,MAAM,IAAIyC,MAAOC,cAAcC,OAAO,EAAG,GACzCC,MAAM,EACN9B,OAAO,EACP+B,OAAQ,GACRzB,MAAO,CACL0B,gBAAR,OACQC,wBAAR,OACQ1B,sBAAR,QACQY,wBAAR,OACQH,aAAR,OACQkB,iBAAR,QACQC,uBAAR,QACQC,cAAR,QACQC,mBAAR,OACQC,wBAAR,OACQC,iBAAR,OACQf,UAAR,UAKEgB,SAAU,GAEVC,QAAS,CACPlB,QADJ,SACA,GACM,MAAS,SAALmB,EACK,iBACf,WACe,gBACf,WACe,MACf,WACe,cADf,GAIItC,YAZJ,SAYA,cACA,6BACMsB,EAAN,KACA,SADA,UAEA,EAFA,uBAGA,GAEA,kBACQ,QAAR,qBACQ,IAAR,kBACQ,QAAR,MACU,EAAV,6BACA,CACU,IAAV,KAEU,EAAV,oCAEA,uBACA,2CAEc,QAAd,OACc,EAAd,SAGY,EAAZ,uBAGQ,QAAR,iBAEA,mBACQ,QAAR,SACQ,QAAR,sBAIIiB,UA/CJ,SA+CA,GAMM,OALA3E,QAAQC,IAAI,+BACZD,QAAQC,IAAI2E,GAEZ5E,QAAQC,IAAI,+BAELO,KAAKuD,OAAOc,QAAO,SAAhC,GACQ7E,QAAQC,IAAI0C,GACpB,uDAGIW,UA1DJ,SA0DA,KAEM,OADAtD,QAAQC,IAAIF,QACC+E,IAAT/E,GAA8B,IAARA,GAAsB,MAARA,EAAqB,GAEtDA,EAAKgF,MAAMH,IAGpBnC,OAjEJ,SAiEA,GACM,IAAN,UAaM,OAXEuC,EADc,SAAZC,EACQC,EAAlB,MACA,uBACkBA,EAAlB,KACA,WACkBA,EAAlB,KACA,WACkBA,EAAlB,KAEkBA,EAAlB,MAGaF,GAGTxC,YAlFJ,SAkFA,GACM,IAAN,cAaM,OAXEwC,EADc,SAAZC,EACQ,OAClB,uBACkB,UAClB,WACkB,UAClB,WACkB,QAEA,YAGLD,KC1VoX,I,qNCO7XG,EAAY,eACd,EACA7E,EACAmD,GACA,EACA,KACA,KACA,MAIa,aAAA0B,EAAiB,QAqBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,OAAA,KAAKC,cAAA,KAAYC,UAAA,KAAQC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUC,kBAAA,KAAgBC,kBAAA,OAAkBC,eAAA,OAAeC,OAAA,KAAKC,UAAA,KAAQC,aAAA,Q,oFClClK,QACbC,YAAY,EACZC,MAAO,CACLC,gBAAiB,CACf,CACEC,MAAO,UACPC,MAAO,eAGXC,kBAAmB,CAAC,eAEtBC,QAAS,GACTC,UAAW,CACTC,uBADS,SACcP,EAAOQ,GAC5BR,EAAMI,kBAAoBI,IAG9BC,QAAS,CACP3E,YADO,WACiB4E,GAAO,EAAjBC,OACZjH,QAAQC,IAAIyD,QAGZwD,OAAIC,MAAM,iBAEV,IAAMC,EAAW1D,OAAM4C,MAAMc,SAE7BpH,QAAQC,IAAI,aAAc+G,GAE1B,IAAMK,EAAW,CACf5H,SAAU2H,EAAS3H,SACnBC,QAASsH,GAGX,OAAO,IAAIM,SAAQ,SAACC,EAASC,GAC3BC,OACGnI,kBAAkB+H,GAClBK,MAAK,SAACC,GAAD,OAAcJ,EAAQI,MAC3BC,OAAM,SAACC,GAAD,OAAWL,EAAOK,MACxBC,SAAQ,WACPZ,OAAIC,MAAM,sBAKlBY,mBA3BO,WA2BwBf,GAAO,EAAjBC,OACnBjH,QAAQC,IAAIyD,QAGZwD,OAAIC,MAAM,iBAEV,IAAMC,EAAW1D,OAAM4C,MAAMc,SAE7BpH,QAAQC,IAAI,aAAc+G,GAE1B,IAAMK,EAAW,CACf5H,SAAU2H,EAAS3H,SACnBC,QAASsH,GAGX,OAAO,IAAIM,SAAQ,SAACC,EAASC,GAC3BC,OACG9H,yBAAyB0H,GACzBK,MAAK,SAACC,GAAD,OAAcJ,EAAQI,MAC3BC,OAAM,SAACC,GAAD,OAAWL,EAAOK,MACxBC,SAAQ,WACPZ,OAAIC,MAAM","file":"js/chunk-6e32aeaf.0c207b70.js","sourcesContent":["import { createInstance } from \"./interceptors\";\n\nlet newInstance = createInstance();\n\nasync function fetchAttendEvents(userData) {\n  // let options = {\n  // \treqDate: userData.reqDate,\n  // \tid: userData.userName,\n  // };\n\n  return newInstance.get(\n    `/apps/calendar/attendEvents/${userData.userName}/reqDate/${userData.reqDate}`\n  );\n}\n\nasync function fetchAttendHistoryEvents(userData) {\n  // let options = {\n  // \treqDate: userData.reqDate,\n  // \tid: userData.userName,\n  // };\n\n  return newInstance.get(\n    `/apps/calendar/attendHistoryEvents/${userData.userName}/reqDate/${userData.reqDate}`\n  );\n}\n\nasync function fetchAttendBranchName(id) {\n  return newInstance.get(`/apps/calendar/attendBranchName/${id}`);\n}\n\nasync function fetchAttendAllowLactionFroHp(data) {\n  console.log(\"fetchAttendAllowLactionFroHp=====>\", data);\n  return newInstance.get(\n    `/apps/calendar/checkAttendanceAllowLocationForHp/${data.id}/scanDevice/${data.deviceId}/latitude/${data.latitude}/longitude/${data.longitude}`\n  );\n}\nasync function verifyLocationForHp(data) {\n  console.log(\"verifyLocationForHp=====>\", data);\n  return newInstance.get(\n    `/apps/calendar/verifyLocationForHp/${data.id}/scanDevice/${data.deviceId}/latitude/${data.latitude}/longitude/${data.longitude}`\n  );\n}\n\nexport default {\n  fetchAttendEvents,\n  fetchAttendBranchName,\n  fetchAttendAllowLactionFroHp,\n  fetchAttendHistoryEvents,\n  verifyLocationForHp,\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticStyle:{\"color\":\"info\",\"font-weight\":\"bold\"}},[_vm._v(\"Attendance Period\")])]),_c('v-card-text',{staticClass:\"d-flex align-center flex-wrap pb-0\"},[_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-dialog',{ref:\"dialog\",attrs:{\"return-value\":_vm.date,\"persistent\":\"\",\"width\":\"290px\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Attendance date\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.modal),callback:function ($$v) {_vm.modal=$$v},expression:\"modal\"}},[_c('v-date-picker',{attrs:{\"type\":\"month\",\"scrollable\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.modal = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.dialog.save(_vm.date)}}},[_vm._v(\" OK \")])],1)],1)],1),_c('v-spacer'),_c('div',{staticClass:\"d-flex align-center pb-5\"},[_c('v-btn',{staticClass:\"me-3\",attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.fetchEvents()}}},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiMagnifyPlusOutline)+\" \")]),_c('span',[_vm._v(\"Search\")])],1)],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-chip',{staticClass:\"me-3\",attrs:{\"size\":\"x-small\",\"color\":_vm.setTagColor('A0005')},on:{\"click\":function($event){return _vm.fetchEvents('A0005')}}},[_c('v-icon',{staticClass:\"me-1\"},[_vm._v(\" \"+_vm._s(_vm.setTag(\"A0005\"))+\" \")]),_c('span',[_vm._v(\"W\")])],1),_c('v-chip',{staticClass:\"me-3\",attrs:{\"color\":_vm.setTagColor('A0004')},on:{\"click\":function($event){return _vm.fetchEvents('A0004')}}},[_c('v-icon',{staticClass:\"me-1\"},[_vm._v(\" \"+_vm._s(_vm.setTag(\"A0004\"))+\" \")]),_c('span',[_vm._v(\" R\")])],1),_c('v-chip',{staticClass:\"me-3\",attrs:{\"color\":_vm.setTagColor('A0002')},on:{\"click\":function($event){return _vm.fetchEvents('A0002')}}},[_c('v-icon',{staticClass:\"me-1\"},[_vm._v(\" \"+_vm._s(_vm.setTag(\"A0002\"))+\" \")]),_c('span',[_vm._v(\" H\")])],1),_c('v-chip',{staticClass:\"me-3\",attrs:{\"color\":_vm.setTagColor('A0001')},on:{\"click\":function($event){return _vm.fetchEvents('A0001')}}},[_c('v-icon',{staticClass:\"me-1\"},[_vm._v(\" \"+_vm._s(_vm.setTag(\"A0001\"))+\" \")]),_c('span',[_vm._v(\" QR\")])],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"12\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"align-start\"},[_c('span',{staticStyle:{\"color\":\"info\",\"font-weight\":\"bold\"}},[_vm._v(\"Your Attendance History\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-list',{staticClass:\"pt-0\"},_vm._l((_vm.events),function(item,index){return _c('v-list-item',{key:item.start,class:(\"d-flex align-center px-0 \" + (index > 0 ? 'mt-3' : ''))},[(item.isAttendance == 1)?[_c('v-list-item-avatar',{attrs:{\"size\":\"38\",\"color\":\"info\"}},[_c('v-icon',{attrs:{\"size\":\"18\",\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCheckBold)+\" \")])],1),_c('div',{staticClass:\"d-flex align-center flex-grow-1 flex-wrap text-no-wrap\"},[_c('div',{staticClass:\"me-2\"},[_c('v-list-item-title',{staticClass:\"text-xs\"},[_c('span',{staticStyle:{\"color\":\"info\",\"font-weight\":\"bold\"}},[_vm._v(\" ( \"+_vm._s(item.title_id)+\" )\")]),_vm._v(_vm._s(item.title)+\" \")]),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"14\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCalendarClockOutline)+\" \")]),_c('v-list-item-subtitle',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(item.event_date))]),_vm._v(\" | \"),_c('span',{staticStyle:{\"color\":\"blue\",\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(item.attend_type_code == \"A0001\" ? _vm.splitData(item.start, \"T\")[1] : _vm.getType(item.attend_type_code)))])])],1)],1)]),_c('v-spacer'),_c('span',[_c('v-icon',{attrs:{\"color\":_vm.setTagColor(item.attend_type_code),\"start\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.setTag(item.attend_type_code))+\" \")])],1)]:[_c('v-list-item-avatar',{attrs:{\"size\":\"38\",\"color\":\"secondary\"}},[_c('v-icon',{attrs:{\"size\":\"18\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCancel)+\" \")])],1),_c('div',{staticClass:\"d-flex align-center flex-grow-1 flex-wrap text-no-wrap\"},[_c('div',{staticClass:\"me-2\"},[_c('v-list-item-title',{staticClass:\"text-xs\"}),_c('div',{staticClass:\"d-flex align-center\"},[_c('v-icon',{staticClass:\"me-1\",attrs:{\"size\":\"14\"}},[_vm._v(\" \"+_vm._s(_vm.icons.mdiCalendarClockOutline)+\" \")]),_c('v-list-item-subtitle',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(item.event_date))])])],1)],1)]),_c('v-spacer'),_c('span',[_c('v-icon',{attrs:{\"color\":_vm.setTagColor(item.attend_type_code),\"start\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.setTag(item.attend_type_code))+\" \")])],1)]],2)}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row>\n    <v-col cols=\"12\" md=\"12\">\n      <v-card>\n        <v-card-title>\n          <span style=\"color: info; font-weight: bold\"\n            >Attendance Period</span\n          ></v-card-title\n        >\n        <v-card-text class=\"d-flex align-center flex-wrap pb-0\">\n          <div class=\"d-flex align-center pb-5\">\n            <v-dialog\n              ref=\"dialog\"\n              v-model=\"modal\"\n              :return-value.sync=\"date\"\n              persistent\n              width=\"290px\"\n            >\n              <template v-slot:activator=\"{ on, attrs }\">\n                <v-text-field\n                  v-model=\"date\"\n                  label=\"Attendance date\"\n                  prepend-icon=\"mdi-calendar\"\n                  readonly\n                  v-bind=\"attrs\"\n                  v-on=\"on\"\n                ></v-text-field>\n              </template>\n              <v-date-picker v-model=\"date\" type=\"month\" scrollable>\n                <v-spacer></v-spacer>\n                <v-btn text color=\"primary\" @click=\"modal = false\">\n                  Cancel\n                </v-btn>\n                <v-btn text color=\"primary\" @click=\"$refs.dialog.save(date)\">\n                  OK\n                </v-btn>\n              </v-date-picker>\n            </v-dialog>\n          </div>\n\n          <v-spacer></v-spacer>\n\n          <div class=\"d-flex align-center pb-5\">\n            <!-- create invoice -->\n            <v-btn color=\"primary\" class=\"me-3\" @click=\"fetchEvents()\">\n              <v-icon size=\"18\" class=\"me-1\">\n                {{ icons.mdiMagnifyPlusOutline }}\n              </v-icon>\n              <span>Search</span>\n            </v-btn>\n          </div>\n        </v-card-text>\n      </v-card>\n    </v-col>\n    <v-col cols=\"12\" md=\"12\">\n      <v-chip\n        size=\"x-small\"\n        :color=\"setTagColor('A0005')\"\n        @click=\"fetchEvents('A0005')\"\n        class=\"me-3\"\n      >\n        <v-icon class=\"me-1\">\n          {{ setTag(\"A0005\") }}\n        </v-icon>\n        <span>W</span>\n      </v-chip>\n\n      <v-chip\n        :color=\"setTagColor('A0004')\"\n        @click=\"fetchEvents('A0004')\"\n        class=\"me-3\"\n      >\n        <v-icon class=\"me-1\">\n          {{ setTag(\"A0004\") }}\n        </v-icon>\n        <span> R</span>\n      </v-chip>\n      <v-chip\n        :color=\"setTagColor('A0002')\"\n        @click=\"fetchEvents('A0002')\"\n        class=\"me-3\"\n      >\n        <v-icon class=\"me-1\">\n          {{ setTag(\"A0002\") }}\n        </v-icon>\n        <span> H</span>\n      </v-chip>\n\n      <v-chip\n        :color=\"setTagColor('A0001')\"\n        @click=\"fetchEvents('A0001')\"\n        class=\"me-3\"\n      >\n        <v-icon class=\"me-1\">\n          {{ setTag(\"A0001\") }}\n        </v-icon>\n        <span> QR</span>\n      </v-chip>\n    </v-col>\n    <v-col cols=\"12\" md=\"12\">\n      <v-card>\n        <v-card-title class=\"align-start\">\n          <span style=\"color: info; font-weight: bold\"\n            >Your Attendance History</span\n          >\n          <v-spacer></v-spacer>\n        </v-card-title>\n\n        <v-card-text>\n          <v-list class=\"pt-0\">\n            <v-list-item\n              v-for=\"(item, index) in events\"\n              :key=\"item.start\"\n              :class=\"`d-flex align-center px-0 ${index > 0 ? 'mt-3' : ''}`\"\n            >\n              <template v-if=\"item.isAttendance == 1\">\n                <v-list-item-avatar size=\"38\" color=\"info\">\n                  <v-icon size=\"18\" color=\"error\">\n                    {{ icons.mdiCheckBold }}\n                  </v-icon>\n                </v-list-item-avatar>\n\n                <div\n                  class=\"d-flex align-center flex-grow-1 flex-wrap text-no-wrap\"\n                >\n                  <div class=\"me-2\">\n                    <v-list-item-title class=\"text-xs\">\n                      <span style=\"color: info; font-weight: bold\">\n                        ( {{ item.title_id }} )</span\n                      >{{ item.title }}\n                    </v-list-item-title>\n\n                    <div class=\"d-flex align-center\">\n                      <v-icon size=\"14\" class=\"me-1\">\n                        {{ icons.mdiCalendarClockOutline }}\n                      </v-icon>\n                      <v-list-item-subtitle>\n                        <span style=\"font-weight: bold\">\n                          {{ item.event_date }}</span\n                        >\n                        |\n                        <span style=\"color: blue; font-weight: bold\">\n                          {{\n                            item.attend_type_code == \"A0001\"\n                              ? splitData(item.start, \"T\")[1]\n                              : getType(item.attend_type_code)\n                          }}</span\n                        >\n                      </v-list-item-subtitle>\n                    </div>\n                  </div>\n                </div>\n                <v-spacer></v-spacer>\n                <span>\n                  <v-icon :color=\"setTagColor(item.attend_type_code)\" start>\n                    {{ setTag(item.attend_type_code) }}\n                  </v-icon></span\n                >\n              </template>\n              <template v-else>\n                <v-list-item-avatar size=\"38\" color=\"secondary\">\n                  <v-icon size=\"18\">\n                    {{ icons.mdiCancel }}\n                  </v-icon>\n                </v-list-item-avatar>\n\n                <div\n                  class=\"d-flex align-center flex-grow-1 flex-wrap text-no-wrap\"\n                >\n                  <div class=\"me-2\">\n                    <v-list-item-title class=\"text-xs\"> </v-list-item-title>\n\n                    <div class=\"d-flex align-center\">\n                      <v-icon size=\"14\" class=\"me-1\">\n                        {{ icons.mdiCalendarClockOutline }}\n                      </v-icon>\n                      <v-list-item-subtitle>\n                        <span style=\"font-weight: bold\">\n                          {{ item.event_date }}</span\n                        >\n                      </v-list-item-subtitle>\n                    </div>\n                  </div>\n                </div>\n                <v-spacer></v-spacer>\n                <span>\n                  <v-icon :color=\"setTagColor(item.attend_type_code)\" start>\n                    {{ setTag(item.attend_type_code) }}\n                  </v-icon></span\n                >\n              </template>\n            </v-list-item>\n          </v-list>\n        </v-card-text>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport {\n  mdiCalendarBlankOutline,\n  mdiDotsVertical,\n  mdiMagnifyPlusOutline,\n  mdiCalendarClockOutline,\n  mdiCheckBold,\n  mdiLabelMultiple,\n  mdiMessageAlertOutline,\n  mdiQrcodeScan,\n  mdiAirplaneTakeoff,\n  mdiClipboardEditOutline,\n  mdiCalendarHeart,\n  mdiCancel,\n} from \"@mdi/js\";\n\nimport store from \"@/store\";\nimport calendarStoreModule from \"./calendarStoreModule\";\nconst CALENDAR_APP_STORE_MODULE_NAME = \"app-calendar\";\n\nexport default {\n  data() {\n    if (!store.hasModule(CALENDAR_APP_STORE_MODULE_NAME)) {\n      store.registerModule(CALENDAR_APP_STORE_MODULE_NAME, calendarStoreModule);\n      console.log(store.hasModule(CALENDAR_APP_STORE_MODULE_NAME));\n    }\n\n    return {\n      date: new Date().toISOString().substr(0, 7),\n      menu: false,\n      modal: false,\n      events: [],\n      icons: {\n        mdiDotsVertical,\n        mdiCalendarBlankOutline,\n        mdiMagnifyPlusOutline,\n        mdiCalendarClockOutline,\n        mdiCheckBold,\n        mdiLabelMultiple,\n        mdiMessageAlertOutline,\n        mdiQrcodeScan,\n        mdiAirplaneTakeoff,\n        mdiClipboardEditOutline,\n        mdiCalendarHeart,\n        mdiCancel,\n      },\n    };\n  },\n\n  computed: {},\n\n  methods: {\n    getType(t) {\n      if (t == \"A0002\") {\n        return \"Public Holiday\";\n      } else if (t == \"A0003\") {\n        return \"State Holiday\";\n      } else if (t == \"A0004\") {\n        return \"RFA\";\n      } else if (t == \"A0005\") {\n        return \"Waived\";\n      }\n    },\n    fetchEvents(_type) {\n      const parsedValue = this.date.replace(/-/g, \"\");\n      store\n        .dispatch(\n          `${CALENDAR_APP_STORE_MODULE_NAME}/fetchHistoryEvents`,\n          parsedValue\n        )\n        .then((response) => {\n          console.log(response.data.dataList);\n          const _events = response.data.dataList;\n          if (_type === undefined) {\n            this.events = [..._events];\n          } else {\n            const eObj = [];\n\n            response.data.dataList.forEach((element) => {\n              if (\n                element.attend_type_code == _type ||\n                (_type == \"A0002\" && element.attend_type_code == \"A0003\")\n              ) {\n                console.log(element);\n                eObj.push(element);\n              }\n\n              this.events = [...eObj];\n            });\n          }\n          console.log(this.events);\n        })\n        .catch((error) => {\n          console.error(error);\n          console.error(error.response);\n        });\n    },\n\n    keyEvents(type) {\n      console.log(\"---------------------------\");\n      console.log(type);\n\n      console.log(\"---------------------------\");\n\n      return this.events.filter((item) => {\n        console.log(item),\n          item.attend_type_code.toLowerCase().includes(\"A0004\");\n      });\n    },\n    splitData(data, type) {\n      console.log(data);\n      if (data === undefined || data == \"\" || data == null) return \"\";\n\n      return data.split(type);\n    },\n\n    setTag(typeCode) {\n      let tagIcon = mdiMessageAlertOutline;\n      if (typeCode == \"A0001\") {\n        tagIcon = mdiQrcodeScan;\n      } else if (typeCode == \"A0002\" || typeCode == \"A0003\") {\n        tagIcon = mdiAirplaneTakeoff;\n      } else if (typeCode == \"A0004\") {\n        tagIcon = mdiClipboardEditOutline;\n      } else if (typeCode == \"A0005\") {\n        tagIcon = mdiCalendarHeart;\n      } else {\n        tagIcon = mdiMessageAlertOutline;\n      }\n\n      return tagIcon;\n    },\n\n    setTagColor(typeCode) {\n      let tagIcon = \"secondary\";\n      if (typeCode == \"A0001\") {\n        tagIcon = \"info\";\n      } else if (typeCode == \"A0002\" || typeCode == \"A0003\") {\n        tagIcon = \"warning\";\n      } else if (typeCode == \"A0004\") {\n        tagIcon = \"success\";\n      } else if (typeCode == \"A0005\") {\n        tagIcon = \"error\";\n      } else {\n        tagIcon = \"secondary\";\n      }\n\n      return tagIcon;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarAttendanceHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CalendarAttendanceHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalendarAttendanceHistory.vue?vue&type=template&id=5db91c8f&\"\nimport script from \"./CalendarAttendanceHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./CalendarAttendanceHistory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VDatePicker,VDialog,VIcon,VList,VListItem,VListItemAvatar,VListItemSubtitle,VListItemTitle,VRow,VSpacer,VTextField})\n","//import axios from 'axios';\nimport bus from \"../../../utils/bus.js\";\nimport calendarApi from \"../../../api/calendarApi\";\nimport store from \"@/store\";\n\nexport default {\n  namespaced: true,\n  state: {\n    calendarOptions: [\n      {\n        color: \"success\",\n        label: \"attendance\",\n      },\n    ],\n    selectedCalendars: [\"attendance\"],\n  },\n  getters: {},\n  mutations: {\n    SET_SELECTED_CALENDARS(state, val) {\n      state.selectedCalendars = val;\n    },\n  },\n  actions: {\n    fetchEvents({ commit }, _date) {\n      console.log(store);\n\n      //start spinner\n      bus.$emit(\"start:spinner\");\n\n      const userInfo = store.state.userInfo;\n\n      console.log(\"=========>\", _date);\n\n      const pramData = {\n        userName: userInfo.userName,\n        reqDate: _date,\n      };\n\n      return new Promise((resolve, reject) => {\n        calendarApi\n          .fetchAttendEvents(pramData)\n          .then((response) => resolve(response))\n          .catch((error) => reject(error))\n          .finally(() => {\n            bus.$emit(\"end:spinner\");\n          });\n      });\n    },\n\n    fetchHistoryEvents({ commit }, _date) {\n      console.log(store);\n\n      //start spinner\n      bus.$emit(\"start:spinner\");\n\n      const userInfo = store.state.userInfo;\n\n      console.log(\"=========>\", _date);\n\n      const pramData = {\n        userName: userInfo.userName,\n        reqDate: _date,\n      };\n\n      return new Promise((resolve, reject) => {\n        calendarApi\n          .fetchAttendHistoryEvents(pramData)\n          .then((response) => resolve(response))\n          .catch((error) => reject(error))\n          .finally(() => {\n            bus.$emit(\"end:spinner\");\n          });\n      });\n    },\n\n    // addEvent(ctx, { event }) {\n    // \treturn new Promise((resolve, reject) => {\n    // \t\taxios\n    // \t\t\t.post('/apps/calendar/events', { event })\n    // \t\t\t.then(response => resolve(response))\n    // \t\t\t.catch(error => reject(error));\n    // \t});\n    // },\n    // updateEvent(ctx, { event }) {\n    // \treturn new Promise((resolve, reject) => {\n    // \t\taxios\n    // \t\t\t.post(`/apps/calendar/events/${event.id}`, { event })\n    // \t\t\t.then(response => resolve(response))\n    // \t\t\t.catch(error => reject(error));\n    // \t});\n    // },\n    // removeEvent(ctx, { id }) {\n    // \treturn new Promise((resolve, reject) => {\n    // \t\taxios\n    // \t\t\t.delete(`/apps/calendar/events/${id}`)\n    // \t\t\t.then(response => resolve(response))\n    // \t\t\t.catch(error => reject(error));\n    // \t});\n    // },\n  },\n};\n"],"sourceRoot":""}